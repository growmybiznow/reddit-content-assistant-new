(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function r0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vd={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function ZA(){if(d_)return hl;d_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=n,hl.jsxs=n,hl}var m_;function JA(){return m_||(m_=1,vd.exports=ZA()),vd.exports}var it=JA(),Ed={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function WA(){if(g_)return wt;g_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),I=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=I&&N[I]||N["@@iterator"],typeof N=="function"?N:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,et={};function Z(N,X,nt){this.props=N,this.context=X,this.refs=et,this.updater=nt||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},Z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function _t(){}_t.prototype=Z.prototype;function ut(N,X,nt){this.props=N,this.context=X,this.refs=et,this.updater=nt||H}var ct=ut.prototype=new _t;ct.constructor=ut,$(ct,Z.prototype),ct.isPureReactComponent=!0;var Ot=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Vt=Object.prototype.hasOwnProperty;function M(N,X,nt,J,ft,Dt){return nt=Dt.ref,{$$typeof:r,type:N,key:X,ref:nt!==void 0?nt:null,props:Dt}}function S(N,X){return M(N.type,X,void 0,void 0,void 0,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function V(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(nt){return X[nt]})}var x=/\/+/g;function w(N,X){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):X.toString(36)}function b(){}function St(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(b,b):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Tt(N,X,nt,J,ft){var Dt=typeof N;(Dt==="undefined"||Dt==="boolean")&&(N=null);var Et=!1;if(N===null)Et=!0;else switch(Dt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(N.$$typeof){case r:case t:Et=!0;break;case T:return Et=N._init,Tt(Et(N._payload),X,nt,J,ft)}}if(Et)return ft=ft(N),Et=J===""?"."+w(N,0):J,Ot(ft)?(nt="",Et!=null&&(nt=Et.replace(x,"$&/")+"/"),Tt(ft,X,nt,"",function(jn){return jn})):ft!=null&&(D(ft)&&(ft=S(ft,nt+(ft.key==null||N&&N.key===ft.key?"":(""+ft.key).replace(x,"$&/")+"/")+Et)),X.push(ft)),1;Et=0;var Ce=J===""?".":J+":";if(Ot(N))for(var Wt=0;Wt<N.length;Wt++)J=N[Wt],Dt=Ce+w(J,Wt),Et+=Tt(J,X,nt,Dt,ft);else if(Wt=C(N),typeof Wt=="function")for(N=Wt.call(N),Wt=0;!(J=N.next()).done;)J=J.value,Dt=Ce+w(J,Wt++),Et+=Tt(J,X,nt,Dt,ft);else if(Dt==="object"){if(typeof N.then=="function")return Tt(St(N),X,nt,J,ft);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Et}function j(N,X,nt){if(N==null)return N;var J=[],ft=0;return Tt(N,J,"","",function(Dt){return X.call(nt,Dt,ft++)}),J}function tt(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(nt){(N._status===0||N._status===-1)&&(N._status=1,N._result=nt)},function(nt){(N._status===0||N._status===-1)&&(N._status=2,N._result=nt)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var at=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Rt(){}return wt.Children={map:j,forEach:function(N,X,nt){j(N,function(){X.apply(this,arguments)},nt)},count:function(N){var X=0;return j(N,function(){X++}),X},toArray:function(N){return j(N,function(X){return X})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},wt.Component=Z,wt.Fragment=n,wt.Profiler=l,wt.PureComponent=ut,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return pt.H.useMemoCache(N)}},wt.cache=function(N){return function(){return N.apply(null,arguments)}},wt.cloneElement=function(N,X,nt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var J=$({},N.props),ft=N.key,Dt=void 0;if(X!=null)for(Et in X.ref!==void 0&&(Dt=void 0),X.key!==void 0&&(ft=""+X.key),X)!Vt.call(X,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&X.ref===void 0||(J[Et]=X[Et]);var Et=arguments.length-2;if(Et===1)J.children=nt;else if(1<Et){for(var Ce=Array(Et),Wt=0;Wt<Et;Wt++)Ce[Wt]=arguments[Wt+2];J.children=Ce}return M(N.type,ft,void 0,void 0,Dt,J)},wt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},wt.createElement=function(N,X,nt){var J,ft={},Dt=null;if(X!=null)for(J in X.key!==void 0&&(Dt=""+X.key),X)Vt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ft[J]=X[J]);var Et=arguments.length-2;if(Et===1)ft.children=nt;else if(1<Et){for(var Ce=Array(Et),Wt=0;Wt<Et;Wt++)Ce[Wt]=arguments[Wt+2];ft.children=Ce}if(N&&N.defaultProps)for(J in Et=N.defaultProps,Et)ft[J]===void 0&&(ft[J]=Et[J]);return M(N,Dt,void 0,void 0,null,ft)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(N){return{$$typeof:g,render:N}},wt.isValidElement=D,wt.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:tt}},wt.memo=function(N,X){return{$$typeof:_,type:N,compare:X===void 0?null:X}},wt.startTransition=function(N){var X=pt.T,nt={};pt.T=nt;try{var J=N(),ft=pt.S;ft!==null&&ft(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Rt,at)}catch(Dt){at(Dt)}finally{pt.T=X}},wt.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},wt.use=function(N){return pt.H.use(N)},wt.useActionState=function(N,X,nt){return pt.H.useActionState(N,X,nt)},wt.useCallback=function(N,X){return pt.H.useCallback(N,X)},wt.useContext=function(N){return pt.H.useContext(N)},wt.useDebugValue=function(){},wt.useDeferredValue=function(N,X){return pt.H.useDeferredValue(N,X)},wt.useEffect=function(N,X,nt){var J=pt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(N,X)},wt.useId=function(){return pt.H.useId()},wt.useImperativeHandle=function(N,X,nt){return pt.H.useImperativeHandle(N,X,nt)},wt.useInsertionEffect=function(N,X){return pt.H.useInsertionEffect(N,X)},wt.useLayoutEffect=function(N,X){return pt.H.useLayoutEffect(N,X)},wt.useMemo=function(N,X){return pt.H.useMemo(N,X)},wt.useOptimistic=function(N,X){return pt.H.useOptimistic(N,X)},wt.useReducer=function(N,X,nt){return pt.H.useReducer(N,X,nt)},wt.useRef=function(N){return pt.H.useRef(N)},wt.useState=function(N){return pt.H.useState(N)},wt.useSyncExternalStore=function(N,X,nt){return pt.H.useSyncExternalStore(N,X,nt)},wt.useTransition=function(){return pt.H.useTransition()},wt.version="19.1.0",wt}var p_;function hm(){return p_||(p_=1,Ed.exports=WA()),Ed.exports}var pn=hm();const tb=r0(pn);var Td={exports:{}},fl={},Ad={exports:{}},bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function eb(){return y_||(y_=1,function(r){function t(j,tt){var at=j.length;j.push(tt);t:for(;0<at;){var Rt=at-1>>>1,N=j[Rt];if(0<l(N,tt))j[Rt]=tt,j[at]=N,at=Rt;else break t}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var tt=j[0],at=j.pop();if(at!==tt){j[0]=at;t:for(var Rt=0,N=j.length,X=N>>>1;Rt<X;){var nt=2*(Rt+1)-1,J=j[nt],ft=nt+1,Dt=j[ft];if(0>l(J,at))ft<N&&0>l(Dt,J)?(j[Rt]=Dt,j[ft]=at,Rt=ft):(j[Rt]=J,j[nt]=at,Rt=nt);else if(ft<N&&0>l(Dt,at))j[Rt]=Dt,j[ft]=at,Rt=ft;else break t}}return tt}function l(j,tt){var at=j.sortIndex-tt.sortIndex;return at!==0?at:j.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],T=1,I=null,C=3,H=!1,$=!1,et=!1,Z=!1,_t=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Ot(j){for(var tt=n(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=j)s(_),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=n(_)}}function pt(j){if(et=!1,Ot(j),!$)if(n(p)!==null)$=!0,Vt||(Vt=!0,w());else{var tt=n(_);tt!==null&&Tt(pt,tt.startTime-j)}}var Vt=!1,M=-1,S=5,D=-1;function V(){return Z?!0:!(r.unstable_now()-D<S)}function x(){if(Z=!1,Vt){var j=r.unstable_now();D=j;var tt=!0;try{t:{$=!1,et&&(et=!1,ut(M),M=-1),H=!0;var at=C;try{e:{for(Ot(j),I=n(p);I!==null&&!(I.expirationTime>j&&V());){var Rt=I.callback;if(typeof Rt=="function"){I.callback=null,C=I.priorityLevel;var N=Rt(I.expirationTime<=j);if(j=r.unstable_now(),typeof N=="function"){I.callback=N,Ot(j),tt=!0;break e}I===n(p)&&s(p),Ot(j)}else s(p);I=n(p)}if(I!==null)tt=!0;else{var X=n(_);X!==null&&Tt(pt,X.startTime-j),tt=!1}}break t}finally{I=null,C=at,H=!1}tt=void 0}}finally{tt?w():Vt=!1}}}var w;if(typeof ct=="function")w=function(){ct(x)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,St=b.port2;b.port1.onmessage=x,w=function(){St.postMessage(null)}}else w=function(){_t(x,0)};function Tt(j,tt){M=_t(function(){j(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(j){switch(C){case 1:case 2:case 3:var tt=3;break;default:tt=C}var at=C;C=tt;try{return j()}finally{C=at}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var at=C;C=j;try{return tt()}finally{C=at}},r.unstable_scheduleCallback=function(j,tt,at){var Rt=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Rt+at:Rt):at=Rt,j){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=at+N,j={id:T++,callback:tt,priorityLevel:j,startTime:at,expirationTime:N,sortIndex:-1},at>Rt?(j.sortIndex=at,t(_,j),n(p)===null&&j===n(_)&&(et?(ut(M),M=-1):et=!0,Tt(pt,at-Rt))):(j.sortIndex=N,t(p,j),$||H||($=!0,Vt||(Vt=!0,w()))),j},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(j){var tt=C;return function(){var at=C;C=tt;try{return j.apply(this,arguments)}finally{C=at}}}}(bd)),bd}var __;function nb(){return __||(__=1,Ad.exports=eb()),Ad.exports}var Sd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function ib(){if(v_)return Qe;v_=1;var r=hm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,T)},Qe.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Qe.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qe.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,I=g(T,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:C,fetchPriority:H}):T==="script"&&s.d.X(p,{crossOrigin:I,integrity:C,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Qe.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,I=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Qe.requestFormReset=function(p){s.d.r(p)},Qe.unstable_batchedUpdates=function(p,_){return p(_)},Qe.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var E_;function rb(){if(E_)return Sd.exports;E_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Sd.exports=ib(),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function sb(){if(T_)return fl;T_=1;var r=nb(),t=hm(),n=rb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,I=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),_t=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function w(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var b=Symbol.for("react.client.reference");function St(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case et:return"StrictMode";case pt:return"Suspense";case Vt:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case ut:return(e._context.displayName||"Context")+".Consumer";case Ot:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:St(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return St(e(i))}catch{}}return null}var Tt=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Rt=[],N=-1;function X(e){return{current:e}}function nt(e){0>N||(e.current=Rt[N],Rt[N]=null,N--)}function J(e,i){N++,Rt[N]=e.current,e.current=i}var ft=X(null),Dt=X(null),Et=X(null),Ce=X(null);function Wt(e,i){switch(J(Et,i),J(Dt,e),J(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?jy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=jy(i),e=qy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ft),J(ft,e)}function jn(){nt(ft),nt(Dt),nt(Et)}function Xi(e){e.memoizedState!==null&&J(Ce,e);var i=ft.current,a=qy(i,e.type);i!==a&&(J(Dt,e),J(ft,a))}function di(e){Dt.current===e&&(nt(ft),nt(Dt)),Ce.current===e&&(nt(Ce),al._currentValue=at)}var Gr=Object.prototype.hasOwnProperty,Fr=r.unstable_scheduleCallback,Qr=r.unstable_cancelCallback,no=r.unstable_shouldYield,Ql=r.unstable_requestPaint,_n=r.unstable_now,_h=r.unstable_getCurrentPriorityLevel,io=r.unstable_ImmediatePriority,zs=r.unstable_UserBlockingPriority,Kr=r.unstable_NormalPriority,vh=r.unstable_LowPriority,Bs=r.unstable_IdlePriority,ro=r.log,Kl=r.unstable_setDisableYieldValue,oe=null,Ft=null;function on(e){if(typeof ro=="function"&&Kl(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(oe,e)}catch{}}var Ge=Math.clz32?Math.clz32:Yr,Yl=Math.log,Eh=Math.LN2;function Yr(e){return e>>>=0,e===0?32:31-(Yl(e)/Eh|0)|0}var Xr=256,$r=4194304;function Mn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function js(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=Mn(o):(v&=E,v!==0?h=Mn(v):a||(a=E&~e,a!==0&&(h=Mn(a))))):(E=o&~d,E!==0?h=Mn(E):v!==0?h=Mn(v):a||(a=o&~e,a!==0&&(h=Mn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Zr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function so(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var e=Xr;return Xr<<=1,(Xr&4194048)===0&&(Xr=256),e}function oo(){var e=$r;return $r<<=1,($r&62914560)===0&&($r=4194304),e}function mi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lo(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Ge(a),Q=1<<G;E[G]=0,R[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~Q}o!==0&&qn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ge(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function uo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Ge(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function $i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function Xl(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var ie=Math.random().toString(36).slice(2),Ae="__reactFiber$"+ie,me="__reactProps$"+ie,vn="__reactContainer$"+ie,co="__reactEvents$"+ie,Th="__reactListeners$"+ie,Ji="__reactHandles$"+ie,$l="__reactResources$"+ie,Jr="__reactMarker$"+ie;function Wi(e){delete e[Ae],delete e[me],delete e[co],delete e[Th],delete e[Ji]}function pi(e){var i=e[Ae];if(i)return i;for(var a=e.parentNode;a;){if(i=a[vn]||a[Ae]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Qy(e);e!==null;){if(a=e[Ae])return a;e=Qy(e)}return i}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[Ae]||e[vn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ze(e){var i=e[$l];return i||(i=e[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ce(e){e[Jr]=!0}var ho=new Set,Hs={};function xn(e,i){yi(e,i),yi(e+"Capture",i)}function yi(e,i){for(Hs[e]=i,e=0;e<i.length;e++)ho.add(i[e])}var Zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jl={},Wr={};function Wl(e){return Gr.call(Wr,e)?!0:Gr.call(Jl,e)?!1:Zl.test(e)?Wr[e]=!0:(Jl[e]=!0,!1)}function tr(e,i,a){if(Wl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Fn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Pe(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var ts,tu;function _i(e){if(ts===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ts=i&&i[1]||"",tu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ts+e+tu}var Gs=!1;function Fs(e,i){if(!e||Gs)return"";Gs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var R=v.split(`
`),L=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===L.length)for(o=R.length-1,h=L.length-1;1<=o&&0<=h&&R[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==L[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Gs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?_i(a):""}function fo(e){switch(e.tag){case 26:case 27:case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Fs(e.type,!1);case 11:return Fs(e.type.render,!1);case 1:return Fs(e.type,!0);case 31:return _i("Activity");default:return""}}function Qs(e){try{var i="";do i+=fo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ah(e){var i=mo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ks(e){e._valueTracker||(e._valueTracker=Ah(e))}function go(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=mo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bh=/[\n"\\]/g;function ge(e){return e.replace(bh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(e,i,a,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Je(i)):e.value!==""+Je(i)&&(e.value=""+Je(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?er(e,v,Je(i)):a!=null?er(e,v,Je(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Je(E):e.removeAttribute("name")}function ns(e,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Je(a):"",i=i!=null?""+Je(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function er(e,i,a){i==="number"&&es(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Yt(e,i,a){if(i!=null&&(i=""+Je(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Je(a):""}function is(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Tt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Je(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function En(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||rs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function po(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&eu(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&eu(e,d,i[d])}function yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(e){return wh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ei=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Ai=null;function _o(e){var i=Hn(e);if(i&&(e=i.stateNode)){var a=e[me]||null;t:switch(e=i.stateNode,i.type){case"input":if(ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[me]||null;if(!h)throw Error(s(90));ln(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&go(o)}break t;case"textarea":Yt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&vi(e,!!a.multiple,i,!1)}}}var Qn=!1;function nu(e,i,a){if(Qn)return e(i,a);Qn=!0;try{var o=e(i);return o}finally{if(Qn=!1,(Ti!==null||Ai!==null)&&(Xu(),Ti&&(i=Ti,e=Ai,Ai=Ti=null,_o(i),e)))for(i=0;i<e.length;i++)_o(e[i])}}function ss(e,i){var a=e.stateNode;if(a===null)return null;var o=a[me]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Pn)try{var as={};Object.defineProperty(as,"passive",{get:function(){An=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{An=!1}var Kn=null,nr=null,bi=null;function vo(){if(bi)return bi;var e,i=nr,a=i.length,o,h="value"in Kn?Kn.value:Kn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return bi=h.slice(e,1<o?1-o:void 0)}function Yn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function Eo(){return!1}function De(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:Eo,this.isPropagationStopped=Eo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=De(Ht),os=T({},Ht,{view:0,detail:0}),iu=De(os),$s,Zs,$n,ls=T({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?($s=e.screenX-$n.screenX,Zs=e.screenY-$n.screenY):Zs=$s=0,$n=e),$s)},movementY:function(e){return"movementY"in e?e.movementY:Zs}}),bn=De(ls),ru=T({},ls,{dataTransfer:0}),Rh=De(ru),us=T({},os,{relatedTarget:0}),Js=De(us),To=T({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ws=De(To),su=T({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ta=De(su),Ih=T({},Ht,{data:0}),Ao=De(Ih),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ou[e])?!!i[e]:!1}function hs(){return bo}var lu=T({},os,{key:function(e){if(e.key){var i=cs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ea=De(lu),uu=T({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=De(uu),Si=T({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),cu=De(Si),hu=T({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),fu=De(hu),du=T({},ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),na=De(du),We=T({},Ht,{newState:0,oldState:0}),mu=De(We),gu=[9,13,27,32],Zn=Pn&&"CompositionEvent"in window,u=null;Pn&&"documentMode"in document&&(u=document.documentMode);var m=Pn&&"TextEvent"in window&&!u,y=Pn&&(!Zn||u&&8<u&&11>=u),A=" ",k=!1;function q(e,i){switch(e){case"keyup":return gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function be(e,i){switch(e){case"compositionend":return W(i);case"keypress":return i.which!==32?null:(k=!0,A);case"textInput":return e=i.data,e===A&&k?null:e;default:return null}}function Lt(e,i){if(Ut)return e==="compositionend"||!Zn&&q(e,i)?(e=vo(),bi=nr=Kn=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function wi(e,i,a,o){Ti?Ai?Ai.push(o):Ai=[o]:Ti=o,i=ec(i,"onChange"),0<i.length&&(a=new Xs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var ke=null,Jn=null;function wo(e){ky(e,0)}function pu(e){var i=Gn(e);if(go(i))return e}function ig(e,i){if(e==="change")return i}var rg=!1;if(Pn){var Ch;if(Pn){var Dh="oninput"in document;if(!Dh){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),Dh=typeof sg.oninput=="function"}Ch=Dh}else Ch=!1;rg=Ch&&(!document.documentMode||9<document.documentMode)}function ag(){ke&&(ke.detachEvent("onpropertychange",og),Jn=ke=null)}function og(e){if(e.propertyName==="value"&&pu(Jn)){var i=[];wi(i,Jn,e,Tn(e)),nu(wo,i)}}function IT(e,i,a){e==="focusin"?(ag(),ke=i,Jn=a,ke.attachEvent("onpropertychange",og)):e==="focusout"&&ag()}function CT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Jn)}function DT(e,i){if(e==="click")return pu(i)}function NT(e,i){if(e==="input"||e==="change")return pu(i)}function OT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var un=typeof Object.is=="function"?Object.is:OT;function Ro(e,i){if(un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Gr.call(i,h)||!un(e[h],i[h]))return!1}return!0}function lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ug(e,i){var a=lg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=lg(a)}}function cg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?cg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function hg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=es(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=es(e.document)}return i}function Nh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var VT=Pn&&"documentMode"in document&&11>=document.documentMode,ia=null,Oh=null,Io=null,Vh=!1;function fg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vh||ia==null||ia!==es(o)||(o=ia,"selectionStart"in o&&Nh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&Ro(Io,o)||(Io=o,o=ec(Oh,"onSelect"),0<o.length&&(i=new Xs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ia)))}function fs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ra={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Mh={},dg={};Pn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function ds(e){if(Mh[e])return Mh[e];if(!ra[e])return e;var i=ra[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in dg)return Mh[e]=i[a];return e}var mg=ds("animationend"),gg=ds("animationiteration"),pg=ds("animationstart"),MT=ds("transitionrun"),xT=ds("transitionstart"),PT=ds("transitioncancel"),yg=ds("transitionend"),_g=new Map,xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xh.push("scrollEnd");function kn(e,i){_g.set(e,i),xn(i,[e])}var vg=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=vg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Qs(i)},vg.set(e,i),i)}return{value:e,source:i,stack:Qs(i)}}var wn=[],sa=0,Ph=0;function yu(){for(var e=sa,i=Ph=sa=0;i<e;){var a=wn[i];wn[i++]=null;var o=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Eg(a,h,d)}}function _u(e,i,a,o){wn[sa++]=e,wn[sa++]=i,wn[sa++]=a,wn[sa++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function kh(e,i,a,o){return _u(e,i,a,o),vu(e)}function aa(e,i){return _u(e,null,null,i),vu(e)}function Eg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ge(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function vu(e){if(50<Jo)throw Jo=0,Hf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var oa={};function kT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,i,a,o){return new kT(e,i,a,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ri(e,i){var a=e.alternate;return a===null?(a=cn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Tg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Eu(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")Uh(e)&&(v=1);else if(typeof e=="string")v=LA(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=cn(31,a,i,h),e.elementType=D,e.lanes=d,e;case $:return ms(a.children,h,d,i);case et:v=8,h|=24;break;case Z:return e=cn(12,a,i,h|2),e.elementType=Z,e.lanes=d,e;case pt:return e=cn(13,a,i,h),e.elementType=pt,e.lanes=d,e;case Vt:return e=cn(19,a,i,h),e.elementType=Vt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:case ct:v=10;break t;case ut:v=9;break t;case Ot:v=11;break t;case M:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=cn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function ms(e,i,a,o){return e=cn(7,e,o,i),e.lanes=a,e}function Lh(e,i,a){return e=cn(6,e,null,i),e.lanes=a,e}function zh(e,i,a){return i=cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var la=[],ua=0,Tu=null,Au=0,Rn=[],In=0,gs=null,Ii=1,Ci="";function ps(e,i){la[ua++]=Au,la[ua++]=Tu,Tu=e,Au=i}function Ag(e,i,a){Rn[In++]=Ii,Rn[In++]=Ci,Rn[In++]=gs,gs=e;var o=Ii;e=Ci;var h=32-Ge(o)-1;o&=~(1<<h),a+=1;var d=32-Ge(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ii=1<<32-Ge(i)+h|a<<h|o,Ci=d+e}else Ii=1<<d|a<<h|o,Ci=e}function Bh(e){e.return!==null&&(ps(e,1),Ag(e,1,0))}function jh(e){for(;e===Tu;)Tu=la[--ua],la[ua]=null,Au=la[--ua],la[ua]=null;for(;e===gs;)gs=Rn[--In],Rn[In]=null,Ci=Rn[--In],Rn[In]=null,Ii=Rn[--In],Rn[In]=null}var tn=null,le=null,qt=!1,ys=null,Wn=!1,qh=Error(s(519));function _s(e){var i=Error(s(418,""));throw No(Sn(i,e)),qh}function bg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ae]=e,i[me]=o,a){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(a=0;a<tl.length;a++)xt(tl[a],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),ns(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ks(i);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),is(i,o.value,o.defaultValue,o.children),Ks(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||By(i.textContent,a)?(o.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),o.onScroll!=null&&xt("scroll",i),o.onScrollEnd!=null&&xt("scrollend",i),o.onClick!=null&&(i.onclick=nc),i=!0):i=!1,i||_s(e)}function Sg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function Co(e){if(e!==tn)return!1;if(!qt)return Sg(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||sd(e.type,e.memoizedProps)),a=!a),a&&le&&_s(e),Sg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){le=Ln(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}le=null}}else i===27?(i=le,_r(e.type)?(e=ud,ud=null,le=e):le=i):le=tn?Ln(e.stateNode.nextSibling):null;return!0}function Do(){le=tn=null,qt=!1}function wg(){var e=ys;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),ys=null),e}function No(e){ys===null?ys=[e]:ys.push(e)}var Hh=X(null),vs=null,Di=null;function ir(e,i,a){J(Hh,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=Hh.current,nt(Hh)}function Gh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Fh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Gh(d.return,a,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Gh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Oo(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;un(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ce.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&Fh(i,e,a,o),i.flags|=262144}function bu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){vs=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Rg(vs,e)}function Su(e,i){return vs===null&&Es(e),Rg(e,i)}function Rg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Di===null){if(e===null)throw Error(s(308));Di=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Di=Di.next=i;return a}var UT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},LT=r.unstable_scheduleCallback,zT=r.unstable_NormalPriority,we={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new UT,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&LT(zT,function(){e.controller.abort()})}var Mo=null,Kh=0,ca=0,ha=null;function BT(e,i){if(Mo===null){var a=Mo=[];Kh=0,ca=$f(),ha={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Kh++,i.then(Ig,Ig),i}function Ig(){if(--Kh===0&&Mo!==null){ha!==null&&(ha.status="fulfilled");var e=Mo;Mo=null,ca=0,ha=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function jT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Cg=j.S;j.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&BT(e,i),Cg!==null&&Cg(e,i)};var Ts=X(null);function Yh(){var e=Ts.current;return e!==null?e:te.pooledCache}function wu(e,i){i===null?J(Ts,Ts.current):J(Ts,i.pool)}function Dg(){var e=Yh();return e===null?null:{parent:we._currentValue,pool:e}}var xo=Error(s(460)),Ng=Error(s(474)),Ru=Error(s(542)),Xh={then:function(){}};function Og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Iu(){}function Vg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Iu,Iu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,xg(e),e;default:if(typeof i.status=="string")i.then(Iu,Iu);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,xg(e),e}throw Po=i,xo}}var Po=null;function Mg(){if(Po===null)throw Error(s(459));var e=Po;return Po=null,e}function xg(e){if(e===xo||e===Ru)throw Error(s(483))}var rr=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ar(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=vu(e),Eg(e,null,a),i}return _u(e,o,i,a),vu(e)}function ko(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,uo(e,a)}}function Jh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Wh=!1;function Uo(){if(Wh){var e=ha;if(e!==null)throw e}}function Lo(e,i,a,o){Wh=!1;var h=e.updateQueue;rr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,L=R.next;R.next=null,v===null?d=L:v.next=L,v=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=R))}if(d!==null){var Q=h.baseState;v=0,G=L=R=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(zt&z)===z:(o&z)===z){z!==0&&z===ca&&(Wh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=e,dt=E;z=i;var Zt=a;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){Q=yt.call(Zt,Q,z);break t}Q=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,z=typeof yt=="function"?yt.call(Zt,Q,z):yt,z==null)break t;Q=T({},Q,z);break t;case 2:rr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,R=Q):G=G.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=L,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),mr|=v,e.lanes=v,e.memoizedState=Q}}function Pg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function kg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Pg(a[e],i)}var fa=X(null),Cu=X(0);function Ug(e,i){e=Ui,J(Cu,e),J(fa,i),Ui=e|i.baseLanes}function tf(){J(Cu,Ui),J(fa,fa.current)}function ef(){Ui=Cu.current,nt(fa),nt(Cu)}var or=0,It=null,Xt=null,pe=null,Du=!1,da=!1,As=!1,Nu=0,zo=0,ma=null,qT=0;function he(){throw Error(s(321))}function nf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!un(e[a],i[a]))return!1;return!0}function rf(e,i,a,o,h,d){return or=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,j.H=e===null||e.memoizedState===null?Ep:Tp,As=!1,d=a(o,h),As=!1,da&&(d=zg(i,a,o,h)),Lg(e),d}function Lg(e){j.H=ku;var i=Xt!==null&&Xt.next!==null;if(or=0,pe=Xt=It=null,Du=!1,zo=0,ma=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&bu(e)&&(Oe=!0))}function zg(e,i,a,o){It=e;var h=0;do{if(da&&(ma=null),zo=0,da=!1,25<=h)throw Error(s(301));if(h+=1,pe=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}j.H=XT,d=i(a,o)}while(da);return d}function HT(){var e=j.H,i=e.useState()[0];return i=typeof i.then=="function"?Bo(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(It.flags|=1024),i}function sf(){var e=Nu!==0;return Nu=0,e}function af(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function of(e){if(Du){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Du=!1}or=0,pe=Xt=It=null,da=!1,zo=Nu=0,ma=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?It.memoizedState=pe=e:pe=pe.next=e,pe}function ye(){if(Xt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=pe===null?It.memoizedState:pe.next;if(i!==null)pe=i,Xt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},pe===null?It.memoizedState=pe=e:pe=pe.next=e}return pe}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(e){var i=zo;return zo+=1,ma===null&&(ma=[]),e=Vg(ma,e,i),i=It,(pe===null?i.memoizedState:pe.next)===null&&(i=i.alternate,j.H=i===null||i.memoizedState===null?Ep:Tp),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===ct)return Fe(e)}throw Error(s(438,String(e)))}function uf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lf(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Oi(e,i){return typeof i=="function"?i(e):i}function Vu(e){var i=ye();return cf(i,Xt,e)}function cf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,R=null,L=i,G=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(zt&Q)===Q:(or&Q)===Q){var z=L.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===ca&&(G=!0);else if((or&z)===z){L=L.next,z===ca&&(G=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=Q,v=d):R=R.next=Q,It.lanes|=z,mr|=z;Q=L.action,As&&a(d,Q),d=L.hasEagerState?L.eagerState:a(d,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=z,v=d):R=R.next=z,It.lanes|=Q,mr|=Q;L=L.next}while(L!==null&&L!==i);if(R===null?v=d:R.next=E,!un(d,e.memoizedState)&&(Oe=!0,G&&(a=ha,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=R,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function hf(e){var i=ye(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Bg(e,i,a){var o=It,h=ye(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Xt||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var E=Hg.bind(null,o,h,e);if(jo(2048,8,E,[e]),h.getSnapshot!==i||v||pe!==null&&pe.memoizedState.tag&1){if(o.flags|=2048,ga(9,Mu(),qg.bind(null,o,h,a,i),null),te===null)throw Error(s(349));d||(or&124)!==0||jg(o,i,a)}return a}function jg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=lf(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function qg(e,i,a,o){i.value=a,i.getSnapshot=o,Gg(i)&&Fg(e)}function Hg(e,i,a){return a(function(){Gg(i)&&Fg(e)})}function Gg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!un(e,a)}catch{return!0}}function Fg(e){var i=aa(e,2);i!==null&&gn(i,e,2)}function ff(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),As){on(!0);try{a()}finally{on(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},i}function Qg(e,i,a,o){return e.baseState=a,cf(e,Xt,typeof o=="function"?o:Oi)}function GT(e,i,a,o,h){if(Pu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};j.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Kg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Kg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=j.T,v={};j.T=v;try{var E=a(h,o),R=j.S;R!==null&&R(v,E),Yg(e,i,E)}catch(L){df(e,i,L)}finally{j.T=d}}else try{d=a(h,o),Yg(e,i,d)}catch(L){df(e,i,L)}}function Yg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Xg(e,i,o)},function(o){return df(e,i,o)}):Xg(e,i,a)}function Xg(e,i,a){i.status="fulfilled",i.value=a,$g(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Kg(e,a)))}function df(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,$g(i),i=i.next;while(i!==o)}e.action=null}function $g(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Zg(e,i){return i}function Jg(e,i){if(qt){var a=te.formState;if(a!==null){t:{var o=It;if(qt){if(le){e:{for(var h=le,d=Wn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){le=Ln(h.nextSibling),o=h.data==="F!";break t}}_s(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:i},a.queue=o,a=yp.bind(null,It,o),o.dispatch=a,o=ff(!1),d=_f.bind(null,It,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=GT.bind(null,It,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Wg(e){var i=ye();return tp(i,Xt,e)}function tp(e,i,a){if(i=cf(e,i,Zg)[0],e=Vu(Oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Bo(i)}catch(v){throw v===xo?Ru:v}else o=i;i=ye();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,ga(9,Mu(),FT.bind(null,h,a),null)),[o,d,e]}function FT(e,i){e.action=i}function ep(e){var i=ye(),a=Xt;if(a!==null)return tp(i,a,e);ye(),i=i.memoizedState,a=ye();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function ga(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=It.updateQueue,i===null&&(i=lf(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Mu(){return{destroy:void 0,resource:void 0}}function np(){return ye().memoizedState}function xu(e,i,a,o){var h=en();o=o===void 0?null:o,It.flags|=e,h.memoizedState=ga(1|i,Mu(),a,o)}function jo(e,i,a,o){var h=ye();o=o===void 0?null:o;var d=h.memoizedState.inst;Xt!==null&&o!==null&&nf(o,Xt.memoizedState.deps)?h.memoizedState=ga(i,d,a,o):(It.flags|=e,h.memoizedState=ga(1|i,d,a,o))}function ip(e,i){xu(8390656,8,e,i)}function rp(e,i){jo(2048,8,e,i)}function sp(e,i){return jo(4,2,e,i)}function ap(e,i){return jo(4,4,e,i)}function op(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function lp(e,i,a){a=a!=null?a.concat([e]):null,jo(4,4,op.bind(null,i,e),a)}function mf(){}function up(e,i){var a=ye();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&nf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function cp(e,i){var a=ye();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&nf(i,o[1]))return o[0];if(o=e(),As){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[o,i],o}function gf(e,i,a){return a===void 0||(or&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=dy(),It.lanes|=e,mr|=e,a)}function hp(e,i,a,o){return un(a,i)?a:fa.current!==null?(e=gf(e,a,o),un(e,i)||(Oe=!0),e):(or&42)===0?(Oe=!0,e.memoizedState=a):(e=dy(),It.lanes|=e,mr|=e,i)}function fp(e,i,a,o,h){var d=tt.p;tt.p=d!==0&&8>d?d:8;var v=j.T,E={};j.T=E,_f(e,!1,i,a);try{var R=h(),L=j.S;if(L!==null&&L(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=jT(R,o);qo(e,i,G,mn(e))}else qo(e,i,o,mn(e))}catch(Q){qo(e,i,{then:function(){},status:"rejected",reason:Q},mn())}finally{tt.p=d,j.T=v}}function QT(){}function pf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=dp(e).queue;fp(e,h,i,at,a===null?QT:function(){return mp(e),a(o)})}function dp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:at},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function mp(e){var i=dp(e).next.queue;qo(e,i,{},mn())}function yf(){return Fe(al)}function gp(){return ye().memoizedState}function pp(){return ye().memoizedState}function KT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();e=sr(a);var o=ar(i,e,a);o!==null&&(gn(o,i,a),ko(o,i,a)),i={cache:Qh()},e.payload=i;return}i=i.return}}function YT(e,i,a){var o=mn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pu(e)?_p(i,a):(a=kh(e,i,a,o),a!==null&&(gn(a,e,o),vp(a,i,o)))}function yp(e,i,a){var o=mn();qo(e,i,a,o)}function qo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))_p(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,un(E,v))return _u(e,i,h,0),te===null&&yu(),!1}catch{}finally{}if(a=kh(e,i,h,o),a!==null)return gn(a,e,o),vp(a,i,o),!0}return!1}function _f(e,i,a,o){if(o={lane:2,revertLane:$f(),action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(i)throw Error(s(479))}else i=kh(e,a,o,2),i!==null&&gn(i,e,2)}function Pu(e){var i=e.alternate;return e===It||i!==null&&i===It}function _p(e,i){da=Du=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function vp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,uo(e,a)}}var ku={readContext:Fe,use:Ou,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Ep={readContext:Fe,use:Ou,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:ip,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,xu(4194308,4,op.bind(null,i,e),a)},useLayoutEffect:function(e,i){return xu(4194308,4,e,i)},useInsertionEffect:function(e,i){xu(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(As){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(As){on(!0);try{a(i)}finally{on(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=YT.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=ff(e);var i=e.queue,a=yp.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:mf,useDeferredValue:function(e,i){var a=en();return gf(a,e,i)},useTransition:function(){var e=ff(!1);return e=fp.bind(null,It,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=It,h=en();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(zt&124)!==0||jg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ip(Hg.bind(null,o,d,e),[e]),o.flags|=2048,ga(9,Mu(),qg.bind(null,o,d,a,i),null),a},useId:function(){var e=en(),i=te.identifierPrefix;if(qt){var a=Ci,o=Ii;a=(o&~(1<<32-Ge(o)-1)).toString(32)+a,i=""+i+"R"+a,a=Nu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=qT++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:yf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_f.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:uf,useCacheRefresh:function(){return en().memoizedState=KT.bind(null,It)}},Tp={readContext:Fe,use:Ou,useCallback:up,useContext:Fe,useEffect:rp,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:Vu,useRef:np,useState:function(){return Vu(Oi)},useDebugValue:mf,useDeferredValue:function(e,i){var a=ye();return hp(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Vu(Oi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:Bg,useId:gp,useHostTransitionStatus:yf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,i){var a=ye();return Qg(a,Xt,e,i)},useMemoCache:uf,useCacheRefresh:pp},XT={readContext:Fe,use:Ou,useCallback:up,useContext:Fe,useEffect:rp,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:hf,useRef:np,useState:function(){return hf(Oi)},useDebugValue:mf,useDeferredValue:function(e,i){var a=ye();return Xt===null?gf(a,e,i):hp(a,Xt.memoizedState,e,i)},useTransition:function(){var e=hf(Oi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:Bg,useId:gp,useHostTransitionStatus:yf,useFormState:ep,useActionState:ep,useOptimistic:function(e,i){var a=ye();return Xt!==null?Qg(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:uf,useCacheRefresh:pp},pa=null,Ho=0;function Uu(e){var i=Ho;return Ho+=1,pa===null&&(pa=[]),Vg(pa,e,i)}function Go(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Lu(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ap(e){var i=e._init;return i(e._payload)}function bp(e){function i(P,O){if(e){var U=P.deletions;U===null?(P.deletions=[O],P.flags|=16):U.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function o(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Ri(P,O),P.index=0,P.sibling=null,P}function d(P,O,U){return P.index=U,e?(U=P.alternate,U!==null?(U=U.index,U<O?(P.flags|=67108866,O):U):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,O,U,F){return O===null||O.tag!==6?(O=Lh(U,P.mode,F),O.return=P,O):(O=h(O,U),O.return=P,O)}function R(P,O,U,F){var ot=U.type;return ot===$?G(P,O,U.props.children,F,U.key):O!==null&&(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Ap(ot)===O.type)?(O=h(O,U.props),Go(O,U),O.return=P,O):(O=Eu(U.type,U.key,U.props,null,P.mode,F),Go(O,U),O.return=P,O)}function L(P,O,U,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=zh(U,P.mode,F),O.return=P,O):(O=h(O,U.children||[]),O.return=P,O)}function G(P,O,U,F,ot){return O===null||O.tag!==7?(O=ms(U,P.mode,F,ot),O.return=P,O):(O=h(O,U),O.return=P,O)}function Q(P,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Lh(""+O,P.mode,U),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return U=Eu(O.type,O.key,O.props,null,P.mode,U),Go(U,O),U.return=P,U;case H:return O=zh(O,P.mode,U),O.return=P,O;case S:var F=O._init;return O=F(O._payload),Q(P,O,U)}if(Tt(O)||w(O))return O=ms(O,P.mode,U,null),O.return=P,O;if(typeof O.then=="function")return Q(P,Uu(O),U);if(O.$$typeof===ct)return Q(P,Su(P,O),U);Lu(P,O)}return null}function z(P,O,U,F){var ot=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ot!==null?null:E(P,O,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return U.key===ot?R(P,O,U,F):null;case H:return U.key===ot?L(P,O,U,F):null;case S:return ot=U._init,U=ot(U._payload),z(P,O,U,F)}if(Tt(U)||w(U))return ot!==null?null:G(P,O,U,F,null);if(typeof U.then=="function")return z(P,O,Uu(U),F);if(U.$$typeof===ct)return z(P,O,Su(P,U),F);Lu(P,U)}return null}function B(P,O,U,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return P=P.get(U)||null,E(O,P,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return P=P.get(F.key===null?U:F.key)||null,R(O,P,F,ot);case H:return P=P.get(F.key===null?U:F.key)||null,L(O,P,F,ot);case S:var Nt=F._init;return F=Nt(F._payload),B(P,O,U,F,ot)}if(Tt(F)||w(F))return P=P.get(U)||null,G(O,P,F,ot,null);if(typeof F.then=="function")return B(P,O,U,Uu(F),ot);if(F.$$typeof===ct)return B(P,O,U,Su(O,F),ot);Lu(O,F)}return null}function yt(P,O,U,F){for(var ot=null,Nt=null,lt=O,mt=O=0,Me=null;lt!==null&&mt<U.length;mt++){lt.index>mt?(Me=lt,lt=null):Me=lt.sibling;var jt=z(P,lt,U[mt],F);if(jt===null){lt===null&&(lt=Me);break}e&&lt&&jt.alternate===null&&i(P,lt),O=d(jt,O,mt),Nt===null?ot=jt:Nt.sibling=jt,Nt=jt,lt=Me}if(mt===U.length)return a(P,lt),qt&&ps(P,mt),ot;if(lt===null){for(;mt<U.length;mt++)lt=Q(P,U[mt],F),lt!==null&&(O=d(lt,O,mt),Nt===null?ot=lt:Nt.sibling=lt,Nt=lt);return qt&&ps(P,mt),ot}for(lt=o(lt);mt<U.length;mt++)Me=B(lt,P,mt,U[mt],F),Me!==null&&(e&&Me.alternate!==null&&lt.delete(Me.key===null?mt:Me.key),O=d(Me,O,mt),Nt===null?ot=Me:Nt.sibling=Me,Nt=Me);return e&&lt.forEach(function(br){return i(P,br)}),qt&&ps(P,mt),ot}function dt(P,O,U,F){if(U==null)throw Error(s(151));for(var ot=null,Nt=null,lt=O,mt=O=0,Me=null,jt=U.next();lt!==null&&!jt.done;mt++,jt=U.next()){lt.index>mt?(Me=lt,lt=null):Me=lt.sibling;var br=z(P,lt,jt.value,F);if(br===null){lt===null&&(lt=Me);break}e&&lt&&br.alternate===null&&i(P,lt),O=d(br,O,mt),Nt===null?ot=br:Nt.sibling=br,Nt=br,lt=Me}if(jt.done)return a(P,lt),qt&&ps(P,mt),ot;if(lt===null){for(;!jt.done;mt++,jt=U.next())jt=Q(P,jt.value,F),jt!==null&&(O=d(jt,O,mt),Nt===null?ot=jt:Nt.sibling=jt,Nt=jt);return qt&&ps(P,mt),ot}for(lt=o(lt);!jt.done;mt++,jt=U.next())jt=B(lt,P,mt,jt.value,F),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?mt:jt.key),O=d(jt,O,mt),Nt===null?ot=jt:Nt.sibling=jt,Nt=jt);return e&&lt.forEach(function($A){return i(P,$A)}),qt&&ps(P,mt),ot}function Zt(P,O,U,F){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case C:t:{for(var ot=U.key;O!==null;){if(O.key===ot){if(ot=U.type,ot===$){if(O.tag===7){a(P,O.sibling),F=h(O,U.props.children),F.return=P,P=F;break t}}else if(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Ap(ot)===O.type){a(P,O.sibling),F=h(O,U.props),Go(F,U),F.return=P,P=F;break t}a(P,O);break}else i(P,O);O=O.sibling}U.type===$?(F=ms(U.props.children,P.mode,F,U.key),F.return=P,P=F):(F=Eu(U.type,U.key,U.props,null,P.mode,F),Go(F,U),F.return=P,P=F)}return v(P);case H:t:{for(ot=U.key;O!==null;){if(O.key===ot)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(P,O.sibling),F=h(O,U.children||[]),F.return=P,P=F;break t}else{a(P,O);break}else i(P,O);O=O.sibling}F=zh(U,P.mode,F),F.return=P,P=F}return v(P);case S:return ot=U._init,U=ot(U._payload),Zt(P,O,U,F)}if(Tt(U))return yt(P,O,U,F);if(w(U)){if(ot=w(U),typeof ot!="function")throw Error(s(150));return U=ot.call(U),dt(P,O,U,F)}if(typeof U.then=="function")return Zt(P,O,Uu(U),F);if(U.$$typeof===ct)return Zt(P,O,Su(P,U),F);Lu(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(P,O.sibling),F=h(O,U),F.return=P,P=F):(a(P,O),F=Lh(U,P.mode,F),F.return=P,P=F),v(P)):a(P,O)}return function(P,O,U,F){try{Ho=0;var ot=Zt(P,O,U,F);return pa=null,ot}catch(lt){if(lt===xo||lt===Ru)throw lt;var Nt=cn(29,lt,null,P.mode);return Nt.lanes=F,Nt.return=P,Nt}finally{}}}var ya=bp(!0),Sp=bp(!1),Cn=X(null),ti=null;function lr(e){var i=e.alternate;J(Re,Re.current&1),J(Cn,e),ti===null&&(i===null||fa.current!==null||i.memoizedState!==null)&&(ti=e)}function wp(e){if(e.tag===22){if(J(Re,Re.current),J(Cn,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else ur()}function ur(){J(Re,Re.current),J(Cn,Cn.current)}function Vi(e){nt(Cn),ti===e&&(ti=null),nt(Re)}var Re=X(0);function zu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ld(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function vf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ef={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=mn(),h=sr(o);h.payload=i,a!=null&&(h.callback=a),i=ar(e,h,o),i!==null&&(gn(i,e,o),ko(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=mn(),h=sr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ar(e,h,o),i!==null&&(gn(i,e,o),ko(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=mn(),o=sr(a);o.tag=2,i!=null&&(o.callback=i),i=ar(e,o,a),i!==null&&(gn(i,e,a),ko(i,e,a))}};function Rp(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ro(a,o)||!Ro(h,d):!0}function Ip(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Ef.enqueueReplaceState(i,i.state,null)}function bs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Cp(e){Bu(e)}function Dp(e){console.error(e)}function Np(e){Bu(e)}function ju(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Op(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(e,i,a){return a=sr(a),a.tag=3,a.payload={element:null},a.callback=function(){ju(e,i)},a}function Vp(e){return e=sr(e),e.tag=3,e}function Mp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Op(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Op(i,a,o),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function $T(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Oo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ti===null?Ff():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Kf(e,o,h)),!1;case 22:return a.flags|=65536,o===Xh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Kf(e,o,h)),!1}throw Error(s(435,a.tag))}return Kf(e,o,h),Ff(),!1}if(qt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==qh&&(e=Error(s(422),{cause:o}),No(Sn(e,a)))):(o!==qh&&(i=Error(s(423),{cause:o}),No(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Sn(o,a),h=Tf(e.stateNode,o,h),Jh(e,h),ue!==4&&(ue=2)),!1;var d=Error(s(520),{cause:o});if(d=Sn(d,a),Zo===null?Zo=[d]:Zo.push(d),ue!==4&&(ue=2),i===null)return!0;o=Sn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Tf(a.stateNode,o,e),Jh(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(gr===null||!gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vp(h),Mp(h,e,a,o),Jh(a,h),!1}a=a.return}while(a!==null);return!1}var xp=Error(s(461)),Oe=!1;function Ue(e,i,a,o){i.child=e===null?Sp(i,null,a,o):ya(i,e.child,a,o)}function Pp(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Es(i),o=rf(e,i,a,v,d,h),E=sf(),e!==null&&!Oe?(af(e,i,h),Mi(e,i,h)):(qt&&E&&Bh(i),i.flags|=1,Ue(e,i,o,h),i.child)}function kp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!Uh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Up(e,i,d,o,h)):(e=Eu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Df(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ro,a(v,o)&&e.ref===i.ref)return Mi(e,i,h)}return i.flags|=1,e=Ri(d,o),e.ref=i.ref,e.return=i,i.child=e}function Up(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Ro(d,o)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=o=d,Df(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Mi(e,i,h)}return Af(e,i,a,o,h)}function Lp(e,i,a){var o=i.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return zp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(i,d!==null?d.cachePool:null),d!==null?Ug(i,d):tf(),wp(i);else return i.lanes=i.childLanes=536870912,zp(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(wu(i,d.cachePool),Ug(i,d),ur(),i.memoizedState=null):(e!==null&&wu(i,null),tf(),ur());return Ue(e,i,h,a),i.child}function zp(e,i,a,o){var h=Yh();return h=h===null?null:{parent:we._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&wu(i,null),tf(),wp(i),e!==null&&Oo(e,i,o,!0),null}function qu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Af(e,i,a,o,h){return Es(i),a=rf(e,i,a,o,void 0,h),o=sf(),e!==null&&!Oe?(af(e,i,h),Mi(e,i,h)):(qt&&o&&Bh(i),i.flags|=1,Ue(e,i,a,h),i.child)}function Bp(e,i,a,o,h,d){return Es(i),i.updateQueue=null,a=zg(i,o,a,h),Lg(e),o=sf(),e!==null&&!Oe?(af(e,i,d),Mi(e,i,d)):(qt&&o&&Bh(i),i.flags|=1,Ue(e,i,a,d),i.child)}function jp(e,i,a,o,h){if(Es(i),i.stateNode===null){var d=oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ef,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},$h(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):oa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vf(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ef.enqueueReplaceState(d,d.state,null),Lo(i,o,d,h),Uo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,R=bs(a,E);d.props=R;var L=d.context,G=a.contextType;v=oa,typeof G=="object"&&G!==null&&(v=Fe(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&Ip(i,d,o,v),rr=!1;var z=i.memoizedState;d.state=z,Lo(i,o,d,h),Uo(),L=i.memoizedState,E||z!==L||rr?(typeof Q=="function"&&(vf(i,a,Q,o),L=i.memoizedState),(R=rr||Rp(i,a,R,o,z,L,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),d.props=o,d.state=L,d.context=v,o=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Zh(e,i),v=i.memoizedProps,G=bs(a,v),d.props=G,Q=i.pendingProps,z=d.context,L=a.contextType,R=oa,typeof L=="object"&&L!==null&&(R=Fe(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||z!==R)&&Ip(i,d,o,R),rr=!1,z=i.memoizedState,d.state=z,Lo(i,o,d,h),Uo();var B=i.memoizedState;v!==Q||z!==B||rr||e!==null&&e.dependencies!==null&&bu(e.dependencies)?(typeof E=="function"&&(vf(i,a,E,o),B=i.memoizedState),(G=rr||Rp(i,a,G,o,z,B,R)||e!==null&&e.dependencies!==null&&bu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,B,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,B,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=R,o=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,qu(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=ya(i,e.child,null,h),i.child=ya(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Mi(e,i,h),e}function qp(e,i,a,o){return Do(),i.flags|=256,Ue(e,i,a,o),i.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(e){return{baseLanes:e,cachePool:Dg()}}function wf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Dn),e}function Hp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?lr(i):ur(),qt){var E=le,R;if(R=E){t:{for(R=E,E=Wn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Ln(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:gs!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},R=cn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,tn=i,le=null,R=!0):R=!1}R||_s(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ld(E)?i.lanes=32:i.lanes=536870912,null;Vi(i)}return E=o.children,o=o.fallback,h?(ur(),h=i.mode,E=Hu({mode:"hidden",children:E},h),o=ms(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Sf(a),h.childLanes=wf(e,v,a),i.memoizedState=bf,o):(lr(i),Rf(i,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(d)i.flags&256?(lr(i),i.flags&=-257,i=If(e,i,a)):i.memoizedState!==null?(ur(),i.child=e.child,i.flags|=128,i=null):(ur(),h=o.fallback,E=i.mode,o=Hu({mode:"visible",children:o.children},E),h=ms(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ya(i,e.child,null,a),o=i.child,o.memoizedState=Sf(a),o.childLanes=wf(e,v,a),i.memoizedState=bf,i=h);else if(lr(i),ld(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,No({value:o,source:null,stack:null}),i=If(e,i,a)}else if(Oe||Oo(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=te,v!==null&&(o=a&-a,o=(o&42)!==0?1:$i(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,aa(e,o),gn(v,e,o),xp;E.data==="$?"||Ff(),i=If(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,le=Ln(E.nextSibling),tn=i,qt=!0,ys=null,Wn=!1,e!==null&&(Rn[In++]=Ii,Rn[In++]=Ci,Rn[In++]=gs,Ii=e.id,Ci=e.overflow,gs=i),i=Rf(i,o.children),i.flags|=4096);return i}return h?(ur(),h=o.fallback,E=i.mode,R=e.child,L=R.sibling,o=Ri(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,L!==null?h=Ri(L,h):(h=ms(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Sf(a):(R=E.cachePool,R!==null?(L=we._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=Dg(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=wf(e,v,a),i.memoizedState=bf,o):(lr(i),a=e.child,e=a.sibling,a=Ri(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Rf(e,i){return i=Hu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Hu(e,i){return e=cn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function If(e,i,a){return ya(i,e.child,null,a),e=Rf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Gp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Gh(e.return,i,a)}function Cf(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Fp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Ue(e,i,o.children,a),o=Re.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gp(e,a,i);else if(e.tag===19)Gp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(Re,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Cf(i,!0,a,null,d);break;case"together":Cf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),mr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Oo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ri(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ri(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Df(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&bu(e)))}function ZT(e,i,a){switch(i.tag){case 3:Wt(i,i.stateNode.containerInfo),ir(i,we,e.memoizedState.cache),Do();break;case 27:case 5:Xi(i);break;case 4:Wt(i,i.stateNode.containerInfo);break;case 10:ir(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Hp(e,i,a):(lr(i),e=Mi(e,i,a),e!==null?e.sibling:null);lr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Oo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Fp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Re,Re.current),o)break;return null;case 22:case 23:return i.lanes=0,Lp(e,i,a);case 24:ir(i,we,e.memoizedState.cache)}return Mi(e,i,a)}function Qp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!Df(e,a)&&(i.flags&128)===0)return Oe=!1,ZT(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,qt&&(i.flags&1048576)!==0&&Ag(i,Au,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Uh(o)?(e=bs(o,e),i.tag=1,i=jp(null,i,o,e,a)):(i.tag=0,i=Af(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Ot){i.tag=11,i=Pp(null,i,o,e,a);break t}else if(h===M){i.tag=14,i=kp(null,i,o,e,a);break t}}throw i=St(o)||o,Error(s(306,i,""))}}return i;case 0:return Af(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=bs(o,i.pendingProps),jp(e,i,o,h,a);case 3:t:{if(Wt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Zh(e,i),Lo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,ir(i,we,o),o!==d.cache&&Fh(i,[we],a,!0),Uo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=qp(e,i,o,a);break t}else if(o!==h){h=Sn(Error(s(424)),i),No(h),i=qp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Ln(e.firstChild),tn=i,qt=!0,ys=null,Wn=!0,a=Sp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Do(),o===h){i=Mi(e,i,a);break t}Ue(e,i,o,a)}i=i.child}return i;case 26:return qu(e,i),e===null?(a=$y(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,o=ic(Et.current).createElement(a),o[Ae]=i,o[me]=e,ze(o,a,e),ce(o),i.stateNode=o):i.memoizedState=$y(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Xi(i),e===null&&qt&&(o=i.stateNode=Ky(i.type,i.pendingProps,Et.current),tn=i,Wn=!0,h=le,_r(i.type)?(ud=h,le=Ln(o.firstChild)):le=h),Ue(e,i,i.pendingProps.children,a),qu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=o=le)&&(o=wA(o,i.type,i.pendingProps,Wn),o!==null?(i.stateNode=o,tn=i,le=Ln(o.firstChild),Wn=!1,h=!0):h=!1),h||_s(i)),Xi(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,sd(h,d)?o=null:v!==null&&sd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=rf(e,i,HT,null,null,a),al._currentValue=h),qu(e,i),Ue(e,i,o,a),i.child;case 6:return e===null&&qt&&((e=a=le)&&(a=RA(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,tn=i,le=null,e=!0):e=!1),e||_s(i)),null;case 13:return Hp(e,i,a);case 4:return Wt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ya(i,null,o,a):Ue(e,i,o,a),i.child;case 11:return Pp(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,ir(i,i.type,o.value),Ue(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Es(i),h=Fe(h),o=o(h),i.flags|=1,Ue(e,i,o,a),i.child;case 14:return kp(e,i,i.type,i.pendingProps,a);case 15:return Up(e,i,i.type,i.pendingProps,a);case 19:return Fp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Hu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ri(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Lp(e,i,a);case 24:return Es(i),o=Fe(we),e===null?(h=Yh(),h===null&&(h=te,d=Qh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},$h(i),ir(i,we,h)):((e.lanes&a)!==0&&(Zh(e,i),Lo(i,null,null,a),Uo()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ir(i,we,o)):(o=d.cache,ir(i,we,o),o!==h.cache&&Fh(i,[we],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function xi(e){e.flags|=4}function Kp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!e_(i)){if(i=Cn.current,i!==null&&((zt&4194048)===zt?ti!==null:(zt&62914560)!==zt&&(zt&536870912)===0||i!==ti))throw Po=Xh,Ng;e.flags|=8192}}function Gu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?oo():536870912,e.lanes|=i,Ta|=i)}function Fo(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function JT(e,i,a){var o=i.pendingProps;switch(jh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ni(we),jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Co(i)?xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wg())),se(i),null;case 26:return a=i.memoizedState,e===null?(xi(i),a!==null?(se(i),Kp(i,a)):(se(i),i.flags&=-16777217)):a?a!==e.memoizedState?(xi(i),se(i),Kp(i,a)):(se(i),i.flags&=-16777217):(e.memoizedProps!==o&&xi(i),se(i),i.flags&=-16777217),null;case 27:di(i),a=Et.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return se(i),null}e=ft.current,Co(i)?bg(i):(e=Ky(h,o,a),i.stateNode=e,xi(i))}return se(i),null;case 5:if(di(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return se(i),null}if(e=ft.current,Co(i))bg(i);else{switch(h=ic(Et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ae]=i,e[me]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&xi(i)}}return se(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&xi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=Et.current,Co(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||By(e.nodeValue,a)),e||_s(i)}else e=ic(e).createTextNode(o),e[Ae]=i,i.stateNode=e}return se(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Co(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ae]=i}else Do(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),h=!1}else h=wg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Gu(i,i.updateQueue),se(i),null;case 4:return jn(),e===null&&td(i.stateNode.containerInfo),se(i),null;case 10:return Ni(i.type),se(i),null;case 19:if(nt(Re),h=i.memoizedState,h===null)return se(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Fo(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=zu(e),d!==null){for(i.flags|=128,Fo(h,!1),e=d.updateQueue,i.updateQueue=e,Gu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Tg(a,e),a=a.sibling;return J(Re,Re.current&1|2),i.child}e=e.sibling}h.tail!==null&&_n()>Ku&&(i.flags|=128,o=!0,Fo(h,!1),i.lanes=4194304)}else{if(!o)if(e=zu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Gu(i,e),Fo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return se(i),null}else 2*_n()-h.renderingStartTime>Ku&&a!==536870912&&(i.flags|=128,o=!0,Fo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,e=Re.current,J(Re,o?e&1|2:e&1),i):(se(i),null);case 22:case 23:return Vi(i),ef(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),a=i.updateQueue,a!==null&&Gu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&nt(Ts),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(we),se(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function WT(e,i){switch(jh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(we),jn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return di(i),null;case 13:if(Vi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Do()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Re),null;case 4:return jn(),null;case 10:return Ni(i.type),null;case 22:case 23:return Vi(i),ef(),e!==null&&nt(Ts),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(we),null;case 25:return null;default:return null}}function Yp(e,i){switch(jh(i),i.tag){case 3:Ni(we),jn();break;case 26:case 27:case 5:di(i);break;case 4:jn();break;case 13:Vi(i);break;case 19:nt(Re);break;case 10:Ni(i.type);break;case 22:case 23:Vi(i),ef(),e!==null&&nt(Ts);break;case 24:Ni(we)}}function Qo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){Jt(i,i.return,E)}}function cr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var R=a,L=E;try{L()}catch(G){Jt(h,R,G)}}}o=o.next}while(o!==d)}}catch(G){Jt(i,i.return,G)}}function Xp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{kg(i,a)}catch(o){Jt(e,e.return,o)}}}function $p(e,i,a){a.props=bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Jt(e,i,o)}}function Ko(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Jt(e,i,h)}}function ei(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,i,h)}else a.current=null}function Zp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function Nf(e,i,a){try{var o=e.stateNode;EA(o,e.type,a,i),o[me]=i}catch(h){Jt(e,e.return,h)}}function Jp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_r(e.type)||e.tag===4}function Of(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Jp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_r(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=nc));else if(o!==4&&(o===27&&_r(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Vf(e,i,a),e=e.sibling;e!==null;)Vf(e,i,a),e=e.sibling}function Fu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&_r(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Fu(e,i,a),e=e.sibling;e!==null;)Fu(e,i,a),e=e.sibling}function Wp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,o,a),i[Ae]=e,i[me]=a}catch(d){Jt(e,e.return,d)}}var Pi=!1,fe=!1,Mf=!1,ty=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function tA(e,i){if(e=e.containerInfo,id=uc,e=hg(e),Nh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,R=-1,L=0,G=0,Q=e,z=null;e:for(;;){for(var B;Q!==a||h!==0&&Q.nodeType!==3||(E=v+h),Q!==d||o!==0&&Q.nodeType!==3||(R=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===a&&++L===h&&(E=v),z===d&&++G===o&&(R=v),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(rd={focusedElem:e,selectionRange:a},uc=!1,Ve=i;Ve!==null;)if(i=Ve,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ve=e;else for(;Ve!==null;){switch(i=Ve,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var yt=bs(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(yt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Jt(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)od(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ve=e;break}Ve=i.return}}function ey(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hr(e,a),o&4&&Qo(5,a);break;case 1:if(hr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Jt(a,a.return,v)}else{var h=bs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Jt(a,a.return,v)}}o&64&&Xp(a),o&512&&Ko(a,a.return);break;case 3:if(hr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{kg(e,i)}catch(v){Jt(a,a.return,v)}}break;case 27:i===null&&o&4&&Wp(a);case 26:case 5:hr(e,a),i===null&&o&4&&Zp(a),o&512&&Ko(a,a.return);break;case 12:hr(e,a);break;case 13:hr(e,a),o&4&&ry(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=uA.bind(null,a),IA(e,a))));break;case 22:if(o=a.memoizedState!==null||Pi,!o){i=i!==null&&i.memoizedState!==null||fe,h=Pi;var d=fe;Pi=o,(fe=i)&&!d?fr(e,a,(a.subtreeFlags&8772)!==0):hr(e,a),Pi=h,fe=d}break;case 30:break;default:hr(e,a)}}function ny(e){var i=e.alternate;i!==null&&(e.alternate=null,ny(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Wi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,nn=!1;function ki(e,i,a){for(a=a.child;a!==null;)iy(e,i,a),a=a.sibling}function iy(e,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:fe||ei(a,i),ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||ei(a,i);var o=re,h=nn;_r(a.type)&&(re=a.stateNode,nn=!1),ki(e,i,a),nl(a.stateNode),re=o,nn=h;break;case 5:fe||ei(a,i);case 6:if(o=re,h=nn,re=null,ki(e,i,a),re=o,nn=h,re!==null)if(nn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(d){Jt(a,i,d)}else try{re.removeChild(a.stateNode)}catch(d){Jt(a,i,d)}break;case 18:re!==null&&(nn?(e=re,Fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),cl(e)):Fy(re,a.stateNode));break;case 4:o=re,h=nn,re=a.stateNode.containerInfo,nn=!0,ki(e,i,a),re=o,nn=h;break;case 0:case 11:case 14:case 15:fe||cr(2,a,i),fe||cr(4,a,i),ki(e,i,a);break;case 1:fe||(ei(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&$p(a,i,o)),ki(e,i,a);break;case 21:ki(e,i,a);break;case 22:fe=(o=fe)||a.memoizedState!==null,ki(e,i,a),fe=o;break;default:ki(e,i,a)}}function ry(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cl(e)}catch(a){Jt(i,i.return,a)}}function eA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ty),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ty),i;default:throw Error(s(435,e.tag))}}function xf(e,i){var a=eA(e);i.forEach(function(o){var h=cA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function hn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(_r(E.type)){re=E.stateNode,nn=!1;break t}break;case 5:re=E.stateNode,nn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(re===null)throw Error(s(160));iy(d,v,h),re=null,nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)sy(i,e),i=i.sibling}var Un=null;function sy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),o&4&&(cr(3,e,e.return),Qo(3,e),cr(5,e,e.return));break;case 1:hn(i,e),fn(e),o&512&&(fe||a===null||ei(a,a.return)),o&64&&Pi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Un;if(hn(i,e),fn(e),o&512&&(fe||a===null||ei(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Jr]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,o,a),d[Ae]=e,ce(d),o=d;break t;case"link":var v=Wy("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),ze(d,o,a),h.head.appendChild(d);break;case"meta":if(v=Wy("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(o),ze(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ae]=e,ce(d),o=d}e.stateNode=o}else t_(h,e.type,e.stateNode);else e.stateNode=Jy(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?t_(h,e.type,e.stateNode):Jy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Nf(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),o&512&&(fe||a===null||ei(a,a.return)),a!==null&&o&4&&Nf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),o&512&&(fe||a===null||ei(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(B){Jt(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Nf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Mf=!0);break;case 6:if(hn(i,e),fn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){Jt(e,e.return,B)}}break;case 3:if(ac=null,h=Un,Un=rc(i.containerInfo),hn(i,e),Un=h,fn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{cl(i.containerInfo)}catch(B){Jt(e,e.return,B)}Mf&&(Mf=!1,ay(e));break;case 4:o=Un,Un=rc(e.stateNode.containerInfo),hn(i,e),fn(e),Un=o;break;case 12:hn(i,e),fn(e);break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bf=_n()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xf(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,L=Pi,G=fe;if(Pi=L||h,fe=G||R,hn(i,e),fe=G,Pi=L,fn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Pi||fe||Ss(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Jt(R,R.return,B)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(B){Jt(R,R.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,xf(e,a))));break;case 19:hn(i,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xf(e,o)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Jp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Of(e);Fu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(En(v,""),a.flags&=-33);var E=Of(e);Fu(e,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,L=Of(e);Vf(e,L,R);break;default:throw Error(s(161))}}catch(G){Jt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;ay(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function hr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ey(e,i.alternate,i),i=i.sibling}function Ss(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:cr(4,i,i.return),Ss(i);break;case 1:ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&$p(i,i.return,a),Ss(i);break;case 27:nl(i.stateNode);case 26:case 5:ei(i,i.return),Ss(i);break;case 22:i.memoizedState===null&&Ss(i);break;case 30:Ss(i);break;default:Ss(i)}e=e.sibling}}function fr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:fr(h,d,a),Qo(4,d);break;case 1:if(fr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Jt(o,o.return,L)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Pg(R[h],E)}catch(L){Jt(o,o.return,L)}}a&&v&64&&Xp(d),Ko(d,d.return);break;case 27:Wp(d);case 26:case 5:fr(h,d,a),a&&o===null&&v&4&&Zp(d),Ko(d,d.return);break;case 12:fr(h,d,a);break;case 13:fr(h,d,a),a&&v&4&&ry(h,d);break;case 22:d.memoizedState===null&&fr(h,d,a),Ko(d,d.return);break;case 30:break;default:fr(h,d,a)}i=i.sibling}}function Pf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vo(a))}function kf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vo(e))}function ni(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)oy(e,i,a,o),i=i.sibling}function oy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i,a,o),h&2048&&Qo(9,i);break;case 1:ni(e,i,a,o);break;case 3:ni(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vo(e)));break;case 12:if(h&2048){ni(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Jt(i,i.return,R)}}else ni(e,i,a,o);break;case 13:ni(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ni(e,i,a,o):Yo(e,i):d._visibility&2?ni(e,i,a,o):(d._visibility|=2,_a(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Pf(v,i);break;case 24:ni(e,i,a,o),h&2048&&kf(i.alternate,i);break;default:ni(e,i,a,o)}}function _a(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,R=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:_a(d,v,E,R,h),Qo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?_a(d,v,E,R,h):Yo(d,v):(G._visibility|=2,_a(d,v,E,R,h)),h&&L&2048&&Pf(v.alternate,v);break;case 24:_a(d,v,E,R,h),h&&L&2048&&kf(v.alternate,v);break;default:_a(d,v,E,R,h)}i=i.sibling}}function Yo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Yo(a,o),h&2048&&Pf(o.alternate,o);break;case 24:Yo(a,o),h&2048&&kf(o.alternate,o);break;default:Yo(a,o)}i=i.sibling}}var Xo=8192;function va(e){if(e.subtreeFlags&Xo)for(e=e.child;e!==null;)ly(e),e=e.sibling}function ly(e){switch(e.tag){case 26:va(e),e.flags&Xo&&e.memoizedState!==null&&BA(Un,e.memoizedState,e.memoizedProps);break;case 5:va(e);break;case 3:case 4:var i=Un;Un=rc(e.stateNode.containerInfo),va(e),Un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Xo,Xo=16777216,va(e),Xo=i):va(e));break;default:va(e)}}function uy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function $o(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ve=o,hy(o,e)}uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cy(e),e=e.sibling}function cy(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&cr(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Qu(e)):$o(e);break;default:$o(e)}}function Qu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ve=o,hy(o,e)}uy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:cr(8,i,i.return),Qu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Qu(i));break;default:Qu(i)}e=e.sibling}}function hy(e,i){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:cr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ve=o;else t:for(a=e;Ve!==null;){o=Ve;var h=o.sibling,d=o.return;if(ny(o),o===a){Ve=null;break t}if(h!==null){h.return=d,Ve=h;break t}Ve=d}}}var nA={getCacheForType:function(e){var i=Fe(we),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},iA=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,Mt=null,zt=0,Kt=0,dn=null,dr=!1,Ea=!1,Uf=!1,Ui=0,ue=0,mr=0,ws=0,Lf=0,Dn=0,Ta=0,Zo=null,rn=null,zf=!1,Bf=0,Ku=1/0,Yu=null,gr=null,Le=0,pr=null,Aa=null,ba=0,jf=0,qf=null,fy=null,Jo=0,Hf=null;function mn(){if((Qt&2)!==0&&zt!==0)return zt&-zt;if(j.T!==null){var e=ca;return e!==0?e:$f()}return Zi()}function dy(){Dn===0&&(Dn=(zt&536870912)===0||qt?ao():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Dn}function gn(e,i,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Sa(e,0),yr(e,zt,Dn,!1)),gi(e,a),((Qt&2)===0||e!==te)&&(e===te&&((Qt&2)===0&&(ws|=a),ue===4&&yr(e,zt,Dn,!1)),ii(e))}function my(e,i,a){if((Qt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Zr(e,i),h=o?aA(e,i):Qf(e,i,!0),d=o;do{if(h===0){Ea&&!o&&yr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!rA(a)){h=Qf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Zo;var R=E.current.memoizedState.isDehydrated;if(R&&(Sa(E,v).flags|=256),v=Qf(E,v,!1),v!==2){if(Uf&&!R){E.errorRecoveryDisabledLanes|=d,ws|=d,h=4;break t}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Sa(e,0),yr(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:yr(o,i,Dn,!dr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Bf+300-_n(),10<h)){if(yr(o,i,Dn,!dr),js(o,0,!0)!==0)break t;o.timeoutHandle=Hy(gy.bind(null,o,a,rn,Yu,zf,i,Dn,ws,Ta,dr,d,2,-0,0),h);break t}gy(o,a,rn,Yu,zf,i,Dn,ws,Ta,dr,d,0,-0,0)}}break}while(!0);ii(e)}function gy(e,i,a,o,h,d,v,E,R,L,G,Q,z,B){if(e.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:zA},ly(i),Q=jA(),Q!==null)){e.cancelPendingCommit=Q(Ay.bind(null,e,i,d,a,o,h,v,E,R,G,1,z,B)),yr(e,d,v,!L);return}Ay(e,i,d,a,o,h,v,E,R)}function rA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function yr(e,i,a,o){i&=~Lf,i&=~ws,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-Ge(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&qn(e,a,i)}function Xu(){return(Qt&6)===0?(Wo(0),!1):!0}function Gf(){if(Mt!==null){if(Kt===0)var e=Mt.return;else e=Mt,Di=vs=null,of(e),pa=null,Ho=0,e=Mt;for(;e!==null;)Yp(e.alternate,e),e=e.return;Mt=null}}function Sa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,AA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Gf(),te=e,Mt=a=Ri(e.current,null),zt=i,Kt=0,dn=null,dr=!1,Ea=Zr(e,i),Uf=!1,Ta=Dn=Lf=ws=mr=ue=0,rn=Zo=null,zf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Ge(o),d=1<<h;i|=e[h],o&=~d}return Ui=i,yu(),a}function py(e,i){It=null,j.H=ku,i===xo||i===Ru?(i=Mg(),Kt=3):i===Ng?(i=Mg(),Kt=4):Kt=i===xp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Mt===null&&(ue=1,ju(e,Sn(i,e.current)))}function yy(){var e=j.H;return j.H=ku,e===null?ku:e}function _y(){var e=j.A;return j.A=nA,e}function Ff(){ue=4,dr||(zt&4194048)!==zt&&Cn.current!==null||(Ea=!0),(mr&134217727)===0&&(ws&134217727)===0||te===null||yr(te,zt,Dn,!1)}function Qf(e,i,a){var o=Qt;Qt|=2;var h=yy(),d=_y();(te!==e||zt!==i)&&(Yu=null,Sa(e,i)),i=!1;var v=ue;t:do try{if(Kt!==0&&Mt!==null){var E=Mt,R=dn;switch(Kt){case 8:Gf(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var L=Kt;if(Kt=0,dn=null,wa(e,E,R,L),a&&Ea){v=0;break t}break;default:L=Kt,Kt=0,dn=null,wa(e,E,R,L)}}sA(),v=ue;break}catch(G){py(e,G)}while(!0);return i&&e.shellSuspendCounter++,Di=vs=null,Qt=o,j.H=h,j.A=d,Mt===null&&(te=null,zt=0,yu()),v}function sA(){for(;Mt!==null;)vy(Mt)}function aA(e,i){var a=Qt;Qt|=2;var o=yy(),h=_y();te!==e||zt!==i?(Yu=null,Ku=_n()+500,Sa(e,i)):Ea=Zr(e,i);t:do try{if(Kt!==0&&Mt!==null){i=Mt;var d=dn;e:switch(Kt){case 1:Kt=0,dn=null,wa(e,i,d,1);break;case 2:case 9:if(Og(d)){Kt=0,dn=null,Ey(i);break}i=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),ii(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Og(d)?(Kt=0,dn=null,Ey(i)):(Kt=0,dn=null,wa(e,i,d,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var E=Mt;if(!v||e_(v)){Kt=0,dn=null;var R=E.sibling;if(R!==null)Mt=R;else{var L=E.return;L!==null?(Mt=L,$u(L)):Mt=null}break e}}Kt=0,dn=null,wa(e,i,d,5);break;case 6:Kt=0,dn=null,wa(e,i,d,6);break;case 8:Gf(),ue=6;break t;default:throw Error(s(462))}}oA();break}catch(G){py(e,G)}while(!0);return Di=vs=null,j.H=o,j.A=h,Qt=a,Mt!==null?0:(te=null,zt=0,yu(),ue)}function oA(){for(;Mt!==null&&!no();)vy(Mt)}function vy(e){var i=Qp(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,i===null?$u(e):Mt=i}function Ey(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Bp(a,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=Bp(a,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:of(i);default:Yp(a,i),i=Mt=Tg(i,Ui),i=Qp(a,i,Ui)}e.memoizedProps=e.pendingProps,i===null?$u(e):Mt=i}function wa(e,i,a,o){Di=vs=null,of(i),pa=null,Ho=0;var h=i.return;try{if($T(e,h,i,a,zt)){ue=1,ju(e,Sn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;ue=1,ju(e,Sn(a,e.current)),Mt=null;return}i.flags&32768?(qt||o===1?e=!0:Ea||(zt&536870912)!==0?e=!1:(dr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ty(i,e)):$u(i)}function $u(e){var i=e;do{if((i.flags&32768)!==0){Ty(i,dr);return}e=i.return;var a=JT(i.alternate,i,Ui);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);ue===0&&(ue=5)}function Ty(e,i){do{var a=WT(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);ue=6,Mt=null}function Ay(e,i,a,o,h,d,v,E,R){e.cancelPendingCommit=null;do Zu();while(Le!==0);if((Qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ph,lo(e,a,d,v,E,R),e===te&&(Mt=te=null,zt=0),Aa=i,pr=e,ba=a,jf=d,qf=h,fy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hA(Kr,function(){return Iy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=tt.p,tt.p=2,v=Qt,Qt|=4;try{tA(e,i,a)}finally{Qt=v,tt.p=h,j.T=o}}Le=1,by(),Sy(),wy()}}function by(){if(Le===1){Le=0;var e=pr,i=Aa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{sy(i,e);var d=rd,v=hg(e.containerInfo),E=d.focusedElem,R=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&cg(E.ownerDocument.documentElement,E)){if(R!==null&&Nh(E)){var L=R.start,G=R.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),yt=E.textContent.length,dt=Math.min(R.start,yt),Zt=R.end===void 0?dt:Math.min(R.end,yt);!B.extend&&dt>Zt&&(v=Zt,Zt=dt,dt=v);var P=ug(E,dt),O=ug(E,Zt);if(P&&O&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var U=Q.createRange();U.setStart(P.node,P.offset),B.removeAllRanges(),dt>Zt?(B.addRange(U),B.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),B.addRange(U))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}uc=!!id,rd=id=null}finally{Qt=h,tt.p=o,j.T=a}}e.current=i,Le=2}}function Sy(){if(Le===2){Le=0;var e=pr,i=Aa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Qt;Qt|=4;try{ey(e,i.alternate,i)}finally{Qt=h,tt.p=o,j.T=a}}Le=3}}function wy(){if(Le===4||Le===3){Le=0,Ql();var e=pr,i=Aa,a=ba,o=fy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,Aa=pr=null,Ry(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(gr=null),qs(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=j.T,h=tt.p,tt.p=2,j.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{j.T=i,tt.p=h}}(ba&3)!==0&&Zu(),ii(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Hf?Jo++:(Jo=0,Hf=e):Jo=0,Wo(0)}}function Ry(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Vo(i)))}function Zu(e){return by(),Sy(),wy(),Iy()}function Iy(){if(Le!==5)return!1;var e=pr,i=jf;jf=0;var a=qs(ba),o=j.T,h=tt.p;try{tt.p=32>a?32:a,j.T=null,a=qf,qf=null;var d=pr,v=ba;if(Le=0,Aa=pr=null,ba=0,(Qt&6)!==0)throw Error(s(331));var E=Qt;if(Qt|=4,cy(d.current),oy(d,d.current,v,a),Qt=E,Wo(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{tt.p=h,j.T=o,Ry(e,i)}}function Cy(e,i,a){i=Sn(a,i),i=Tf(e.stateNode,i,2),e=ar(e,i,2),e!==null&&(gi(e,2),ii(e))}function Jt(e,i,a){if(e.tag===3)Cy(e,e,a);else for(;i!==null;){if(i.tag===3){Cy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(gr===null||!gr.has(o))){e=Sn(a,e),a=Vp(2),o=ar(i,a,2),o!==null&&(Mp(a,o,i,e),gi(o,2),ii(o));break}}i=i.return}}function Kf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new iA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Uf=!0,h.add(a),e=lA.bind(null,e,i,a),i.then(e,e))}function lA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(zt&a)===a&&(ue===4||ue===3&&(zt&62914560)===zt&&300>_n()-Bf?(Qt&2)===0&&Sa(e,0):Lf|=a,Ta===zt&&(Ta=0)),ii(e)}function Dy(e,i){i===0&&(i=oo()),e=aa(e,i),e!==null&&(gi(e,i),ii(e))}function uA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Dy(e,a)}function cA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Dy(e,a)}function hA(e,i){return Fr(e,i)}var Ju=null,Ra=null,Yf=!1,Wu=!1,Xf=!1,Rs=0;function ii(e){e!==Ra&&e.next===null&&(Ra===null?Ju=Ra=e:Ra=Ra.next=e),Wu=!0,Yf||(Yf=!0,dA())}function Wo(e,i){if(!Xf&&Wu){Xf=!0;do for(var a=!1,o=Ju;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,My(o,d))}else d=zt,d=js(o,o===te?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Zr(o,d)||(a=!0,My(o,d));o=o.next}while(a);Xf=!1}}function fA(){Ny()}function Ny(){Wu=Yf=!1;var e=0;Rs!==0&&(TA()&&(e=Rs),Rs=0);for(var i=_n(),a=null,o=Ju;o!==null;){var h=o.next,d=Oy(o,i);d===0?(o.next=null,a===null?Ju=h:a.next=h,h===null&&(Ra=a)):(a=o,(e!==0||(d&3)!==0)&&(Wu=!0)),o=h}Wo(e)}function Oy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),E=1<<v,R=h[v];R===-1?((E&a)===0||(E&o)!==0)&&(h[v]=so(E,i)):R<=i&&(e.expiredLanes|=E),d&=~E}if(i=te,a=zt,a=js(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Qr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Qr(o),qs(a)){case 2:case 8:a=zs;break;case 32:a=Kr;break;case 268435456:a=Bs;break;default:a=Kr}return o=Vy.bind(null,e),a=Fr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Qr(o),e.callbackPriority=2,e.callbackNode=null,2}function Vy(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Zu()&&e.callbackNode!==a)return null;var o=zt;return o=js(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(my(e,o,i),Oy(e,_n()),e.callbackNode!=null&&e.callbackNode===a?Vy.bind(null,e):null)}function My(e,i){if(Zu())return null;my(e,i,!0)}function dA(){bA(function(){(Qt&6)!==0?Fr(io,fA):Ny()})}function $f(){return Rs===0&&(Rs=ao()),Rs}function xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ys(""+e)}function Py(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function mA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=xy((h[me]||null).action),v=o.submitter;v&&(i=(i=v[me]||null)?xy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Xs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Rs!==0){var R=v?Py(h,v):new FormData(h);pf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=v?Py(h,v):new FormData(h),pf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Zf=0;Zf<xh.length;Zf++){var Jf=xh[Zf],gA=Jf.toLowerCase(),pA=Jf[0].toUpperCase()+Jf.slice(1);kn(gA,"on"+pA)}kn(mg,"onAnimationEnd"),kn(gg,"onAnimationIteration"),kn(pg,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(MT,"onTransitionRun"),kn(xT,"onTransitionStart"),kn(PT,"onTransitionCancel"),kn(yg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function ky(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],R=E.instance,L=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){Bu(G)}h.currentTarget=null,d=R}else for(v=0;v<o.length;v++){if(E=o[v],R=E.instance,L=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){Bu(G)}h.currentTarget=null,d=R}}}}function xt(e,i){var a=i[co];a===void 0&&(a=i[co]=new Set);var o=e+"__bubble";a.has(o)||(Uy(i,e,2,!1),a.add(o))}function Wf(e,i,a){var o=0;i&&(o|=4),Uy(a,e,o,i)}var tc="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[tc]){e[tc]=!0,ho.forEach(function(a){a!=="selectionchange"&&(yA.has(a)||Wf(a,!1,e),Wf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[tc]||(i[tc]=!0,Wf("selectionchange",!1,i))}}function Uy(e,i,a,o){switch(o_(i)){case 2:var h=GA;break;case 8:h=FA;break;default:h=md}a=h.bind(null,i,a,e),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function ed(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=pi(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){o=d=v;continue t}E=E.parentNode}}o=o.return}nu(function(){var L=d,G=Tn(a),Q=[];t:{var z=_g.get(e);if(z!==void 0){var B=Xs,yt=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":B=ea;break;case"focusin":yt="focus",B=Js;break;case"focusout":yt="blur",B=Js;break;case"beforeblur":case"afterblur":B=Js;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=cu;break;case mg:case gg:case pg:B=Ws;break;case yg:B=fu;break;case"scroll":case"scrollend":B=iu;break;case"wheel":B=na;break;case"copy":case"cut":case"paste":B=ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=So;break;case"toggle":case"beforetoggle":B=mu}var dt=(i&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),P=dt?z!==null?z+"Capture":null:z;dt=[];for(var O=L,U;O!==null;){var F=O;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||P===null||(F=ss(O,P),F!=null&&dt.push(el(O,F,U))),Zt)break;O=O.return}0<dt.length&&(z=new B(z,yt,null,a,G),Q.push({event:z,listeners:dt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Ei&&(yt=a.relatedTarget||a.fromElement)&&(pi(yt)||yt[vn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(yt=a.relatedTarget||a.toElement,B=L,yt=yt?pi(yt):null,yt!==null&&(Zt=c(yt),dt=yt.tag,yt!==Zt||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(B=null,yt=L),B!==yt)){if(dt=bn,F="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(dt=So,F="onPointerLeave",P="onPointerEnter",O="pointer"),Zt=B==null?z:Gn(B),U=yt==null?z:Gn(yt),z=new dt(F,O+"leave",B,a,G),z.target=Zt,z.relatedTarget=U,F=null,pi(G)===L&&(dt=new dt(P,O+"enter",yt,a,G),dt.target=U,dt.relatedTarget=Zt,F=dt),Zt=F,B&&yt)e:{for(dt=B,P=yt,O=0,U=dt;U;U=Ia(U))O++;for(U=0,F=P;F;F=Ia(F))U++;for(;0<O-U;)dt=Ia(dt),O--;for(;0<U-O;)P=Ia(P),U--;for(;O--;){if(dt===P||P!==null&&dt===P.alternate)break e;dt=Ia(dt),P=Ia(P)}dt=null}else dt=null;B!==null&&Ly(Q,z,B,dt,!1),yt!==null&&Zt!==null&&Ly(Q,Zt,yt,dt,!0)}}t:{if(z=L?Gn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ot=ig;else if(Se(z))if(rg)ot=NT;else{ot=CT;var Nt=IT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&yo(L.elementType)&&(ot=ig):ot=DT;if(ot&&(ot=ot(e,L))){wi(Q,ot,a,G);break t}Nt&&Nt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&er(z,"number",z.value)}switch(Nt=L?Gn(L):window,e){case"focusin":(Se(Nt)||Nt.contentEditable==="true")&&(ia=Nt,Oh=L,Io=null);break;case"focusout":Io=Oh=ia=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,fg(Q,a,G);break;case"selectionchange":if(VT)break;case"keydown":case"keyup":fg(Q,a,G)}var lt;if(Zn)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Ut?q(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(y&&a.locale!=="ko"&&(Ut||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ut&&(lt=vo()):(Kn=G,nr="value"in Kn?Kn.value:Kn.textContent,Ut=!0)),Nt=ec(L,mt),0<Nt.length&&(mt=new Ao(mt,e,null,a,G),Q.push({event:mt,listeners:Nt}),lt?mt.data=lt:(lt=W(a),lt!==null&&(mt.data=lt)))),(lt=m?be(e,a):Lt(e,a))&&(mt=ec(L,"onBeforeInput"),0<mt.length&&(Nt=new Ao("onBeforeInput","beforeinput",null,a,G),Q.push({event:Nt,listeners:mt}),Nt.data=lt)),mA(Q,e,L,a,G)}ky(Q,i)})}function el(e,i,a){return{instance:e,listener:i,currentTarget:a}}function ec(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ss(e,a),h!=null&&o.unshift(el(e,h,d)),h=ss(e,i),h!=null&&o.push(el(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ly(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,R=E.alternate,L=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||L===null||(R=L,h?(L=ss(a,d),L!=null&&v.unshift(el(a,L,R))):h||(L=ss(a,d),L!=null&&v.push(el(a,L,R)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var _A=/\r\n?/g,vA=/\u0000|\uFFFD/g;function zy(e){return(typeof e=="string"?e:""+e).replace(_A,`
`).replace(vA,"")}function By(e,i){return i=zy(i),zy(e)===i}function nc(){}function $t(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||En(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&En(e,""+o);break;case"className":Fn(e,"class",o);break;case"tabIndex":Fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,a,o);break;case"style":po(e,o,d);break;case"data":if(i!=="object"){Fn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ys(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$t(e,i,"name",h.name,h,null),$t(e,i,"formEncType",h.formEncType,h,null),$t(e,i,"formMethod",h.formMethod,h,null),$t(e,i,"formTarget",h.formTarget,h,null)):($t(e,i,"encType",h.encType,h,null),$t(e,i,"method",h.method,h,null),$t(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ys(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=nc);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ys(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),tr(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":tr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sh.get(a)||a,tr(e,a,o))}}function nd(e,i,a,o,h,d){switch(a){case"style":po(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?En(e,o):(typeof o=="number"||typeof o=="bigint")&&En(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[me]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):tr(e,a,o)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(e,i,d,v,a,null)}}h&&$t(e,i,"srcSet",a.srcSet,a,null),o&&$t(e,i,"src",a.src,a,null);return;case"input":xt("invalid",e);var E=d=v=h=null,R=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":R=G;break;case"defaultChecked":L=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:$t(e,i,o,G,a,null)}}ns(e,d,E,R,L,v,h,!1),Ks(e);return;case"select":xt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:$t(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!o,i!=null?vi(e,!!o,i,!1):a!=null&&vi(e,!!o,a,!0);return;case"textarea":xt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(e,i,v,E,a,null)}is(e,o,h,d),Ks(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(e,i,R,o,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<tl.length;o++)xt(tl[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(e,i,L,o,a,null)}return;default:if(yo(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&nd(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&$t(e,i,E,o,a,null))}function EA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,R=null,L=null,G=null;for(B in a){var Q=a[B];if(a.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(B)||$t(e,i,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Q&&$t(e,i,z,B,o,Q)}}ln(e,v,E,R,L,G,d,h);return;case"select":B=v=E=z=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(d)||$t(e,i,d,null,o,R)}for(h in o)if(d=o[h],R=a[h],o.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==R&&$t(e,i,h,d,o,R)}i=E,a=v,o=B,z!=null?vi(e,!!a,z,!1):!!o!=!!a&&(i!=null?vi(e,!!a,i,!0):vi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$t(e,i,v,h,o,d)}Yt(e,z,B);return;case"option":for(var yt in a)if(z=a[yt],a.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:$t(e,i,yt,null,o,z)}for(R in o)if(z=o[R],B=a[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:$t(e,i,R,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)z=a[dt],a.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&$t(e,i,dt,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:$t(e,i,L,z,o,B)}return;default:if(yo(i)){for(var Zt in a)z=a[Zt],a.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&nd(e,i,Zt,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||nd(e,i,G,z,o,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!o.hasOwnProperty(P)&&$t(e,i,P,null,o,z);for(Q in o)z=o[Q],B=a[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||$t(e,i,Q,z,o,B)}var id=null,rd=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function sd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ad=null;function TA(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,AA=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(e){return Gy.resolve(null).then(e).catch(SA)}:Hy;function SA(e){setTimeout(function(){throw e})}function _r(e){return e==="head"}function Fy(e,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&nl(v.documentElement),a&2&&nl(v.body),a&4)for(a=v.head,nl(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[Jr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),cl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);cl(i)}function od(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":od(a),Wi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Jr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function RA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function IA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var ud=null;function Qy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Ky(e,i,a){switch(i=ic(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function nl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Wi(e)}var Nn=new Map,Yy=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Li=tt.d;tt.d={f:CA,r:DA,D:NA,C:OA,L:VA,m:MA,X:PA,S:xA,M:kA};function CA(){var e=Li.f(),i=Xu();return e||i}function DA(e){var i=Hn(e);i!==null&&i.tag===5&&i.type==="form"?mp(i):Li.r(e)}var Ca=typeof document>"u"?null:document;function Xy(e,i,a){var o=Ca;if(o&&typeof i=="string"&&i){var h=ge(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Yy.has(h)||(Yy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),ze(i,"link",e),ce(i),o.head.appendChild(i)))}}function NA(e){Li.D(e),Xy("dns-prefetch",e,null)}function OA(e,i){Li.C(e,i),Xy("preconnect",e,i)}function VA(e,i,a){Li.L(e,i,a);var o=Ca;if(o&&e&&i){var h='link[rel="preload"][as="'+ge(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ge(a.imageSizes)+'"]')):h+='[href="'+ge(e)+'"]';var d=h;switch(i){case"style":d=Da(e);break;case"script":d=Na(e)}Nn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(il(d))||i==="script"&&o.querySelector(rl(d))||(i=o.createElement("link"),ze(i,"link",e),ce(i),o.head.appendChild(i)))}}function MA(e,i){Li.m(e,i);var a=Ca;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ge(o)+'"][href="'+ge(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Na(e)}if(!Nn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Nn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rl(d)))return}o=a.createElement("link"),ze(o,"link",e),ce(o),a.head.appendChild(o)}}}function xA(e,i,a){Li.S(e,i,a);var o=Ca;if(o&&e){var h=Ze(o).hoistableStyles,d=Da(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(il(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(d))&&cd(e,a);var R=v=o.createElement("link");ce(R),ze(R,"link",e),R._p=new Promise(function(L,G){R.onload=L,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function PA(e,i){Li.X(e,i);var a=Ca;if(a&&e){var o=Ze(a).hoistableScripts,h=Na(e),d=o.get(h);d||(d=a.querySelector(rl(h)),d||(e=T({src:e,async:!0},i),(i=Nn.get(h))&&hd(e,i),d=a.createElement("script"),ce(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function kA(e,i){Li.M(e,i);var a=Ca;if(a&&e){var o=Ze(a).hoistableScripts,h=Na(e),d=o.get(h);d||(d=a.querySelector(rl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&hd(e,i),d=a.createElement("script"),ce(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function $y(e,i,a,o){var h=(h=Et.current)?rc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Da(a.href),a=Ze(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Da(a.href);var d=Ze(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(il(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),d||UA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Na(a),a=Ze(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Da(e){return'href="'+ge(e)+'"'}function il(e){return'link[rel="stylesheet"]['+e+"]"}function Zy(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function UA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),ze(i,"link",a),ce(i),e.head.appendChild(i))}function Na(e){return'[src="'+ge(e)+'"]'}function rl(e){return"script[async]"+e}function Jy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ge(a.href)+'"]');if(o)return i.instance=o,ce(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),ze(o,"style",h),sc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Da(a.href);var d=e.querySelector(il(h));if(d)return i.state.loading|=4,i.instance=d,ce(d),d;o=Zy(a),(h=Nn.get(h))&&cd(o,h),d=(e.ownerDocument||e).createElement("link"),ce(d);var v=d;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ze(d,"link",o),i.state.loading|=4,sc(d,a.precedence,e),i.instance=d;case"script":return d=Na(a.src),(h=e.querySelector(rl(d)))?(i.instance=h,ce(h),h):(o=a,(h=Nn.get(d))&&(o=T({},a),hd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),ze(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,sc(o,a.precedence,e));return i.instance}function sc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ac=null;function Wy(e,i,a){if(ac===null){var o=new Map,h=ac=new Map;h.set(a,o)}else h=ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Jr]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function t_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function LA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function e_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var sl=null;function zA(){}function BA(e,i,a){if(sl===null)throw Error(s(475));var o=sl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Da(a.href),d=e.querySelector(il(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=oc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,ce(d);return}d=e.ownerDocument||e,a=Zy(a),(h=Nn.get(h))&&cd(a,h),d=d.createElement("link"),ce(d);var v=d;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ze(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=oc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function jA(){if(sl===null)throw Error(s(475));var e=sl;return e.stylesheets&&e.count===0&&fd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&fd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function oc(){if(this.count--,this.count===0){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function fd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,i.forEach(qA,e),lc=null,oc.call(e))}function qA(e,i){if(!(i.state.loading&4)){var a=lc.get(e);if(a)var o=a.get(null);else{a=new Map,lc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var al={$$typeof:ct,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function HA(e,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function n_(e,i,a,o,h,d,v,E,R,L,G,Q){return e=new HA(e,i,a,v,E,R,L,Q),i=1,d===!0&&(i|=24),d=cn(3,null,null,i),e.current=d,d.stateNode=e,i=Qh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},$h(d),e}function i_(e){return e?(e=oa,e):oa}function r_(e,i,a,o,h,d){h=i_(h),o.context===null?o.context=h:o.pendingContext=h,o=sr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=ar(e,o,i),a!==null&&(gn(a,e,i),ko(a,e,i))}function s_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function dd(e,i){s_(e,i),(e=e.alternate)&&s_(e,i)}function a_(e){if(e.tag===13){var i=aa(e,67108864);i!==null&&gn(i,e,67108864),dd(e,67108864)}}var uc=!0;function GA(e,i,a,o){var h=j.T;j.T=null;var d=tt.p;try{tt.p=2,md(e,i,a,o)}finally{tt.p=d,j.T=h}}function FA(e,i,a,o){var h=j.T;j.T=null;var d=tt.p;try{tt.p=8,md(e,i,a,o)}finally{tt.p=d,j.T=h}}function md(e,i,a,o){if(uc){var h=gd(o);if(h===null)ed(e,i,o,cc,a),l_(e,o);else if(KA(h,e,i,a,o))o.stopPropagation();else if(l_(e,o),i&4&&-1<QA.indexOf(e)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Ge(v);E.entanglements[1]|=R,v&=~R}ii(d),(Qt&6)===0&&(Ku=_n()+500,Wo(0))}}break;case 13:E=aa(d,2),E!==null&&gn(E,d,2),Xu(),dd(d,2)}if(d=gd(o),d===null&&ed(e,i,o,cc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else ed(e,i,o,null,a)}}function gd(e){return e=Tn(e),pd(e)}var cc=null;function pd(e){if(cc=null,e=pi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return cc=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_h()){case io:return 2;case zs:return 8;case Kr:case vh:return 32;case Bs:return 268435456;default:return 32}default:return 32}}var yd=!1,vr=null,Er=null,Tr=null,ol=new Map,ll=new Map,Ar=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(e,i){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(i.pointerId)}}function ul(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&a_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function KA(e,i,a,o,h){switch(i){case"focusin":return vr=ul(vr,e,i,a,o,h),!0;case"dragenter":return Er=ul(Er,e,i,a,o,h),!0;case"mouseover":return Tr=ul(Tr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return ol.set(d,ul(ol.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,ll.set(d,ul(ll.get(d)||null,e,i,a,o,h)),!0}return!1}function u_(e){var i=pi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Xl(e.priority,function(){if(a.tag===13){var o=mn();o=$i(o);var h=aa(a,o);h!==null&&gn(h,a,o),dd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=gd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ei=o,a.target.dispatchEvent(o),Ei=null}else return i=Hn(a),i!==null&&a_(i),e.blockedOn=a,!1;i.shift()}return!0}function c_(e,i,a){hc(e)&&a.delete(i)}function YA(){yd=!1,vr!==null&&hc(vr)&&(vr=null),Er!==null&&hc(Er)&&(Er=null),Tr!==null&&hc(Tr)&&(Tr=null),ol.forEach(c_),ll.forEach(c_)}function fc(e,i){e.blockedOn===i&&(e.blockedOn=null,yd||(yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,YA)))}var dc=null;function h_(e){dc!==e&&(dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(pd(o||a)===null)continue;break}var d=Hn(a);d!==null&&(e.splice(i,3),i-=3,pf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function cl(e){function i(R){return fc(R,e)}vr!==null&&fc(vr,e),Er!==null&&fc(Er,e),Tr!==null&&fc(Tr,e),ol.forEach(i),ll.forEach(i);for(var a=0;a<Ar.length;a++){var o=Ar[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ar.length&&(a=Ar[0],a.blockedOn===null);)u_(a),a.blockedOn===null&&Ar.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[me]||null;if(typeof d=="function")v||h_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[me]||null)E=v.formAction;else if(pd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),h_(a)}}}function _d(e){this._internalRoot=e}mc.prototype.render=_d.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=mn();r_(a,o,e,i,null,null)},mc.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;r_(e.current,2,null,e,null,null),Xu(),i[vn]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Zi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ar.length&&i!==0&&i<Ar[a].priority;a++);Ar.splice(a,0,e),a===0&&u_(e)}};var f_=t.version;if(f_!=="19.1.0")throw Error(s(527,f_,"19.1.0"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var XA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{oe=gc.inject(XA),Ft=gc}catch{}}return fl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Cp,d=Dp,v=Np,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=n_(e,1,!1,null,null,a,o,h,d,v,E,null),e[vn]=i.current,td(e),new _d(i)},fl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Cp,v=Dp,E=Np,R=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=n_(e,1,!0,i,a??null,o,h,d,v,E,R,L),i.context=i_(null),a=i.current,o=mn(),o=$i(o),h=sr(o),h.callback=null,ar(a,h,o),a=o,i.current.lanes=a,gi(i,a),ii(i),e[vn]=i.current,td(e),new mc(i)},fl.version="19.1.0",fl}var A_;function ab(){if(A_)return Td.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Td.exports=sb(),Td.exports}var ob=ab();const lb=r0(ob),ub=()=>{};var b_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},cb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},a0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=c>>2,I=(c&3)<<4|g>>4;let C=(g&15)<<2|_>>6,H=_&63;p||(H=64,f||(C=64)),s.push(n[T],n[I],n[C],n[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(s0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):cb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||I==null)throw new hb;const C=c<<2|g>>4;if(s.push(C),_!==64){const H=g<<4&240|_>>2;if(s.push(H),I!==64){const $=_<<6&192|I;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fb=function(r){const t=s0(r);return a0.encodeByteArray(t,!0)},xc=function(r){return fb(r).replace(/\./g,"")},o0=function(r){try{return a0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=()=>db().__FIREBASE_DEFAULTS__,gb=()=>{if(typeof process>"u"||typeof b_>"u")return;const r=b_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&o0(r[1]);return t&&JSON.parse(t)},th=()=>{try{return ub()||mb()||gb()||pb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},l0=r=>{var t,n;return(n=(t=th())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},yb=r=>{const t=l0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},u0=()=>{var r;return(r=th())===null||r===void 0?void 0:r.config},c0=r=>{var t;return(t=th())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xc(JSON.stringify(n)),xc(JSON.stringify(f)),""].join(".")}const yl={};function Eb(){const r={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?r.emulator.push(t):r.prod.push(t);return r}function Tb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let S_=!1;function f0(r,t){if(typeof window>"u"||typeof document>"u"||!Ya(window.location.host)||yl[r]===t||yl[r]||S_)return;yl[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=Eb().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,H){C.setAttribute("width","24"),C.setAttribute("id",H),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{S_=!0,f()},C}function T(C,H){C.setAttribute("id",H),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function I(){const C=Tb(s),H=n("text"),$=document.getElementById(H)||document.createElement("span"),et=n("learnmore"),Z=document.getElementById(et)||document.createElement("a"),_t=n("preprendIcon"),ut=document.getElementById(_t)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ct=C.element;g(ct),T(Z,et);const Ot=_();p(ut,_t),ct.append(ut,$,Z,Ot),document.body.appendChild(ct)}c?($.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ab(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function bb(){var r;const t=(r=th())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Rb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ib(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Cb(){return!bb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Db(){try{return typeof indexedDB=="object"}catch{return!1}}function Nb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="FirebaseError";class Yi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Ob,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?Vb(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Yi(l,g,s)}}function Vb(r,t){return r.replace(Mb,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const Mb=/\{\$([^}]+)}/g;function xb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(w_(c)&&w_(f)){if(!Vs(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function w_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Pb(r,t){const n=new kb(r,t);return n.subscribe.bind(n)}class kb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ub(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=wd),l.error===void 0&&(l.error=wd),l.complete===void 0&&(l.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ub(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(r){return r&&r._delegate?r._delegate:r}class Ms{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new _b;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),l=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Bb(t))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Is){return this.instances.has(t)}getOptions(t=Is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Is){return this.component?this.component.multipleInstances?t:Is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zb(r){return r===Is?void 0:r}function Bb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Lb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const qb={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Hb=Pt.INFO,Gb={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},Fb=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=Gb[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=Hb,this._logHandler=Fb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const Qb=(r,t)=>t.some(n=>r instanceof n);let R_,I_;function Kb(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yb(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d0=new WeakMap,Ld=new WeakMap,m0=new WeakMap,Rd=new WeakMap,dm=new WeakMap;function Xb(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Nr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&d0.set(n,r)}).catch(()=>{}),dm.set(t,r),t}function $b(r){if(Ld.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Ld.set(r,t)}let zd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Ld.get(r);if(t==="objectStoreNames")return r.objectStoreNames||m0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Zb(r){zd=r(zd)}function Jb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Id(this),t,...n);return m0.set(s,t.sort?t.sort():[t]),Nr(s)}:Yb().includes(r)?function(...t){return r.apply(Id(this),t),Nr(d0.get(this))}:function(...t){return Nr(r.apply(Id(this),t))}}function Wb(r){return typeof r=="function"?Jb(r):(r instanceof IDBTransaction&&$b(r),Qb(r,Kb())?new Proxy(r,zd):r)}function Nr(r){if(r instanceof IDBRequest)return Xb(r);if(Rd.has(r))return Rd.get(r);const t=Wb(r);return t!==r&&(Rd.set(r,t),dm.set(t,r)),t}const Id=r=>dm.get(r);function tS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=Nr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Nr(f.result),p.oldVersion,p.newVersion,Nr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const eS=["get","getKey","getAll","getAllKeys","count"],nS=["put","add","delete","clear"],Cd=new Map;function C_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=nS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||eS.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Cd.set(t,c),c}Zb(r=>({...r,get:(t,n,s)=>C_(t,n)||r.get(t,n,s),has:(t,n)=>!!C_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function rS(r){const t=r.getComponent();return t?.type==="VERSION"}const Bd="@firebase/app",D_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new fm("@firebase/app"),sS="@firebase/app-compat",aS="@firebase/analytics-compat",oS="@firebase/analytics",lS="@firebase/app-check-compat",uS="@firebase/app-check",cS="@firebase/auth",hS="@firebase/auth-compat",fS="@firebase/database",dS="@firebase/data-connect",mS="@firebase/database-compat",gS="@firebase/functions",pS="@firebase/functions-compat",yS="@firebase/installations",_S="@firebase/installations-compat",vS="@firebase/messaging",ES="@firebase/messaging-compat",TS="@firebase/performance",AS="@firebase/performance-compat",bS="@firebase/remote-config",SS="@firebase/remote-config-compat",wS="@firebase/storage",RS="@firebase/storage-compat",IS="@firebase/firestore",CS="@firebase/ai",DS="@firebase/firestore-compat",NS="firebase",OS="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",VS={[Bd]:"fire-core",[sS]:"fire-core-compat",[oS]:"fire-analytics",[aS]:"fire-analytics-compat",[uS]:"fire-app-check",[lS]:"fire-app-check-compat",[cS]:"fire-auth",[hS]:"fire-auth-compat",[fS]:"fire-rtdb",[dS]:"fire-data-connect",[mS]:"fire-rtdb-compat",[gS]:"fire-fn",[pS]:"fire-fn-compat",[yS]:"fire-iid",[_S]:"fire-iid-compat",[vS]:"fire-fcm",[ES]:"fire-fcm-compat",[TS]:"fire-perf",[AS]:"fire-perf-compat",[bS]:"fire-rc",[SS]:"fire-rc-compat",[wS]:"fire-gcs",[RS]:"fire-gcs-compat",[IS]:"fire-fst",[DS]:"fire-fst-compat",[CS]:"fire-vertex","fire-js":"fire-js",[NS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,MS=new Map,qd=new Map;function N_(r,t){try{r.container.addComponent(t)}catch(n){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function qa(r){const t=r.name;if(qd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,r);for(const n of Pc.values())N_(n,r);for(const n of MS.values())N_(n,r);return!0}function mm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function On(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new Vl("app","Firebase",xS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=OS;function g0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:jd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Or.create("bad-app-name",{appName:String(l)});if(n||(n=u0()),!n)throw Or.create("no-options");const c=Pc.get(l);if(c){if(Vs(n,c.options)&&Vs(s,c.config))return c;throw Or.create("duplicate-app",{appName:l})}const f=new jb(l);for(const p of qd.values())f.addComponent(p);const g=new PS(n,s,f);return Pc.set(l,g),g}function p0(r=jd){const t=Pc.get(r);if(!t&&r===jd&&u0())return g0();if(!t)throw Or.create("no-app",{appName:r});return t}function Vr(r,t,n){var s;let l=(s=VS[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(g.join(" "));return}qa(new Ms(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebase-heartbeat-database",US=1,bl="firebase-heartbeat-store";let Dd=null;function y0(){return Dd||(Dd=tS(kS,US,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Or.create("idb-open",{originalErrorMessage:r.message})})),Dd}async function LS(r){try{const n=(await y0()).transaction(bl),s=await n.objectStore(bl).get(_0(r));return await n.done,s}catch(t){if(t instanceof Yi)qi.warn(t.message);else{const n=Or.create("idb-get",{originalErrorMessage:t?.message});qi.warn(n.message)}}}async function O_(r,t){try{const s=(await y0()).transaction(bl,"readwrite");await s.objectStore(bl).put(t,_0(r)),await s.done}catch(n){if(n instanceof Yi)qi.warn(n.message);else{const s=Or.create("idb-set",{originalErrorMessage:n?.message});qi.warn(s.message)}}}function _0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=1024,BS=30;class jS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=V_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>BS){const f=GS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=V_(),{heartbeatsToSend:s,unsentEntries:l}=qS(this._heartbeatsCache.heartbeats),c=xc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return qi.warn(n),""}}}function V_(){return new Date().toISOString().substring(0,10)}function qS(r,t=zS){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),M_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),M_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class HS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Db()?Nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return O_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return O_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function M_(r){return xc(JSON.stringify({version:2,heartbeats:r})).length}function GS(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(r){qa(new Ms("platform-logger",t=>new iS(t),"PRIVATE")),qa(new Ms("heartbeat",t=>new jS(t),"PRIVATE")),Vr(Bd,D_,r),Vr(Bd,D_,"esm2017"),Vr("fire-js","")}FS("");var QS="firebase",KS="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(QS,KS,"app");function gm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function v0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YS=v0,E0=new Vl("auth","Firebase",v0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new fm("@firebase/auth");function XS(r,...t){kc.logLevel<=Pt.WARN&&kc.warn(`Auth (${Xa}): ${r}`,...t)}function Sc(r,...t){kc.logLevel<=Pt.ERROR&&kc.error(`Auth (${Xa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(r,...t){throw pm(r,...t)}function si(r,...t){return pm(r,...t)}function T0(r,t,n){const s=Object.assign(Object.assign({},YS()),{[t]:n});return new Vl("auth","Firebase",s).create(t,{appName:r.name})}function ji(r){return T0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return E0.create(r,...t)}function vt(r,t,...n){if(!r)throw pm(t,...n)}function zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Sc(t),new Error(t)}function Gi(r,t){r||zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function $S(){return x_()==="http:"||x_()==="https:"}function x_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($S()||wb()||"connection"in navigator)?navigator.onLine:!0}function JS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gi(n>t,"Short delay should be less than long delay!"),this.isMobile=Ab()||Rb()}get(){return ZS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(r,t){Gi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e1=new xl(3e4,6e4);function Pl(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function $a(r,t,n,s,l={}){return b0(r,l,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Ml(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return Sb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Ya(r.emulatorConfig.host)&&(_.credentials="include"),A0.fetch()(await S0(r,r.config.apiHost,n,g),_)})}async function b0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},WS),t);try{const l=new n1(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw pc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw pc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw pc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw T0(r,T,_);Hi(r,T)}}catch(l){if(l instanceof Yi)throw l;Hi(r,"network-request-failed",{message:String(l)})}}async function _m(r,t,n,s,l={}){const c=await $a(r,t,n,s,l);return"mfaPendingCredential"in c&&Hi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function S0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,f=c.config.emulator?ym(r.config,l):`${r.config.apiScheme}://${l}`;return t1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class n1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),e1.get())})}}function pc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=si(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(r,t){return $a(r,"POST","/v1/accounts:delete",t)}async function Uc(r,t){return $a(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function r1(r,t=!1){const n=qe(r),s=await n.getIdToken(t),l=vm(s);vt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c?.sign_in_provider;return{claims:l,token:s,authTime:_l(Nd(l.auth_time)),issuedAtTime:_l(Nd(l.iat)),expirationTime:_l(Nd(l.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Nd(r){return Number(r)*1e3}function vm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const l=o0(n);return l?JSON.parse(l):(Sc("Failed to decode base64 JWT payload"),null)}catch(l){return Sc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function P_(r){const t=vm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Yi&&s1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function s1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Sl(r,Uc(n,{idToken:s}));vt(l?.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?w0(c.providerUserInfo):[],g=l1(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!g?.length,T=p?_:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Gd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,I)}async function o1(r){const t=qe(r);await Lc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function l1(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function w0(r){return r.map(t=>{var{providerId:n}=t,s=gm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(r,t){const n=await b0(r,{},async()=>{const s=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await S0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&Ya(r.emulatorConfig.host)&&(p.credentials="include"),A0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c1(r,t){return $a(r,"POST","/v2/accounts:revokeToken",Pl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):P_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=P_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await u1(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new Ua;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(vt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class zn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=gm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Gd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Sl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return r1(this,t)}reload(){return o1(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Lc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(ji(this.auth));const t=await this.getIdToken();return await Sl(this,i1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,f,g,p,_,T;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(l=n.email)!==null&&l!==void 0?l:void 0,H=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,$=(f=n.photoURL)!==null&&f!==void 0?f:void 0,et=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,_t=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ut=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ct,emailVerified:Ot,isAnonymous:pt,providerData:Vt,stsTokenManager:M}=n;vt(ct&&M,t,"internal-error");const S=Ua.fromJSON(this.name,M);vt(typeof ct=="string",t,"internal-error"),Sr(I,t.name),Sr(C,t.name),vt(typeof Ot=="boolean",t,"internal-error"),vt(typeof pt=="boolean",t,"internal-error"),Sr(H,t.name),Sr($,t.name),Sr(et,t.name),Sr(Z,t.name),Sr(_t,t.name),Sr(ut,t.name);const D=new zn({uid:ct,auth:t,email:C,emailVerified:Ot,displayName:I,isAnonymous:pt,photoURL:$,phoneNumber:H,tenantId:et,stsTokenManager:S,createdAt:_t,lastLoginAt:ut});return Vt&&Array.isArray(Vt)&&(D.providerData=Vt.map(V=>Object.assign({},V))),Z&&(D._redirectEventId=Z),D}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ua;l.updateFromServerResponse(n);const c=new zn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Lc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?w0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!c?.length,g=new Ua;g.updateFromIdToken(s);const p=new zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function Bi(r){Gi(r instanceof Function,"Expected a class definition");let t=k_.get(r);return t?(Gi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,k_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}R0.type="NONE";const U_=R0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(r,t,n){return`firebase:${r}:${t}:${n}`}class La{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=wc(this.userKey,l.apiKey,c),this.fullPersistenceKey=wc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Uc(this.auth,{idToken:t}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,t):null}return zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new La(Bi(U_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Bi(U_);const f=wc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(f);if(T){let I;if(typeof T=="string"){const C=await Uc(t,{idToken:T}).catch(()=>{});if(!C)break;I=await zn._fromGetAccountInfoResponse(t,C,T)}else I=zn._fromJSON(t,T);_!==c&&(g=I),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new La(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new La(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(N0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(I0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(V0(t))return"Blackberry";if(M0(t))return"Webos";if(C0(t))return"Safari";if((t.includes("chrome/")||D0(t))&&!t.includes("edge/"))return"Chrome";if(O0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function I0(r=$e()){return/firefox\//i.test(r)}function C0(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function D0(r=$e()){return/crios\//i.test(r)}function N0(r=$e()){return/iemobile/i.test(r)}function O0(r=$e()){return/android/i.test(r)}function V0(r=$e()){return/blackberry/i.test(r)}function M0(r=$e()){return/webos/i.test(r)}function Em(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function h1(r=$e()){var t;return Em(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function f1(){return Ib()&&document.documentMode===10}function x0(r=$e()){return Em(r)||O0(r)||M0(r)||V0(r)||/windows phone/i.test(r)||N0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(r,t=[]){let n;switch(r){case"Browser":n=L_($e());break;case"Worker":n=`${L_($e())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(r,t={}){return $a(r,"GET","/v2/passwordPolicy",Pl(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=6;class p1{constructor(t){var n,s,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:g1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new d1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await La.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Uc(this,{idToken:t}),s=await zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(On(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l?._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&p?.user&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Lc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=JS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(On(this.app))return Promise.reject(ji(this));const n=t?qe(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return On(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await m1(this),n=new p1(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await c1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Bi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=P0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&XS(`Error while retrieving App Check token: ${n.error}`),n?.token}}function kl(r){return qe(r)}class z_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Pb(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _1(r){Tm=r}function v1(r){return Tm.loadJS(r)}function E1(){return Tm.gapiScript}function T1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(r,t){const n=mm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Vs(c,t??{}))return l;Hi(l,"already-initialized")}return n.initialize({options:t})}function b1(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Bi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function S1(r,t,n){const s=kl(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=k0(t),{host:f,port:g}=w1(t),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Vs(_,s.config.emulator)&&Vs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Ya(f)?(h0(`${c}//${f}${p}`),f0("Auth",!0)):R1()}function k0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function w1(r){const t=k0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:B_(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:B_(f)}}}function B_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function R1(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(t){return zi("not implemented")}_linkToIdToken(t,n){return zi("not implemented")}_getReauthenticationResolver(t){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(r,t){return _m(r,"POST","/v1/accounts:signInWithIdp",Pl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="http://localhost";class xs extends U0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=gm(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new xs(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return za(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,za(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,za(t,n)}buildRequest(){const t={requestUri:I1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ml(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends L0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Ul{constructor(){super("facebook.com")}static credential(t){return xs._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return xs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Rr.credential(n,s)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Ul{constructor(){super("github.com")}static credential(t){return xs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Ul{constructor(){super("twitter.com")}static credential(t,n){return xs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Cr.credential(n,s)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(r,t){return _m(r,"POST","/v1/accounts:signUp",Pl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await zn._fromIdTokenResponse(t,s,l),f=j_(s);return new Fi({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=j_(s);return new Fi({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function j_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(r){var t;if(On(r.app))return Promise.reject(ji(r));const n=kl(r);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Fi({user:n.currentUser,providerId:null,operationType:"signIn"});const s=await C1(n,{returnSecureToken:!0}),l=await Fi._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Yi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new zc(t,n,s,l)}}function z0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(r,c,t,s):c})}async function N1(r,t,n=!1){const s=await Sl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Fi._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(r,t,n=!1){const{auth:s}=r;if(On(s.app))return Promise.reject(ji(s));const l="reauthenticate";try{const c=await Sl(r,z0(s,l,t,r),n);vt(c.idToken,s,"internal-error");const f=vm(c.idToken);vt(f,s,"internal-error");const{sub:g}=f;return vt(r.uid===g,s,"user-mismatch"),Fi._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Hi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(r,t,n=!1){if(On(r.app))return Promise.reject(ji(r));const s="signIn",l=await z0(r,s,t),c=await Fi._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(r,t){return _m(r,"POST","/v1/accounts:signInWithCustomToken",Pl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(r,t){if(On(r.app))return Promise.reject(ji(r));const n=kl(r),s=await M1(n,{token:t,returnSecureToken:!0}),l=await Fi._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(l.user),l}function P1(r,t,n,s){return qe(r).onIdTokenChanged(t,n,s)}function k1(r,t,n){return qe(r).beforeAuthStateChanged(t,n)}function U1(r,t,n,s){return qe(r).onAuthStateChanged(t,n,s)}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=1e3,z1=10;class j0 extends B0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);f1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,z1):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},L1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}j0.type="LOCAL";const B1=j0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends B0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}q0.type="SESSION";const H0=q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new eh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await j1(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=Am("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(I){const C=I;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function H1(r){ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function G1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F1(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Q1(){return G0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="firebaseLocalStorageDb",K1=1,jc="firebaseLocalStorage",Q0="fbase_key";class Ll{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nh(r,t){return r.transaction([jc],t?"readwrite":"readonly").objectStore(jc)}function Y1(){const r=indexedDB.deleteDatabase(F0);return new Ll(r).toPromise()}function Fd(){const r=indexedDB.open(F0,K1);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(jc,{keyPath:Q0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(jc)?t(s):(s.close(),await Y1(),t(await Fd()))})})}async function q_(r,t,n){const s=nh(r,!0).put({[Q0]:t,value:n});return new Ll(s).toPromise()}async function X1(r,t){const n=nh(r,!1).get(t),s=await new Ll(n).toPromise();return s===void 0?null:s.value}function H_(r,t){const n=nh(r,!0).delete(t);return new Ll(n).toPromise()}const $1=800,Z1=3;class K0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Z1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(Q1()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await G1(),!this.activeServiceWorker)return;this.sender=new q1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||F1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await q_(t,Bc,"1"),await H_(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>q_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>X1(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>H_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=nh(l,!1).getAll();return new Ll(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K0.type="LOCAL";const J1=K0;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r,t){return t?Bi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends U0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,n){return za(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tw(r){return V1(r.auth,new bm(r),r.bypassAuthState)}function ew(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),O1(n,new bm(r),r.bypassAuthState)}async function nw(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),N1(n,new bm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tw;case"linkViaPopup":case"linkViaRedirect":return nw;case"reauthViaPopup":case"reauthViaRedirect":return ew;default:Hi(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new xl(2e3,1e4);class ka extends Y0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=Am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iw.get())};t()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="pendingRedirect",Rc=new Map;class sw extends Y0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Rc.get(this.auth._key());if(!t){try{const s=await aw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Rc.set(this.auth._key(),t)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aw(r,t){const n=uw(t),s=lw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function ow(r,t){Rc.set(r._key(),t)}function lw(r){return Bi(r._redirectPersistence)}function uw(r){return wc(rw,r.config.apiKey,r.name)}async function cw(r,t,n=!1){if(On(r.app))return Promise.reject(ji(r));const s=kl(r),l=W1(s,t),f=await new sw(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=10*60*1e3;class fw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!X0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(si(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hw&&this.cachedEventUids.clear(),this.cachedEventUids.has(G_(t))}saveEventToCache(t){this.cachedEventUids.add(G_(t)),this.lastProcessedEventTime=Date.now()}}function G_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function X0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function dw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(r,t={}){return $a(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pw=/^https?/;async function yw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await mw(r);for(const n of t)try{if(_w(n))return}catch{}Hi(r,"unauthorized-domain")}function _w(r){const t=Hd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!pw.test(n))return!1;if(gw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new xl(3e4,6e4);function F_(){const r=ai().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Ew(r){return new Promise((t,n)=>{var s,l,c;function f(){F_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{F_(),n(si(r,"network-request-failed"))},timeout:vw.get()})}if(!((l=(s=ai().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ai().gapi)===null||c===void 0)&&c.load)f();else{const g=T1("iframefcb");return ai()[g]=()=>{gapi.load?f():n(si(r,"network-request-failed"))},v1(`${E1()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Ic=null,t})}let Ic=null;function Tw(r){return Ic=Ic||Ew(r),Ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new xl(5e3,15e3),bw="__/auth/iframe",Sw="emulator/auth/iframe",ww={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iw(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?ym(t,Sw):`https://${r.config.authDomain}/${bw}`,s={apiKey:t.apiKey,appName:r.name,v:Xa},l=Rw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Ml(s).slice(1)}`}async function Cw(r){const t=await Tw(r),n=ai().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:Iw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ww,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=si(r,"network-request-failed"),g=ai().setTimeout(()=>{c(f)},Aw.get());function p(){ai().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nw=500,Ow=600,Vw="_blank",Mw="http://localhost";class Q_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xw(r,t,n,s=Nw,l=Ow){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},Dw),{width:s.toString(),height:l.toString(),top:c,left:f}),_=$e().toLowerCase();n&&(g=D0(_)?Vw:n),I0(_)&&(t=t||Mw,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[H,$])=>`${C}${H}=${$},`,"");if(h1(_)&&g!=="_self")return Pw(t||"",g),new Q_(null);const I=window.open(t||"",g,T);vt(I,r,"popup-blocked");try{I.focus()}catch{}return new Q_(I)}function Pw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="__/auth/handler",Uw="emulator/auth/handler",Lw=encodeURIComponent("fac");async function K_(r,t,n,s,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Xa,eventId:l};if(t instanceof L0){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",xb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,I]of Object.entries({}))f[T]=I}if(t instanceof Ul){const T=t.getScopes().filter(I=>I!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${Lw}=${encodeURIComponent(p)}`:"";return`${zw(r)}?${Ml(g).slice(1)}${_}`}function zw({config:r}){return r.emulator?ym(r,Uw):`https://${r.authDomain}/${kw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="webStorageSupport";class Bw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H0,this._completeRedirectFn=cw,this._overrideRedirectResult=ow}async _openPopup(t,n,s,l){var c;Gi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await K_(t,n,s,Hd(),l);return xw(t,f,Am())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await K_(t,n,s,Hd(),l);return H1(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Gi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Cw(t),s=new fw(t);return n.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Od,{type:Od},l=>{var c;const f=(c=l?.[0])===null||c===void 0?void 0:c[Od];f!==void 0&&n(!!f),Hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return x0()||C0()||Em()}}const jw=Bw;var Y_="@firebase/auth",X_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gw(r){qa(new Ms("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P0(r)},_=new y1(s,l,c,p);return b1(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),qa(new Ms("auth-internal",t=>{const n=kl(t.getProvider("auth").getImmediate());return(s=>new qw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(Y_,X_,Hw(r)),Vr(Y_,X_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=5*60,Qw=c0("authIdTokenMaxAge")||Fw;let $_=null;const Kw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Qw)return;const l=n?.token;$_!==l&&($_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Yw(r=p0()){const t=mm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=A1(r,{popupRedirectResolver:jw,persistence:[J1,B1,H0]}),s=c0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=Kw(c.toString());k1(n,f,()=>f(n.currentUser)),P1(n,g=>f(g))}}const l=l0("auth");return l&&S1(n,`http://${l}`),n}function Xw(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}_1({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=si("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",Xw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gw("Browser");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,$0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function D(){}D.prototype=S.prototype,M.D=S.prototype,M.prototype=new D,M.prototype.constructor=M,M.C=function(V,x,w){for(var b=Array(arguments.length-2),St=2;St<arguments.length;St++)b[St-2]=arguments[St];return S.prototype[x].apply(V,b)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,S,D){D||(D=0);var V=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)V[x]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(x=0;16>x;++x)V[x]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=M.g[0],D=M.g[1],x=M.g[2];var w=M.g[3],b=S+(w^D&(x^w))+V[0]+3614090360&4294967295;S=D+(b<<7&4294967295|b>>>25),b=w+(x^S&(D^x))+V[1]+3905402710&4294967295,w=S+(b<<12&4294967295|b>>>20),b=x+(D^w&(S^D))+V[2]+606105819&4294967295,x=w+(b<<17&4294967295|b>>>15),b=D+(S^x&(w^S))+V[3]+3250441966&4294967295,D=x+(b<<22&4294967295|b>>>10),b=S+(w^D&(x^w))+V[4]+4118548399&4294967295,S=D+(b<<7&4294967295|b>>>25),b=w+(x^S&(D^x))+V[5]+1200080426&4294967295,w=S+(b<<12&4294967295|b>>>20),b=x+(D^w&(S^D))+V[6]+2821735955&4294967295,x=w+(b<<17&4294967295|b>>>15),b=D+(S^x&(w^S))+V[7]+4249261313&4294967295,D=x+(b<<22&4294967295|b>>>10),b=S+(w^D&(x^w))+V[8]+1770035416&4294967295,S=D+(b<<7&4294967295|b>>>25),b=w+(x^S&(D^x))+V[9]+2336552879&4294967295,w=S+(b<<12&4294967295|b>>>20),b=x+(D^w&(S^D))+V[10]+4294925233&4294967295,x=w+(b<<17&4294967295|b>>>15),b=D+(S^x&(w^S))+V[11]+2304563134&4294967295,D=x+(b<<22&4294967295|b>>>10),b=S+(w^D&(x^w))+V[12]+1804603682&4294967295,S=D+(b<<7&4294967295|b>>>25),b=w+(x^S&(D^x))+V[13]+4254626195&4294967295,w=S+(b<<12&4294967295|b>>>20),b=x+(D^w&(S^D))+V[14]+2792965006&4294967295,x=w+(b<<17&4294967295|b>>>15),b=D+(S^x&(w^S))+V[15]+1236535329&4294967295,D=x+(b<<22&4294967295|b>>>10),b=S+(x^w&(D^x))+V[1]+4129170786&4294967295,S=D+(b<<5&4294967295|b>>>27),b=w+(D^x&(S^D))+V[6]+3225465664&4294967295,w=S+(b<<9&4294967295|b>>>23),b=x+(S^D&(w^S))+V[11]+643717713&4294967295,x=w+(b<<14&4294967295|b>>>18),b=D+(w^S&(x^w))+V[0]+3921069994&4294967295,D=x+(b<<20&4294967295|b>>>12),b=S+(x^w&(D^x))+V[5]+3593408605&4294967295,S=D+(b<<5&4294967295|b>>>27),b=w+(D^x&(S^D))+V[10]+38016083&4294967295,w=S+(b<<9&4294967295|b>>>23),b=x+(S^D&(w^S))+V[15]+3634488961&4294967295,x=w+(b<<14&4294967295|b>>>18),b=D+(w^S&(x^w))+V[4]+3889429448&4294967295,D=x+(b<<20&4294967295|b>>>12),b=S+(x^w&(D^x))+V[9]+568446438&4294967295,S=D+(b<<5&4294967295|b>>>27),b=w+(D^x&(S^D))+V[14]+3275163606&4294967295,w=S+(b<<9&4294967295|b>>>23),b=x+(S^D&(w^S))+V[3]+4107603335&4294967295,x=w+(b<<14&4294967295|b>>>18),b=D+(w^S&(x^w))+V[8]+1163531501&4294967295,D=x+(b<<20&4294967295|b>>>12),b=S+(x^w&(D^x))+V[13]+2850285829&4294967295,S=D+(b<<5&4294967295|b>>>27),b=w+(D^x&(S^D))+V[2]+4243563512&4294967295,w=S+(b<<9&4294967295|b>>>23),b=x+(S^D&(w^S))+V[7]+1735328473&4294967295,x=w+(b<<14&4294967295|b>>>18),b=D+(w^S&(x^w))+V[12]+2368359562&4294967295,D=x+(b<<20&4294967295|b>>>12),b=S+(D^x^w)+V[5]+4294588738&4294967295,S=D+(b<<4&4294967295|b>>>28),b=w+(S^D^x)+V[8]+2272392833&4294967295,w=S+(b<<11&4294967295|b>>>21),b=x+(w^S^D)+V[11]+1839030562&4294967295,x=w+(b<<16&4294967295|b>>>16),b=D+(x^w^S)+V[14]+4259657740&4294967295,D=x+(b<<23&4294967295|b>>>9),b=S+(D^x^w)+V[1]+2763975236&4294967295,S=D+(b<<4&4294967295|b>>>28),b=w+(S^D^x)+V[4]+1272893353&4294967295,w=S+(b<<11&4294967295|b>>>21),b=x+(w^S^D)+V[7]+4139469664&4294967295,x=w+(b<<16&4294967295|b>>>16),b=D+(x^w^S)+V[10]+3200236656&4294967295,D=x+(b<<23&4294967295|b>>>9),b=S+(D^x^w)+V[13]+681279174&4294967295,S=D+(b<<4&4294967295|b>>>28),b=w+(S^D^x)+V[0]+3936430074&4294967295,w=S+(b<<11&4294967295|b>>>21),b=x+(w^S^D)+V[3]+3572445317&4294967295,x=w+(b<<16&4294967295|b>>>16),b=D+(x^w^S)+V[6]+76029189&4294967295,D=x+(b<<23&4294967295|b>>>9),b=S+(D^x^w)+V[9]+3654602809&4294967295,S=D+(b<<4&4294967295|b>>>28),b=w+(S^D^x)+V[12]+3873151461&4294967295,w=S+(b<<11&4294967295|b>>>21),b=x+(w^S^D)+V[15]+530742520&4294967295,x=w+(b<<16&4294967295|b>>>16),b=D+(x^w^S)+V[2]+3299628645&4294967295,D=x+(b<<23&4294967295|b>>>9),b=S+(x^(D|~w))+V[0]+4096336452&4294967295,S=D+(b<<6&4294967295|b>>>26),b=w+(D^(S|~x))+V[7]+1126891415&4294967295,w=S+(b<<10&4294967295|b>>>22),b=x+(S^(w|~D))+V[14]+2878612391&4294967295,x=w+(b<<15&4294967295|b>>>17),b=D+(w^(x|~S))+V[5]+4237533241&4294967295,D=x+(b<<21&4294967295|b>>>11),b=S+(x^(D|~w))+V[12]+1700485571&4294967295,S=D+(b<<6&4294967295|b>>>26),b=w+(D^(S|~x))+V[3]+2399980690&4294967295,w=S+(b<<10&4294967295|b>>>22),b=x+(S^(w|~D))+V[10]+4293915773&4294967295,x=w+(b<<15&4294967295|b>>>17),b=D+(w^(x|~S))+V[1]+2240044497&4294967295,D=x+(b<<21&4294967295|b>>>11),b=S+(x^(D|~w))+V[8]+1873313359&4294967295,S=D+(b<<6&4294967295|b>>>26),b=w+(D^(S|~x))+V[15]+4264355552&4294967295,w=S+(b<<10&4294967295|b>>>22),b=x+(S^(w|~D))+V[6]+2734768916&4294967295,x=w+(b<<15&4294967295|b>>>17),b=D+(w^(x|~S))+V[13]+1309151649&4294967295,D=x+(b<<21&4294967295|b>>>11),b=S+(x^(D|~w))+V[4]+4149444226&4294967295,S=D+(b<<6&4294967295|b>>>26),b=w+(D^(S|~x))+V[11]+3174756917&4294967295,w=S+(b<<10&4294967295|b>>>22),b=x+(S^(w|~D))+V[2]+718787259&4294967295,x=w+(b<<15&4294967295|b>>>17),b=D+(w^(x|~S))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(x+(b<<21&4294967295|b>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+w&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var D=S-this.blockSize,V=this.B,x=this.h,w=0;w<S;){if(x==0)for(;w<=D;)l(this,M,w),w+=this.blockSize;if(typeof M=="string"){for(;w<S;)if(V[x++]=M.charCodeAt(w++),x==this.blockSize){l(this,V),x=0;break}}else for(;w<S;)if(V[x++]=M[w++],x==this.blockSize){l(this,V),x=0;break}}this.h=x,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var D=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=D&255,D/=256;for(this.u(M),M=Array(16),S=D=0;4>S;++S)for(var V=0;32>V;V+=8)M[D++]=this.g[S]>>>V&255;return M};function c(M,S){var D=g;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=S(M)}function f(M,S){this.h=S;for(var D=[],V=!0,x=M.length-1;0<=x;x--){var w=M[x]|0;V&&w==S||(D[x]=w,V=!1)}this.g=D}var g={};function p(M){return-128<=M&&128>M?c(M,function(S){return new f([S|0],0>S?-1:0)}):new f([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return Z(_(-M));for(var S=[],D=1,V=0;M>=D;V++)S[V]=M/D|0,D*=4294967296;return new f(S,0)}function T(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return Z(T(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=_(Math.pow(S,8)),V=I,x=0;x<M.length;x+=8){var w=Math.min(8,M.length-x),b=parseInt(M.substring(x,x+w),S);8>w?(w=_(Math.pow(S,w)),V=V.j(w).add(_(b))):(V=V.j(D),V=V.add(_(b)))}return V}var I=p(0),C=p(1),H=p(16777216);r=f.prototype,r.m=function(){if(et(this))return-Z(this).m();for(var M=0,S=1,D=0;D<this.g.length;D++){var V=this.i(D);M+=(0<=V?V:4294967296+V)*S,S*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(et(this))return"-"+Z(this).toString(M);for(var S=_(Math.pow(M,6)),D=this,V="";;){var x=Ot(D,S).g;D=_t(D,x.j(S));var w=((0<D.g.length?D.g[0]:D.h)>>>0).toString(M);if(D=x,$(D))return w+V;for(;6>w.length;)w="0"+w;V=w+V}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function et(M){return M.h==-1}r.l=function(M){return M=_t(this,M),et(M)?-1:$(M)?0:1};function Z(M){for(var S=M.g.length,D=[],V=0;V<S;V++)D[V]=~M.g[V];return new f(D,~M.h).add(C)}r.abs=function(){return et(this)?Z(this):this},r.add=function(M){for(var S=Math.max(this.g.length,M.g.length),D=[],V=0,x=0;x<=S;x++){var w=V+(this.i(x)&65535)+(M.i(x)&65535),b=(w>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);V=b>>>16,w&=65535,b&=65535,D[x]=b<<16|w}return new f(D,D[D.length-1]&-2147483648?-1:0)};function _t(M,S){return M.add(Z(S))}r.j=function(M){if($(this)||$(M))return I;if(et(this))return et(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(et(M))return Z(this.j(Z(M)));if(0>this.l(H)&&0>M.l(H))return _(this.m()*M.m());for(var S=this.g.length+M.g.length,D=[],V=0;V<2*S;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(var x=0;x<M.g.length;x++){var w=this.i(V)>>>16,b=this.i(V)&65535,St=M.i(x)>>>16,Tt=M.i(x)&65535;D[2*V+2*x]+=b*Tt,ut(D,2*V+2*x),D[2*V+2*x+1]+=w*Tt,ut(D,2*V+2*x+1),D[2*V+2*x+1]+=b*St,ut(D,2*V+2*x+1),D[2*V+2*x+2]+=w*St,ut(D,2*V+2*x+2)}for(V=0;V<S;V++)D[V]=D[2*V+1]<<16|D[2*V];for(V=S;V<2*S;V++)D[V]=0;return new f(D,0)};function ut(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ct(M,S){this.g=M,this.h=S}function Ot(M,S){if($(S))throw Error("division by zero");if($(M))return new ct(I,I);if(et(M))return S=Ot(Z(M),S),new ct(Z(S.g),Z(S.h));if(et(S))return S=Ot(M,Z(S)),new ct(Z(S.g),S.h);if(30<M.g.length){if(et(M)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var D=C,V=S;0>=V.l(M);)D=pt(D),V=pt(V);var x=Vt(D,1),w=Vt(V,1);for(V=Vt(V,2),D=Vt(D,2);!$(V);){var b=w.add(V);0>=b.l(M)&&(x=x.add(D),w=b),V=Vt(V,1),D=Vt(D,1)}return S=_t(M,x.j(S)),new ct(x,S)}for(x=I;0<=M.l(S);){for(D=Math.max(1,Math.floor(M.m()/S.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),w=_(D),b=w.j(S);et(b)||0<b.l(M);)D-=V,w=_(D),b=w.j(S);$(w)&&(w=C),x=x.add(w),M=_t(M,b)}return new ct(x,M)}r.A=function(M){return Ot(this,M).h},r.and=function(M){for(var S=Math.max(this.g.length,M.g.length),D=[],V=0;V<S;V++)D[V]=this.i(V)&M.i(V);return new f(D,this.h&M.h)},r.or=function(M){for(var S=Math.max(this.g.length,M.g.length),D=[],V=0;V<S;V++)D[V]=this.i(V)|M.i(V);return new f(D,this.h|M.h)},r.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),D=[],V=0;V<S;V++)D[V]=this.i(V)^M.i(V);return new f(D,this.h^M.h)};function pt(M){for(var S=M.g.length+1,D=[],V=0;V<S;V++)D[V]=M.i(V)<<1|M.i(V-1)>>>31;return new f(D,M.h)}function Vt(M,S){var D=S>>5;S%=32;for(var V=M.g.length-D,x=[],w=0;w<V;w++)x[w]=0<S?M.i(w+D)>>>S|M.i(w+D+1)<<32-S:M.i(w+D);return new f(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,Mr=f}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z0,dl,J0,Cc,Qd,W0,tE,eE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var k=u[A];if(!(k in y))break t;y=y[k]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,k={next:function(){if(!A&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function C(u,m,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:I,C.apply(null,arguments)}function H(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function $(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,k,q){for(var W=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)W[Ut-2]=arguments[Ut];return m.prototype[k].apply(A,W)}}function et(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const k=u.length||0,q=A.length||0;u.length=k+q;for(let W=0;W<q;W++)u[k+W]=A[W]}else u.push(A)}}class _t{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ot(u){return Ot[" "](u),u}Ot[" "]=function(){};var pt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Vt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let y,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(y in A)u[y]=A[y];for(let q=0;q<D.length;q++)y=D[q],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function x(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function w(u){g.setTimeout(()=>{throw u},0)}function b(){var u=Rt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,y){const A=Tt.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var Tt=new _t(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,at=!1,Rt=new St,N=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(X)}};var X=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(y){w(y)}var m=Tt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}at=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Dt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{Ot(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}$(Dt,J);var Et={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function jn(u,m,y,A,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=k,this.key=++Wt,this.da=this.fa=!1}function Xi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function di(u){this.src=u,this.g={},this.h=0}di.prototype.add=function(u,m,y,A,k){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=Fr(u,m,A,k);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new jn(m,this.src,q,!!A,k),m.fa=y,u.push(m)),m};function Gr(u,m){var y=m.type;if(y in u.g){var A=u.g[y],k=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(A,k,1),q&&(Xi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Fr(u,m,y,A){for(var k=0;k<u.length;++k){var q=u[k];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==A)return k}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),no={};function Ql(u,m,y,A,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Ql(u,m[q],y,A,k);return null}return y=Kl(y),u&&u[Ce]?u.K(m,y,_(A)?!!A.capture:!1,k):_n(u,m,y,!1,A,k)}function _n(u,m,y,A,k,q){if(!m)throw Error("Invalid event type");var W=_(k)?!!k.capture:!!k,Ut=Bs(u);if(Ut||(u[Qr]=Ut=new di(u)),y=Ut.add(m,y,A,W,q),y.proxy)return y;if(A=_h(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)ft||(k=W),k===void 0&&(k=!1),u.addEventListener(m.toString(),A,k);else if(u.attachEvent)u.attachEvent(Kr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function _h(){function u(y){return m.call(u.src,u.listener,y)}const m=vh;return u}function io(u,m,y,A,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)io(u,m[q],y,A,k);else A=_(A)?!!A.capture:!!A,y=Kl(y),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Fr(q,y,A,k),-1<y&&(Xi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Bs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Fr(m,y,A,k)),(y=-1<u?m[u]:null)&&zs(y))}function zs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Gr(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(Kr(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=Bs(m))?(Gr(y,u),y.h==0&&(y.src=null,m[Qr]=null)):Xi(u)}}}function Kr(u){return u in no?no[u]:no[u]="on"+u}function vh(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&zs(u),u=y.call(A,m)}return u}function Bs(u){return u=u[Qr],u instanceof di?u:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kl(u){return typeof u=="function"?u:(u[ro]||(u[ro]=function(m){return u.handleEvent(m)}),u[ro])}function oe(){nt.call(this),this.i=new di(this),this.M=this,this.F=null}$(oe,nt),oe.prototype[Ce]=!0,oe.prototype.removeEventListener=function(u,m,y,A){io(this,u,m,y,A)};function Ft(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var k=m;m=new J(A,u),V(m,k)}if(k=!0,y)for(var q=y.length-1;0<=q;q--){var W=m.g=y[q];k=on(W,A,!0,m)&&k}if(W=m.g=u,k=on(W,A,!0,m)&&k,k=on(W,A,!1,m)&&k,y)for(q=0;q<y.length;q++)W=m.g=y[q],k=on(W,A,!1,m)&&k}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)Xi(y[A]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},oe.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function on(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==y){var Ut=W.listener,be=W.ha||W.src;W.fa&&Gr(u.i,W),k=Ut.call(be,A)!==!1&&k}}return k&&!A.defaultPrevented}function Ge(u,m,y){if(typeof u=="function")y&&(u=C(u,y));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Yl(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,Yl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Eh extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(u){nt.call(this),this.h=u,this.g={}}$(Yr,nt);var Xr=[];function $r(u){Vt(u.g,function(m,y){this.g.hasOwnProperty(y)&&zs(m)},u),u.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),$r(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=g.JSON.stringify,js=g.JSON.parse,Zr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function so(){}so.prototype.h=null;function ao(u){return u.h||(u.h=u.i())}function oo(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){J.call(this,"d")}$(gi,J);function lo(){J.call(this,"c")}$(lo,J);var qn={},uo=null;function $i(){return uo=uo||new oe}qn.La="serverreachability";function qs(u){J.call(this,qn.La,u)}$(qs,J);function Zi(u){const m=$i();Ft(m,new qs(m))}qn.STAT_EVENT="statevent";function Xl(u,m){J.call(this,qn.STAT_EVENT,u),this.stat=m}$(Xl,J);function ie(u){const m=$i();Ft(m,new Xl(m,u))}qn.Ma="timingevent";function Ae(u,m){J.call(this,qn.Ma,u),this.size=m}$(Ae,J);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function co(u,m,y,A,k,q){u.info(function(){if(u.g)if(q)for(var W="",Ut=q.split("&"),be=0;be<Ut.length;be++){var Lt=Ut[be].split("=");if(1<Lt.length){var Ne=Lt[0];Lt=Lt[1];var Se=Ne.split("_");W=2<=Se.length&&Se[1]=="type"?W+(Ne+"="+Lt+"&"):W+(Ne+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+y+`
`+W})}function Th(u,m,y,A,k,q,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+y+`
`+q+" "+W})}function Ji(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jr(u,y)+(A?" "+A:"")})}function $l(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function Jr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<k.length;W++)k[W]=""}}}}return Mn(y)}catch{return m}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Gn(){}$(Gn,so),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Hn=new Gn;function Ze(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var ho={},Hs={};function xn(u,m,y){u.L=1,u.v=is(ln(m)),u.m=y,u.P=!0,yi(u,null)}function yi(u,m){u.F=Date.now(),Wr(u),u.A=ln(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),_o(y.i,"t",A),u.C=0,y=u.j.J,u.h=new ce,u.g=fu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Eh(C(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Xr[0]=k.toString()),k=Xr);for(var q=0;q<k.length;q++){var W=Ql(y,k[q],A||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Zi(),co(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Se=bn(this.g);var m=this.g.Ba();const wi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||ru(this.g)))){this.J||Se!=4||m==7||(m==8||0>=wi?Zi(3):Zi(2)),tr(this);var y=this.g.Z();this.X=y;e:if(Zl(this)){var A=ru(this.g);u="";var k=A.length,q=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Fn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==k-1)});A.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,Th(this.i,this.u,this.A,this.l,this.R,Se,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,be=this.g;if((Ut=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Ut)){var Lt=Ut;break e}}Lt=null}if(y=Lt)Ji(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ts(this,y);else{this.o=!1,this.s=3,ie(12),Pe(this),Fn(this);break t}}if(this.P){y=!0;let ke;for(;!this.J&&this.C<W.length;)if(ke=Jl(this,W),ke==Hs){Se==4&&(this.s=4,ie(14),y=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==ho){this.s=4,ie(15),Ji(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else Ji(this.i,this.l,ke,null),ts(this,ke);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||W.length!=0||this.h.h||(this.s=1,ie(16),y=!1),this.o=this.o&&y,!y)Ji(this.i,this.l,W,"[Invalid Chunked Response]"),Pe(this),Fn(this);else if(0<W.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),hs(Ne),Ne.M=!0,ie(11))}}else Ji(this.i,this.l,W,null),ts(this,W);Se==4&&Pe(this),this.o&&!this.J&&(Se==4?uu(this.j,this):(this.o=!1,Wr(this)))}else Rh(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Pe(this),Fn(this)}}}catch{}finally{}};function Zl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Jl(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Hs:(y=Number(m.substring(y,A)),isNaN(y)?ho:(A+=1,A+y>m.length?Hs:(m=m.slice(A,A+y),u.C=A+y,m)))}Ze.prototype.cancel=function(){this.J=!0,Pe(this)};function Wr(u){u.S=Date.now()+u.I,Wl(u,u.I)}function Wl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(C(u.ba,u),m)}function tr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($l(this.i,this.A),this.L!=2&&(Zi(),ie(17)),Pe(this),this.s=2,Fn(this)):Wl(this,this.S-u)};function Fn(u){u.j.G==0||u.J||uu(u.j,u)}function Pe(u){tr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,$r(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ts(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||fo(y.h,u))){if(!u.K&&fo(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ea(y),Ws(y);else break t;bo(y),ie(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=me(C(y.Za,y),6e3));if(1>=Fs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Si(y,11)}else if((u.K||y.g==u)&&ea(y),!ut(m))for(k=y.Da.g.parse(m),m=0;m<k.length;m++){let Lt=k[m];if(y.T=Lt[0],Lt=Lt[1],y.G==2)if(Lt[0]=="c"){y.K=Lt[1],y.ia=Lt[2];const Ne=Lt[3];Ne!=null&&(y.la=Ne,y.j.info("VER="+y.la));const Se=Lt[4];Se!=null&&(y.Aa=Se,y.j.info("SVER="+y.Aa));const wi=Lt[5];wi!=null&&typeof wi=="number"&&0<wi&&(A=1.5*wi,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const ke=u.g;if(ke){const Jn=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var q=A.h;q.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Qs(q,q.h),q.h=null))}if(A.D){const wo=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(A.ya=wo,Yt(A.I,A.D,wo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var W=u;if(A.qa=hu(A,A.J?A.ia:null,A.W),W.K){Je(A.h,W);var Ut=W,be=A.L;be&&(Ut.I=be),Ut.B&&(tr(Ut),Wr(Ut)),A.g=W}else ou(A);0<y.i.length&&ta(y)}else Lt[0]!="stop"&&Lt[0]!="close"||Si(y,7);else y.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Si(y,7):To(y):Lt[0]!="noop"&&y.l&&y.l.ta(Lt),y.v=0)}}Zi(4)}catch{}}var tu=class{constructor(u,m){this.g=u,this.map=m}};function _i(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fs(u){return u.h?1:u.g?u.g.size:0}function fo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Qs(u,m){u.g?u.g.add(m):u.h=m}function Je(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_i.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function mo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return et(u.i)}function Ah(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function Ks(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function go(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ks(u),A=Ah(u),k=A.length,q=0;q<k;q++)m.call(void 0,A[q],y&&y[q],u)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),k=null;if(0<=A){var q=u[y].substring(0,A);k=u[y].substring(A+1)}else q=u[y];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,ns(this,u.j),this.o=u.o,this.g=u.g,er(this,u.s),this.l=u.l;var m=u.i,y=new Ei;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),vi(this,y),this.m=u.m}else u&&(m=String(u).match(es))?(this.h=!1,ns(this,m[1]||"",!0),this.o=En(m[2]||""),this.g=En(m[3]||"",!0),er(this,m[4]),this.l=En(m[5]||"",!0),vi(this,m[6]||"",!0),this.m=En(m[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(rs(m,po,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(rs(m,po,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(rs(y,y.charAt(0)=="/"?Sh:yo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",rs(y,Ys)),u.join("")};function ln(u){return new ge(u)}function ns(u,m,y){u.j=y?En(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function er(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function vi(u,m,y){m instanceof Ei?(u.i=m,nu(u.i,u.h)):(y||(m=rs(m,wh)),u.i=new Ei(m,u.h))}function Yt(u,m,y){u.i.set(m,y)}function is(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function En(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rs(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,eu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function eu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var po=/[#\/\?@]/g,yo=/[#\?:]/g,Sh=/[#\?]/g,wh=/[#\?@]/g,Ys=/#/g;function Ei(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&bh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ei.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Qn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ti(u,m){Tn(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ai(u,m){return Tn(u),m=Qn(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(y,A){y.forEach(function(k){u.call(m,k,A,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const k=u[A];for(let q=0;q<k.length;q++)y.push(m[A])}return y},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")Ai(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Qn(this,u),Ai(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function _o(u,m,y){Ti(u,m),0<y.length&&(u.i=null,u.g.set(Qn(u,m),et(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const q=encodeURIComponent(String(A)),W=this.V(A);for(A=0;A<W.length;A++){var k=q;W[A]!==""&&(k+="="+encodeURIComponent(String(W[A]))),u.push(k)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function nu(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(y,A){var k=A.toLowerCase();A!=k&&(Ti(this,A),_o(this,k,y))},u)),u.j=m}function ss(u,m){const y=new vn;if(g.Image){const A=new Image;A.onload=H(An,y,"TestLoadImage: loaded",!0,m,A),A.onerror=H(An,y,"TestLoadImage: error",!1,m,A),A.onabort=H(An,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=H(An,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Pn(u,m){const y=new vn,A=new AbortController,k=setTimeout(()=>{A.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(k),q.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(y)}catch{}}function as(){this.g=new Zr}function Kn(u,m,y){const A=y||"";try{go(u,function(k,q){let W=k;_(k)&&(W=Mn(k)),m.push(A+q+"="+encodeURIComponent(W))})}catch(k){throw m.push(A+"type="+encodeURIComponent("_badmap")),k}}function nr(u){this.l=u.Ub||null,this.j=u.eb||!1}$(nr,so),nr.prototype.g=function(){return new bi(this.l,this.j)},nr.prototype.i=function(u){return function(){return u}}({});function bi(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(bi,oe),r=bi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&vo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},r.Qa=function(u){this.g&&(this.response=u,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Eo(u){let m="";return Vt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function De(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=Eo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Yt(u,m,y))}function Ht(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Ht,oe);var Xs=/^https?$/i,os=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?ao(this.o):ao(Hn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){iu(this,q);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)y.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())y.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(os,m,void 0))||A||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of y)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ls(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){iu(this,q)}};function iu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,$s(u),$n(u)}function $s(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Zs(this):this.bb())},r.bb=function(){Zs(this)};function Zs(u){if(u.h&&typeof f<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Ge(u.Ea,0,u);else if(Ft(u,"readystatechange"),bn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=W===0){var k=String(u.D).match(es)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),A=!Xs.test(k?k.toLowerCase():"")}y=A}if(y)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var q=2<bn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",$s(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){ls(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ft(u,"ready");try{y.onreadystatechange=A}catch{}}}function ls(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),js(m)}};function ru(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rh(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ut(u[A]))continue;var y=x(u[A]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[k]||[];m[k]=q,q.push(y)}M(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Js(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,u),this.cb=us("retryDelaySeedMs",1e4,u),this.Wa=us("forwardChannelMaxRetries",2,u),this.wa=us("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(u&&u.concurrentRequestLimit),this.Da=new as,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Js.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){ie(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=hu(this,null,this.W),ta(this)};function To(u){if(su(u),u.G==3){var m=u.U++,y=ln(u.I);if(Yt(y,"SID",u.K),Yt(y,"RID",m),Yt(y,"TYPE","terminate"),cs(u,y),m=new Ze(u,u.j,m),m.L=2,m.v=is(ln(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=fu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wr(m)}cu(u)}function Ws(u){u.g&&(hs(u),u.g.cancel(),u.g=null)}function su(u){Ws(u),u.u&&(g.clearTimeout(u.u),u.u=null),ea(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ta(u){if(!Gs(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||N(),at||(tt(),at=!0),Rt.add(m,u),u.B=0}}function Ih(u,m){return Fs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(C(u.Ga,u,m),So(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Ze(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),V(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=au(this,k,m),y=ln(this.I),Yt(y,"RID",u),Yt(y,"CVER",22),this.D&&Yt(y,"X-HTTP-Session-Id",this.D),cs(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(Eo(q)))+"&"+m:this.m&&De(y,this.m,q)),Qs(this.h,k),this.Ua&&Yt(y,"TYPE","init"),this.P?(Yt(y,"$req",m),Yt(y,"SID","null"),k.T=!0,xn(k,y,null)):xn(k,y,m),this.G=2}}else this.G==3&&(u?Ao(this,u):this.i.length==0||Gs(this.h)||Ao(this))};function Ao(u,m){var y;m?y=m.l:y=u.U++;const A=ln(u.I);Yt(A,"SID",u.K),Yt(A,"RID",y),Yt(A,"AID",u.T),cs(u,A),u.m&&u.o&&De(A,u.m,u.o),y=new Ze(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=au(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Qs(u.h,y),xn(y,A,m)}function cs(u,m){u.H&&Vt(u.H,function(y,A){Yt(m,A,y)}),u.l&&go({},function(y,A){Yt(m,A,y)})}function au(u,m,y){y=Math.min(u.i.length,y);var A=u.l?C(u.l.Na,u.l,u):null;t:{var k=u.i;let q=-1;for(;;){const W=["count="+y];q==-1?0<y?(q=k[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Ut=!0;for(let be=0;be<y;be++){let Lt=k[be].g;const Ne=k[be].map;if(Lt-=q,0>Lt)q=Math.max(0,k[be].g-100),Ut=!1;else try{Kn(Ne,W,"req"+Lt+"_")}catch{A&&A(Ne)}}if(Ut){A=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function ou(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||N(),at||(tt(),at=!0),Rt.add(m,u),u.v=0}}function bo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(C(u.Fa,u),So(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Ws(this),lu(this))};function hs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function lu(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),cs(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=is(ln(m)),y.m=null,y.P=!0,yi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Ws(this),bo(this),ie(19))};function ea(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function uu(u,m){var y=null;if(u.g==m){ea(u),hs(u),u.g=null;var A=2}else if(fo(u.h,m))y=m.D,Je(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;A=$i(),Ft(A,new Ae(A,y)),ta(u)}else ou(u);else if(k=m.s,k==3||k==0&&0<m.X||!(A==1&&Ih(u,m)||A==2&&bo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),k){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function So(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var y=C(u.fb,u),A=u.Xa;const k=!A;A=new ge(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ns(A,"https"),is(A),k?ss(A.toString(),y):Pn(A.toString(),y)}else ie(2);u.G=0,u.l&&u.l.sa(m),cu(u),su(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function cu(u){if(u.G=0,u.ka=[],u.l){const m=mo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,et(u.i),u.i.length=0),u.l.ra()}}function hu(u,m,y){var A=y instanceof ge?ln(y):new ge(y);if(A.g!="")m&&(A.g=m+"."+A.g),er(A,A.s);else{var k=g.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new ge(null);A&&ns(q,A),m&&(q.g=m),k&&er(q,k),y&&(q.l=y),A=q}return y=u.D,m=u.ya,y&&m&&Yt(A,y,m),Yt(A,"VER",u.la),cs(u,A),A}function fu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new nr({eb:y})):new Ht(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}r=du.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function na(){}na.prototype.g=function(u,m){return new We(u,m)};function We(u,m){oe.call(this),this.g=new Js(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ut(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}$(We,oe),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){To(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Mn(u),u=y);m.i.push(new tu(m.Ya++,u)),m.G==3&&ta(m)},We.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,We.aa.N.call(this)};function mu(u){gi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(mu,gi);function gu(){lo.call(this),this.status=1}$(gu,lo);function Zn(u){this.g=u}$(Zn,du),Zn.prototype.ua=function(){Ft(this.g,"a")},Zn.prototype.ta=function(u){Ft(this.g,new mu(u))},Zn.prototype.sa=function(u){Ft(this.g,new gu)},Zn.prototype.ra=function(){Ft(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,eE=function(){return new na},tE=function(){return $i()},W0=qn,Qd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Cc=Wi,pi.COMPLETE="complete",J0=pi,oo.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,dl=oo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Z0=Ht}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const J_="@firebase/firestore",W_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new fm("@firebase/firestore");function Va(){return Ps.logLevel}function rt(r,...t){if(Ps.logLevel<=Pt.DEBUG){const n=t.map(Sm);Ps.debug(`Firestore (${Za}): ${r}`,...n)}}function Qi(r,...t){if(Ps.logLevel<=Pt.ERROR){const n=t.map(Sm);Ps.error(`Firestore (${Za}): ${r}`,...n)}}function Pr(r,...t){if(Ps.logLevel<=Pt.WARN){const n=t.map(Sm);Ps.warn(`Firestore (${Za}): ${r}`,...n)}}function Sm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,nE(r,s,n)}function nE(r,t,n){let s=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Qi(s),new Error(s)}function Gt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||nE(t,l,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $w{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class Zw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jw{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ds,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ds)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new iE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class Ww{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Ww(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=nR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Ct(r,t){return r<t?-1:r>t?1:0}function Kd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Ct(s,l);{const c=rE(),f=iR(c.encode(ev(r,n)),c.encode(ev(t,n)));return f!==0?f:Ct(s,l)}}n+=s>65535?2:1}return Ct(r.length,t.length)}function ev(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function iR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ct(r[n],t[n]);return Ct(r.length,t.length)}function Ha(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="__name__";class ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ri.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Ct(t.length,n.length)}static compareSegments(t,n){const s=ri.isNumericId(t),l=ri.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ri.extractNumericId(t).compare(ri.extractNumericId(n)):Kd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mr.fromString(t.substring(4,t.length-2))}}class ee extends ri{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const rR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ri{construct(t,n,s){return new je(t,n,s)}static isValidIdentifier(t){return rR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new je([nv])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ee.fromString(t))}static fromName(t){return new ht(ee.fromString(t).popFirst(5))}static empty(){return new ht(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r,t,n){if(!n)throw new st(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function sR(r,t,n,s){if(t===!0&&s===!0)throw new st(K.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function iv(r){if(!ht.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function rv(r){if(ht.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function aE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ih(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Ns(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(r);throw new st(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,t){const n={typeString:r};return t&&(n.value=t),n}function zl(r,t){if(!aE(r))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new st(K.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=-62135596800,av=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*av);return new ne(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<sv)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/av}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-sv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ee("string",ne._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ne(0,0))}static max(){return new At(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function aR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(s===1e9?new ne(n+1,0):new ne(n,s));return new kr(l,ht.empty(),t)}function oR(r){return new kr(r.readTime,r.key,wl)}class kr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new kr(At.min(),ht.empty(),wl)}static max(){return new kr(At.max(),ht.empty(),wl)}}function lR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(r.documentKey,t.documentKey),n!==0?n:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==uR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Y((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.reject(n)}static resolve(t){return new Y((n,s)=>{n(t)})}static reject(t){return new Y((n,s)=>{s(t)})}static waitFor(t){return new Y((n,s)=>{let l=0,c=0,f=!1;t.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>s(p))}),f=!0,c===l&&n()})}static or(t){let n=Y.resolve(!1);for(const s of t)n=n.next(l=>l?Y.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new Y((s,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(T=>{f[_]=T,++g,g===c&&s(f)},T=>l(T))}})}static doWhile(t,n){return new Y((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function hR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}rh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=-1;function sh(r){return r==null}function qc(r){return r===0&&1/r==-1/0}function fR(r){return typeof r=="number"&&Number.isInteger(r)&&!qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="";function dR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=ov(t)),t=mR(r.get(n),t);return ov(t)}function mR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case oE:n+="";break;default:n+=c}}return n}function ov(r){return r+oE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function qr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function lE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Be.RED,this.left=l??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Be(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Be.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(t){return new uv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ie(this.comparator);return n.data=t,n}}class uv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new yn([])}unionWith(t){let n=new Ie(je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new yn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ha(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new uE("Invalid base64 string: "+c):c}}(t);return new He(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const gR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const n=gR.exec(r);if(Gt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Lr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="server_timestamp",hE="__type__",fE="__previous_value__",dE="__local_write_time__";function Im(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[hE])===null||n===void 0?void 0:n.stringValue)===cE}function ah(r){const t=r.mapValue.fields[fE];return Im(t)?ah(t):t}function Rl(r){const t=Ur(r.mapValue.fields[dE].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,n,s,l,c,f,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Hc="(default)";class Il{constructor(t,n){this.projectId=t,this.database=n||Hc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__type__",yR="__max__",vc={mapValue:{}},gE="__vector__",Gc="value";function zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Im(r)?4:vR(r)?9007199254740991:_R(r)?10:11:gt(28295,{value:r})}function fi(r,t){if(r===t)return!0;const n=zr(r);if(n!==zr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Rl(r).isEqual(Rl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Ur(l.timestampValue),g=Ur(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Lr(l.bytesValue).isEqual(Lr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return de(l.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return de(l.integerValue)===de(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=de(l.doubleValue),g=de(c.doubleValue);return f===g?qc(f)===qc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return Ha(r.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(lv(f)!==lv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!fi(f[p],g[p])))return!1;return!0}(r,t);default:return gt(52216,{left:r})}}function Cl(r,t){return(r.values||[]).find(n=>fi(n,t))!==void 0}function Ga(r,t){if(r===t)return 0;const n=zr(r),s=zr(t);if(n!==s)return Ct(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=de(c.integerValue||c.doubleValue),p=de(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return cv(r.timestampValue,t.timestampValue);case 4:return cv(Rl(r),Rl(t));case 5:return Kd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Lr(c),p=Lr(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Ct(g[_],p[_]);if(T!==0)return T}return Ct(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=Ct(de(c.latitude),de(f.latitude));return g!==0?g:Ct(de(c.longitude),de(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return hv(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,_,T;const I=c.fields||{},C=f.fields||{},H=(g=I[Gc])===null||g===void 0?void 0:g.arrayValue,$=(p=C[Gc])===null||p===void 0?void 0:p.arrayValue,et=Ct(((_=H?.values)===null||_===void 0?void 0:_.length)||0,((T=$?.values)===null||T===void 0?void 0:T.length)||0);return et!==0?et:hv(H,$)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===vc.mapValue&&f===vc.mapValue)return 0;if(c===vc.mapValue)return 1;if(f===vc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let I=0;I<p.length&&I<T.length;++I){const C=Kd(p[I],T[I]);if(C!==0)return C;const H=Ga(g[p[I]],_[T[I]]);if(H!==0)return H}return Ct(p.length,T.length)}(r.mapValue,t.mapValue);default:throw gt(23264,{le:n})}}function cv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const n=Ur(r),s=Ur(t),l=Ct(n.seconds,s.seconds);return l!==0?l:Ct(n.nanos,s.nanos)}function hv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ga(n[l],s[l]);if(c)return c}return Ct(n.length,s.length)}function Fa(r){return Yd(r)}function Yd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Lr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ht.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Yd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Yd(n.fields[f])}`;return l+"}"}(r.mapValue):gt(61005,{value:r})}function Dc(r){switch(zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(r);return t?16+Dc(t):16;case 5:return 2*r.stringValue.length;case 6:return Lr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Dc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return qr(s.fields,(c,f)=>{l+=c.length+Dc(f)}),l}(r.mapValue);default:throw gt(13486,{value:r})}}function fv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Xd(r){return!!r&&"integerValue"in r}function Cm(r){return!!r&&"arrayValue"in r}function dv(r){return!!r&&"nullValue"in r}function mv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nc(r){return!!r&&"mapValue"in r}function _R(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[mE])===null||n===void 0?void 0:n.stringValue)===gE}function vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return qr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=vl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function vR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Nc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vl(n)}setAll(t){let n=je.emptyPath(),s={},l=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=vl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Nc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){qr(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new an(vl(this.value))}}function pE(r){const t=[];return qr(r.fields,(n,s)=>{const l=new je([n]);if(Nc(s)){const c=pE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,l,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,At.min(),At.min(),At.min(),an.empty(),0)}static newFoundDocument(t,n,s,l){return new Xe(t,1,n,At.min(),s,l,0)}static newNoDocument(t,n){return new Xe(t,2,n,At.min(),At.min(),an.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,At.min(),At.min(),an.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,n){this.position=t,this.inclusive=n}}function gv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(f.referenceValue),n.key):s=Ga(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function pv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!fi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n="asc"){this.field=t,this.dir=n}}function ER(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class ve extends yE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new AR(t,n,s):n==="array-contains"?new wR(t,s):n==="in"?new RR(t,s):n==="not-in"?new IR(t,s):n==="array-contains-any"?new CR(t,s):new ve(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new bR(t,s):new SR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ga(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends yE{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Bn(t,n)}matches(t){return _E(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function _E(r){return r.op==="and"}function vE(r){return TR(r)&&_E(r)}function TR(r){for(const t of r.filters)if(t instanceof Bn)return!1;return!0}function $d(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Fa(r.value);if(vE(r))return r.filters.map(t=>$d(t)).join(",");{const t=r.filters.map(n=>$d(n)).join(",");return`${r.op}(${t})`}}function EE(r,t){return r instanceof ve?function(s,l){return l instanceof ve&&s.op===l.op&&s.field.isEqual(l.field)&&fi(s.value,l.value)}(r,t):r instanceof Bn?function(s,l){return l instanceof Bn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,g)=>c&&EE(f,l.filters[g]),!0):!1}(r,t):void gt(19439)}function TE(r){return r instanceof ve?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(r):r instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(TE).join(" ,")+"}"}(r):"Filter"}class AR extends ve{constructor(t,n,s){super(t,n,s),this.key=ht.fromName(s.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class bR extends ve{constructor(t,n){super(t,"in",n),this.keys=AE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class SR extends ve{constructor(t,n){super(t,"not-in",n),this.keys=AE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function AE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ht.fromName(s.referenceValue))}class wR extends ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Cm(n)&&Cl(n.arrayValue,this.value)}}class RR extends ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Cl(this.value.arrayValue,n)}}class IR extends ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cl(this.value.arrayValue,n)}}class CR extends ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Cl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t,n=null,s=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Pe=null}}function yv(r,t=null,n=[],s=[],l=null,c=null,f=null){return new DR(r,t,n,s,l,c,f)}function Dm(r){const t=bt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>$d(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Fa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Fa(s)).join(",")),t.Pe=n}return t.Pe}function Nm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ER(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!EE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!pv(r.startAt,t.startAt)&&pv(r.endAt,t.endAt)}function Zd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function NR(r,t,n,s,l,c,f,g){return new Bl(r,t,n,s,l,c,f,g)}function Om(r){return new Bl(r)}function _v(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bE(r){return r.collectionGroup!==null}function El(r){const t=bt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ie(je.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Te.push(new Qc(c,s))}),n.has(je.keyField().canonicalString())||t.Te.push(new Qc(je.keyField(),s))}return t.Te}function oi(r){const t=bt(r);return t.Ie||(t.Ie=OR(t,El(r))),t.Ie}function OR(r,t){if(r.limitType==="F")return yv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Qc(l.field,c)});const n=r.endAt?new Fc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Fc(r.startAt.position,r.startAt.inclusive):null;return yv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Jd(r,t){const n=r.filters.concat([t]);return new Bl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Wd(r,t,n){return new Bl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function oh(r,t){return Nm(oi(r),oi(t))&&r.limitType===t.limitType}function SE(r){return`${Dm(oi(r))}|lt:${r.limitType}`}function Ma(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>TE(l)).join(", ")}]`),sh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Fa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Fa(l)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function lh(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of El(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,g,p){const _=gv(f,g,p);return f.inclusive?_<=0:_<0}(s.startAt,El(s),l)||s.endAt&&!function(f,g,p){const _=gv(f,g,p);return f.inclusive?_>=0:_>0}(s.endAt,El(s),l))}(r,t)}function VR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wE(r){return(t,n)=>{let s=!1;for(const l of El(r)){const c=MR(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function MR(r,t,n){const s=r.field.isKeyField()?ht.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Ga(p,_):gt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qr(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new ae(ht.comparator);function Ki(){return xR}const RE=new ae(ht.comparator);function ml(...r){let t=RE;for(const n of r)t=t.insert(n.key,n);return t}function IE(r){let t=RE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Cs(){return Tl()}function CE(){return Tl()}function Tl(){return new Us(r=>r.toString(),(r,t)=>r.isEqual(t))}const PR=new ae(ht.comparator),kR=new Ie(ht.comparator);function kt(...r){let t=kR;for(const n of r)t=t.add(n);return t}const UR=new Ie(Ct);function LR(){return UR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function DE(r){return{integerValue:""+r}}function zR(r,t){return fR(t)?DE(t):Vm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function BR(r,t,n){return r instanceof Kc?function(l,c){const f={fields:{[hE]:{stringValue:cE},[dE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Im(c)&&(c=ah(c)),c&&(f.fields[fE]=c),{mapValue:f}}(n,t):r instanceof Dl?OE(r,t):r instanceof Nl?VE(r,t):function(l,c){const f=NE(l,c),g=vv(f)+vv(l.Ee);return Xd(f)&&Xd(l.Ee)?DE(g):Vm(l.serializer,g)}(r,t)}function jR(r,t,n){return r instanceof Dl?OE(r,t):r instanceof Nl?VE(r,t):n}function NE(r,t){return r instanceof Yc?function(s){return Xd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Kc extends uh{}class Dl extends uh{constructor(t){super(),this.elements=t}}function OE(r,t){const n=ME(t);for(const s of r.elements)n.some(l=>fi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Nl extends uh{constructor(t){super(),this.elements=t}}function VE(r,t){let n=ME(t);for(const s of r.elements)n=n.filter(l=>!fi(l,s));return{arrayValue:{values:n}}}class Yc extends uh{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function vv(r){return de(r.integerValue||r.doubleValue)}function ME(r){return Cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function qR(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Dl&&l instanceof Dl||s instanceof Nl&&l instanceof Nl?Ha(s.elements,l.elements,fi):s instanceof Yc&&l instanceof Yc?fi(s.Ee,l.Ee):s instanceof Kc&&l instanceof Kc}(r.transform,t.transform)}class HR{constructor(t,n){this.version=t,this.transformResults=n}}class li{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new li}static exists(t){return new li(void 0,t)}static updateTime(t){return new li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ch{}function xE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new kE(r.key,li.none()):new jl(r.key,r.data,li.none());{const n=r.data,s=an.empty();let l=new Ie(je.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new Hr(r.key,s,new yn(l.toArray()),li.none())}}function GR(r,t,n){r instanceof jl?function(l,c,f){const g=l.value.clone(),p=Tv(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Hr?function(l,c,f){if(!Oc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Tv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(PE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Al(r,t,n,s){return r instanceof jl?function(c,f,g,p){if(!Oc(c.precondition,f))return g;const _=c.value.clone(),T=Av(c.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Hr?function(c,f,g,p){if(!Oc(c.precondition,f))return g;const _=Av(c.fieldTransforms,p,f),T=f.data;return T.setAll(PE(c)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,f,g){return Oc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function FR(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=NE(s.transform,l||null);c!=null&&(n===null&&(n=an.empty()),n.set(s.field,c))}return n||null}function Ev(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ha(s,l,(c,f)=>qR(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class jl extends ch{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Hr extends ch{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function PE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Tv(r,t,n){const s=new Map;Gt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);s.set(c.field,jR(f,g,n[l]))}return s}function Av(r,t,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,BR(c,f,t))}return s}class kE extends ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QR extends ch{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&GR(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=CE();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=xE(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),kt())}isEqual(t){return this.batchId===t.batchId&&Ha(this.mutations,t.mutations,(n,s)=>Ev(n,s))&&Ha(this.baseMutations,t.baseMutations,(n,s)=>Ev(n,s))}}class Mm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Gt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let l=function(){return PR}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Mm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Bt;function $R(r){switch(r){case K.OK:return gt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function UE(r){if(r===void 0)return Qi("GRPC error has no .code"),K.UNKNOWN;switch(r){case _e.OK:return K.OK;case _e.CANCELLED:return K.CANCELLED;case _e.UNKNOWN:return K.UNKNOWN;case _e.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case _e.INTERNAL:return K.INTERNAL;case _e.UNAVAILABLE:return K.UNAVAILABLE;case _e.UNAUTHENTICATED:return K.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case _e.NOT_FOUND:return K.NOT_FOUND;case _e.ALREADY_EXISTS:return K.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return K.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case _e.ABORTED:return K.ABORTED;case _e.OUT_OF_RANGE:return K.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return K.UNIMPLEMENTED;case _e.DATA_LOSS:return K.DATA_LOSS;default:return gt(39323,{code:r})}}(Bt=_e||(_e={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new Mr([4294967295,4294967295],0);function bv(r){const t=rE().encode(r),n=new $0;return n.update(t),new Uint8Array(n.digest())}function Sv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Mr([n,s],0),new Mr([l,c],0)]}class xm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new gl(`Invalid padding: ${n}`);if(s<0)throw new gl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new gl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Mr.fromNumber(this.fe)}pe(t,n,s){let l=t.add(n.multiply(Mr.fromNumber(s)));return l.compare(ZR)===1&&(l=new Mr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=bv(t),[s,l]=Sv(n);for(let c=0;c<this.hashCount;c++){const f=this.pe(s,l,c);if(!this.ye(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new xm(c,l,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.fe===0)return;const n=bv(t),[s,l]=Sv(n);for(let c=0;c<this.hashCount;c++){const f=this.pe(s,l,c);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,ql.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new hh(At.min(),l,new ae(Ct),Ki(),kt())}}class ql{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ql(s,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n,s,l){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=l}}class LE{constructor(t,n){this.targetId=t,this.De=n}}class zE{constructor(t,n,s=He.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class wv{constructor(){this.ve=0,this.Ce=Rv(),this.Fe=He.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=kt(),n=kt(),s=kt();return this.Ce.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:c})}}),new ql(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=Rv()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class JR{constructor(t){this.We=t,this.Ge=new Map,this.ze=Ki(),this.je=Ec(),this.Je=Ec(),this.He=new ae(Ct)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:gt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((s,l)=>{this.nt(l)&&n(l)})}it(t){const n=t.targetId,s=t.De.count,l=this.st(n);if(l){const c=l.target;if(Zd(c))if(s===0){const f=new ht(c.path);this.Xe(n,f,Xe.newNoDocument(f,At.min()))}else Gt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const g=this._t(t),p=g?this.ut(g,t,f):1;if(p!==0){this.rt(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,_)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Lr(s).toUint8Array()}catch(p){if(p instanceof uE)return Pr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new xm(f,l,c)}catch(p){return Pr(p instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.fe===0?null:g}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.We.lt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Xe(n,c,null),l++)}),l}Pt(t){const n=new Map;this.Ge.forEach((c,f)=>{const g=this.st(f);if(g){if(c.current&&Zd(g.target)){const p=new ht(g.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Xe.newNoDocument(p,t))}c.Ne&&(n.set(f,c.Le()),c.ke())}});let s=kt();this.Je.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this.st(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,f)=>f.setReadTime(t));const l=new hh(t,n,this.He,this.ze,s);return this.ze=Ki(),this.je=Ec(),this.Je=Ec(),this.He=new ae(Ct),l}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const l=this.tt(t);this.It(t,n)?l.qe(n,1):l.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new wv,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Ie(Ct),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Ie(Ct),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new wv),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function Ec(){return new ae(ht.comparator)}function Rv(){return new ae(ht.comparator)}const WR={asc:"ASCENDING",desc:"DESCENDING"},tI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eI={and:"AND",or:"OR"};class nI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function tm(r,t){return r.useProto3Json||sh(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function iI(r,t){return Xc(r,t.toTimestamp())}function ui(r){return Gt(!!r,49232),At.fromTimestamp(function(n){const s=Ur(n);return new ne(s.seconds,s.nanos)}(r))}function Pm(r,t){return em(r,t).canonicalString()}function em(r,t){const n=function(l){return new ee(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function jE(r){const t=ee.fromString(r);return Gt(QE(t),10190,{key:t.toString()}),t}function nm(r,t){return Pm(r.databaseId,t.path)}function Vd(r,t){const n=jE(t);if(n.get(1)!==r.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ht(HE(n))}function qE(r,t){return Pm(r.databaseId,t)}function rI(r){const t=jE(r);return t.length===4?ee.emptyPath():HE(t)}function im(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function HE(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Iv(r,t,n){return{name:nm(r,t),fields:n.value.mapValue.fields}}function sI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(Gt(T===void 0||typeof T=="string",58123),He.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),He.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(_){const T=_.code===void 0?K.UNKNOWN:UE(_.code);return new st(T,_.message||"")}(f);n=new zE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Vd(r,s.document.name),c=ui(s.document.updateTime),f=s.document.createTime?ui(s.document.createTime):At.min(),g=new an({mapValue:{fields:s.document.fields}}),p=Xe.newFoundDocument(l,c,f,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new Vc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Vd(r,s.document),c=s.readTime?ui(s.readTime):At.min(),f=Xe.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Vc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Vd(r,s.document),c=s.removedTargetIds||[];n=new Vc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new XR(l,c),g=s.targetId;n=new LE(g,f)}}return n}function aI(r,t){let n;if(t instanceof jl)n={update:Iv(r,t.key,t.value)};else if(t instanceof kE)n={delete:nm(r,t.key)};else if(t instanceof Hr)n={update:Iv(r,t.key,t.data),updateMask:gI(t.fieldMask)};else{if(!(t instanceof QR))return gt(16599,{Rt:t.type});n={verify:nm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Kc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Dl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Nl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Yc)return{fieldPath:f.field.canonicalString(),increment:g.Ee};throw gt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:iI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)}(r,t.precondition)),n}function oI(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map(n=>function(l,c){let f=l.updateTime?ui(l.updateTime):ui(c);return f.isEqual(At.min())&&(f=ui(c)),new HR(f,l.transformResults||[])}(n,t))):[]}function lI(r,t){return{documents:[qE(r,t.path)]}}function uI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qE(r,l);const c=function(_){if(_.length!==0)return FE(Bn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(T=>function(C){return{field:xa(C.field),direction:fI(C.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=tm(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{Vt:n,parent:l}}function cI(r){let t=rI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Gt(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(I){const C=GE(I);return C instanceof Bn&&vE(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(I){return I.map(C=>function($){return new Qc(Pa($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(C))}(n.orderBy));let g=null;n.limit&&(g=function(I){let C;return C=typeof I=="object"?I.value:I,sh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(I){const C=!!I.before,H=I.values||[];return new Fc(H,C)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const C=!I.before,H=I.values||[];return new Fc(H,C)}(n.endAt)),NR(t,l,f,c,g,"F",p,_)}function hI(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function GE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Pa(n.unaryFilter.field);return ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(n.unaryFilter.field);return ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pa(n.unaryFilter.field);return ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Pa(n.unaryFilter.field);return ve.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(r):r.fieldFilter!==void 0?function(n){return ve.create(Pa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(s=>GE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(n.compositeFilter.op))}(r):gt(30097,{filter:r})}function fI(r){return WR[r]}function dI(r){return tI[r]}function mI(r){return eI[r]}function xa(r){return{fieldPath:r.canonicalString()}}function Pa(r){return je.fromServerFormat(r.fieldPath)}function FE(r){return r instanceof ve?function(n){if(n.op==="=="){if(mv(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NAN"}};if(dv(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mv(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NAN"}};if(dv(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(n.field),op:dI(n.op),value:n.value}}}(r):r instanceof Bn?function(n){const s=n.getFilters().map(l=>FE(l));return s.length===1?s[0]:{compositeFilter:{op:mI(n.op),filters:s}}}(r):gt(54877,{filter:r})}function gI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function QE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,n,s,l,c=At.min(),f=At.min(),g=He.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.gt=t}}function yI(r){const t=cI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.Dn=new vI}addToCollectionParentIndex(t,n){return this.Dn.add(n),Y.resolve()}getCollectionParents(t,n){return Y.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return Y.resolve()}deleteFieldIndex(t,n){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,n){return Y.resolve()}getDocumentsMatchingTarget(t,n){return Y.resolve(null)}getIndexType(t,n){return Y.resolve(0)}getFieldIndexes(t,n){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,n){return Y.resolve(kr.min())}getMinOffsetFromCollectionGroup(t,n){return Y.resolve(kr.min())}updateCollectionGroup(t,n,s){return Y.resolve()}updateIndexEntries(t,n){return Y.resolve()}}class vI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ie(ee.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ie(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KE=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(KE,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Qa(0)}static ur(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="LruGarbageCollector",EI=1048576;function Nv([r,t],[n,s]){const l=Ct(r,n);return l===0?Ct(t,s):l}class TI{constructor(t){this.Tr=t,this.buffer=new Ie(Nv),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Nv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){rt(Dv,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?rt(Dv,"Ignoring IndexedDB error during garbage collection: ",n):await Ja(n)}await this.Rr(3e5)})}}class bI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Y.resolve(rh.ue);const s=new TI(n);return this.Vr.forEachTarget(t,l=>s.Er(l.sequenceNumber)).next(()=>this.Vr.gr(t,l=>s.Er(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Cv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cv):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,l,c,f,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,f=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,g=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(_=Date.now(),Va()<=Pt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function SI(r,t){return new bI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.changes=new Us(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Al(s.mutation,l,yn.empty(),ne.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,kt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=kt()){const l=Cs();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let f=ml();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Cs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,kt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,l){let c=Ki();const f=Tl(),g=function(){return Tl()}();return n.forEach((p,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Hr)?c=c.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Al(T.mutation,_,T.mutation.getFieldMask(),ne.now())):f.set(_.key,yn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var I;return g.set(_,new RI(T,(I=f.get(_))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,n){const s=Tl();let l=new ae((f,g)=>f-g),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||yn.empty();T=g.applyToLocalView(_,T),s.set(p,T);const I=(l.get(g.batchId)||kt()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,I=CE();T.forEach(C=>{if(!c.has(C)){const H=xE(n.get(C),s.get(C));H!==null&&I.set(C,H),c=c.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Y.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return ht.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):bE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Y.resolve(Cs());let g=wl,p=c;return f.next(_=>Y.forEach(_,(T,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(T)?Y.resolve():this.remoteDocumentCache.getEntry(t,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,kt())).next(T=>({batchId:g,changes:IE(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next(s=>{let l=ml();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let f=ml();return this.indexManager.getCollectionParents(t,c).next(g=>Y.forEach(g,p=>{const _=function(I,C){return new Bl(C,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(T=>{T.forEach((I,C)=>{f=f.insert(I,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(f=>{c.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,Xe.newInvalidDocument(T)))});let g=ml();return f.forEach((p,_)=>{const T=c.get(p);T!==void 0&&Al(T.mutation,_,yn.empty(),ne.now()),lh(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return Y.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(l){return{id:l.id,version:l.version,createTime:ui(l.createTime)}}(n)),Y.resolve()}getNamedQuery(t,n){return Y.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(l){return{name:l.name,query:yI(l.bundledQuery),readTime:ui(l.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.overlays=new ae(ht.comparator),this.kr=new Map}getOverlay(t,n){return Y.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Cs();return Y.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.wt(t,n,c)}),Y.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.kr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),Y.resolve()}getOverlaysForCollection(t,n,s){const l=Cs(),c=n.length+1,f=new ht(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ae((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Cs(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Cs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=l)););return Y.resolve(g)}wt(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.kr.get(l.largestBatchId).delete(s.key);this.kr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new YR(n,s));let c=this.kr.get(n);c===void 0&&(c=kt(),this.kr.set(n,c)),this.kr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.qr=new Ie(xe.Qr),this.$r=new Ie(xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new xe(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Wr(new xe(t,n))}Gr(t,n){t.forEach(s=>this.removeReference(s,n))}zr(t){const n=new ht(new ee([])),s=new xe(n,t),l=new xe(n,t+1),c=[];return this.$r.forEachInRange([s,l],f=>{this.Wr(f),c.push(f.key)}),c}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new ht(new ee([])),s=new xe(n,t),l=new xe(n,t+1);let c=kt();return this.$r.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new xe(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class xe{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return ht.comparator(t.key,n.key)||Ct(t.Hr,n.Hr)}static Ur(t,n){return Ct(t.Hr,n.Hr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ie(xe.Qr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new KR(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Yr=this.Yr.add(new xe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(f)}lookupMutationBatch(t,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Xr(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Rm:this.er-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new xe(n,0),l=new xe(n,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,l],f=>{const g=this.Zr(f.Hr);c.push(g)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ie(Ct);return n.forEach(l=>{const c=new xe(l,0),f=new xe(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,f],g=>{s=s.add(g.Hr)})}),Y.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const f=new xe(new ht(c),0);let g=new Ie(Ct);return this.Yr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Hr)),!0)},f),Y.resolve(this.ei(g))}ei(t){const n=[];return t.forEach(s=>{const l=this.Zr(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Gt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Y.forEach(n.mutations,l=>{const c=new xe(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,n){const s=new xe(n,0),l=this.Yr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t){this.ni=t,this.docs=function(){return new ae(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=Ki();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))}),Y.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Ki();const f=n.path,g=new ht(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||lR(oR(T),s)<=0||(l.has(T.key)||lh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,n,s,l){gt(9500)}ri(t,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new MI(this)}getSize(t){return Y.resolve(this.size)}}class MI extends wI{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Or.addEntry(t,l)):this.Or.removeEntry(s)}),Y.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.persistence=t,this.ii=new Us(n=>Dm(n),Nm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.si=0,this.oi=new km,this.targetCount=0,this._i=Qa.ar()}forEachTarget(t,n){return this.ii.forEach((s,l)=>n(l)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),Y.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Qa(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,Y.resolve()}updateTargetData(t,n){return this.hr(n),Y.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.ii.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ii.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Y.waitFor(c).next(()=>l)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return Y.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),Y.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),Y.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),Y.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return Y.resolve(s)}containsKey(t,n){return Y.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,n){this.ai={},this.overlays={},this.ui=new rh(0),this.ci=!1,this.ci=!0,this.li=new NI,this.referenceDelegate=t(this),this.hi=new xI(this),this.indexManager=new _I,this.remoteDocumentCache=function(l){return new VI(l)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new pI(n),this.Ti=new CI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new DI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new OI(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const l=new PI(this.ui.next());return this.referenceDelegate.Ii(),s(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ei(t,n){return Y.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,n)))}}class PI extends cR{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.Ai=new km,this.Ri=null}static Vi(t){return new Um(t)}get mi(){if(this.Ri)return this.Ri;throw gt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),Y.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),Y.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(l=>this.mi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,s=>{const l=ht.fromPath(s);return this.fi(t,l).next(c=>{c||n.removeEntry(l,At.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return Y.or([()=>Y.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class $c{constructor(t,n){this.persistence=t,this.gi=new Us(s=>dR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=SI(this,n)}static Vi(t,n){return new $c(t,n)}Ii(){}di(t){return Y.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}yr(t){let n=0;return this.gr(t,s=>{n++}).next(()=>n)}gr(t,n){return Y.forEach(this.gi,(s,l)=>this.Sr(t,s,l).next(c=>c?Y.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ri(t,f=>this.Sr(t,f,n).next(g=>{g||(s++,c.removeEntry(f,At.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),Y.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),Y.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Dc(t.data.value)),n}Sr(t,n,s){return Y.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.gi.get(n);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=l}static Es(t,n){let s=kt(),l=kt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Lm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Cb()?8:hR($e())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ps(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ys(t,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new kI;return this.ws(t,n,f).next(g=>{if(c.result=g,this.Rs)return this.Ss(t,n,f,g.size)})}).next(()=>c.result)}Ss(t,n,s,l){return s.documentReadCount<this.Vs?(Va()<=Pt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Va()<=Pt.DEBUG&&rt("QueryEngine","Query:",Ma(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.fs*l?(Va()<=Pt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(n))):Y.resolve())}ps(t,n){if(_v(n))return Y.resolve(null);let s=oi(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Wd(n,null,"F"),s=oi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=kt(...c);return this.gs.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.bs(n,g);return this.Ds(n,_,f,p.readTime)?this.ps(t,Wd(n,null,"F")):this.vs(t,_,n,p)}))})))}ys(t,n,s,l){return _v(n)||l.isEqual(At.min())?Y.resolve(null):this.gs.getDocuments(t,s).next(c=>{const f=this.bs(n,c);return this.Ds(n,f,s,l)?Y.resolve(null):(Va()<=Pt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(n)),this.vs(t,f,n,aR(l,wl)).next(g=>g))})}bs(t,n){let s=new Ie(wE(t));return n.forEach((l,c)=>{lh(t,c)&&(s=s.add(c))}),s}Ds(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ws(t,n,s){return Va()<=Pt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.gs.getDocumentsMatchingQuery(t,n,kr.min(),s)}vs(t,n,s,l){return this.gs.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="LocalStore",LI=3e8;class zI{constructor(t,n,s,l){this.persistence=t,this.Cs=n,this.serializer=l,this.Fs=new ae(Ct),this.Ms=new Us(c=>Dm(c),Nm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new II(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function BI(r,t,n,s){return new zI(r,t,n,s)}async function XE(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ns(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=kt();for(const _ of l){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Bs:_,removedBatchIds:f,addedBatchIds:g}))})})}function jI(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Os.newChangeBuffer({trackRemovals:!0});return function(g,p,_,T){const I=_.batch,C=I.keys();let H=Y.resolve();return C.forEach($=>{H=H.next(()=>T.getEntry(p,$)).next(et=>{const Z=_.docVersions.get($);Gt(Z!==null,48541),et.version.compareTo(Z)<0&&(I.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),T.addEntry(et)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=kt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function $E(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function qI(r,t){const n=bt(r),s=t.snapshotVersion;let l=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});l=n.Fs;const g=[];t.targetChanges.forEach((T,I)=>{const C=l.get(I);if(!C)return;g.push(n.hi.removeMatchingKeys(c,T.removedDocuments,I).next(()=>n.hi.addMatchingKeys(c,T.addedDocuments,I)));let H=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?H=H.withResumeToken(He.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,s)),l=l.insert(I,H),function(et,Z,_t){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=LI?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0}(C,H,T)&&g.push(n.hi.updateTargetData(c,H))});let p=Ki(),_=kt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(HI(c,f,t.documentUpdates).next(T=>{p=T.Ls,_=T.ks})),!s.isEqual(At.min())){const T=n.hi.getLastRemoteSnapshotVersion(c).next(I=>n.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return Y.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Fs=l,c))}function HI(r,t,n){let s=kt(),l=kt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Ki();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):rt(zm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{Ls:f,ks:l}})}function GI(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Rm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function FI(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.hi.getTargetData(s,t).next(c=>c?(l=c,Y.resolve(l)):n.hi.allocateTargetId(s).next(f=>(l=new Dr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Fs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s})}async function rm(r,t,n){const s=bt(r),l=s.Fs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!Wa(f))throw f;rt(zm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(l.target)}function Ov(r,t,n){const s=bt(r);let l=At.min(),c=kt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const I=bt(p),C=I.Ms.get(T);return C!==void 0?Y.resolve(I.Fs.get(C)):I.hi.getTargetData(_,T)}(s,f,oi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,t,n?l:At.min(),n?c:kt())).next(g=>(QI(s,VR(t),g),{documents:g,qs:c})))}function QI(r,t,n){let s=r.xs.get(t)||At.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.xs.set(t,s)}class Vv{constructor(){this.activeTargetIds=LR()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KI{constructor(){this.Fo=new Vv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new Vv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="ConnectivityMonitor";class xv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){rt(Mv,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){rt(Mv,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function sm(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="RestConnection",XI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $I{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.Ko=this.databaseId.database===Hc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,n,s,l,c){const f=sm(),g=this.Go(t,n.toUriEncodedString());rt(Md,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,l,c);const{host:_}=new URL(g),T=Ya(_);return this.jo(t,g,p,s,T).then(I=>(rt(Md,`Received RPC '${t}' ${f}: `,I),I),I=>{throw Pr(Md,`RPC '${t}' ${f} failed with error: `,I,"url: ",g,"request:",s),I})}Jo(t,n,s,l,c,f){return this.Wo(t,n,s,l,c)}zo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}Go(t,n){const s=XI[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class JI extends $I{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,l,c){const f=sm();return new Promise((g,p)=>{const _=new Z0;_.setWithCredentials(!0),_.listenOnce(J0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Cc.NO_ERROR:const I=_.getResponseJson();rt(Ke,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(I)),g(I);break;case Cc.TIMEOUT:rt(Ke,`RPC '${t}' ${f} timed out`),p(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const C=_.getStatus();if(rt(Ke,`RPC '${t}' ${f} failed with status:`,C,"response text:",_.getResponseText()),C>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const $=H?.error;if($&&$.status&&$.message){const et=function(_t){const ut=_t.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ut)>=0?ut:K.UNKNOWN}($.status);p(new st(et,$.message))}else p(new st(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new st(K.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{c_:t,streamId:f,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{rt(Ke,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(l);rt(Ke,`RPC '${t}' ${f} sending request:`,l),_.send(n,"POST",T,s,15)})}P_(t,n,s){const l=sm(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=eE(),g=tE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");rt(Ke,`Creating RPC '${t}' stream ${l}: ${T}`,p);const I=f.createWebChannel(T,p);this.T_(I);let C=!1,H=!1;const $=new ZI({Ho:Z=>{H?rt(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(C||(rt(Ke,`Opening RPC '${t}' stream ${l} transport.`),I.open(),C=!0),rt(Ke,`RPC '${t}' stream ${l} sending:`,Z),I.send(Z))},Yo:()=>I.close()}),et=(Z,_t,ut)=>{Z.listen(_t,ct=>{try{ut(ct)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return et(I,dl.EventType.OPEN,()=>{H||(rt(Ke,`RPC '${t}' stream ${l} transport opened.`),$.s_())}),et(I,dl.EventType.CLOSE,()=>{H||(H=!0,rt(Ke,`RPC '${t}' stream ${l} transport closed`),$.__(),this.I_(I))}),et(I,dl.EventType.ERROR,Z=>{H||(H=!0,Pr(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.__(new st(K.UNAVAILABLE,"The operation could not be completed")))}),et(I,dl.EventType.MESSAGE,Z=>{var _t;if(!H){const ut=Z.data[0];Gt(!!ut,16349);const ct=ut,Ot=ct?.error||((_t=ct[0])===null||_t===void 0?void 0:_t.error);if(Ot){rt(Ke,`RPC '${t}' stream ${l} received error:`,Ot);const pt=Ot.status;let Vt=function(D){const V=_e[D];if(V!==void 0)return UE(V)}(pt),M=Ot.message;Vt===void 0&&(Vt=K.INTERNAL,M="Unknown error status: "+pt+" with message "+Ot.message),H=!0,$.__(new st(Vt,M)),I.close()}else rt(Ke,`RPC '${t}' stream ${l} received:`,ut),$.a_(ut)}}),et(g,W0.STAT_EVENT,Z=>{Z.stat===Qd.PROXY?rt(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Qd.NOPROXY&&rt(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.o_()},0),$}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(r){return new nI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=l,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),l=Math.max(0,n-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="PersistentStream";class JE{constructor(t,n,s,l,c,f,g,p){this.Fi=t,this.w_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ZE(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.b_===n&&this.W_(s,l)},s=>{t(()=>{const l=new st(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(l)})})}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{s(()=>this.G_(l))}),this.stream.onMessage(l=>{s(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return rt(Pv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(rt(Pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WI extends JE{constructor(t,n,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=sI(this.serializer,t),s=function(c){if(!("targetChange"in c))return At.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?ui(f.readTime):At.min()}(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=im(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=Zd(p)?{documents:lI(c,p)}:{query:uI(c,p).Vt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=BE(c,f.resumeToken);const _=tm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(At.min())>0){g.readTime=Xc(c,f.snapshotVersion.toTimestamp());const _=tm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=hI(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=im(this.serializer),n.removeTarget=t,this.k_(n)}}class tC extends JE{constructor(t,n,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=oI(t.writeResults,t.commitTime),s=ui(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=im(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>aI(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{}class nC extends eC{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Wo(t,em(n,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(K.UNKNOWN,c.toString())})}Jo(t,n,s,l,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Jo(t,em(n,s),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new st(K.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class iC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Qi(n),this._a=!1):rt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class rC{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{Ls(this)&&(rt(ks,"Restarting streams for network reachability change."),await async function(p){const _=bt(p);_.Ia.add(4),await Hl(_),_.Aa.set("Unknown"),_.Ia.delete(4),await dh(_)}(this))})}),this.Aa=new iC(s,l)}}async function dh(r){if(Ls(r))for(const t of r.da)await t(!0)}async function Hl(r){for(const t of r.da)await t(!1)}function WE(r,t){const n=bt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Hm(n)?qm(n):to(n).x_()&&jm(n,t))}function Bm(r,t){const n=bt(r),s=to(n);n.Ta.delete(t),s.x_()&&tT(n,t),n.Ta.size===0&&(s.x_()?s.B_():Ls(n)&&n.Aa.set("Unknown"))}function jm(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}to(r).H_(t)}function tT(r,t){r.Ra.$e(t),to(r).Y_(t)}function qm(r){r.Ra=new JR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),to(r).start(),r.Aa.aa()}function Hm(r){return Ls(r)&&!to(r).M_()&&r.Ta.size>0}function Ls(r){return bt(r).Ia.size===0}function eT(r){r.Ra=void 0}async function sC(r){r.Aa.set("Online")}async function aC(r){r.Ta.forEach((t,n)=>{jm(r,t)})}async function oC(r,t){eT(r),Hm(r)?(r.Aa.la(t),qm(r)):r.Aa.set("Unknown")}async function lC(r,t,n){if(r.Aa.set("Online"),t instanceof zE&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ta.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ta.delete(g),l.Ra.removeTarget(g))}(r,t)}catch(s){rt(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Zc(r,s)}else if(t instanceof Vc?r.Ra.Ye(t):t instanceof LE?r.Ra.it(t):r.Ra.et(t),!n.isEqual(At.min()))try{const s=await $E(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.Ra.Pt(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ta.get(_);T&&c.Ta.set(_,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const T=c.Ta.get(p);if(!T)return;c.Ta.set(p,T.withResumeToken(He.EMPTY_BYTE_STRING,T.snapshotVersion)),tT(c,p);const I=new Dr(T.target,p,_,T.sequenceNumber);jm(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){rt(ks,"Failed to raise snapshot:",s),await Zc(r,s)}}async function Zc(r,t,n){if(!Wa(t))throw t;r.Ia.add(1),await Hl(r),r.Aa.set("Offline"),n||(n=()=>$E(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{rt(ks,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await dh(r)})}function nT(r,t){return t().catch(n=>Zc(r,n,t))}async function mh(r){const t=bt(r),n=Br(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Rm;for(;uC(t);)try{const l=await GI(t.localStore,s);if(l===null){t.Pa.length===0&&n.B_();break}s=l.batchId,cC(t,l)}catch(l){await Zc(t,l)}iT(t)&&rT(t)}function uC(r){return Ls(r)&&r.Pa.length<10}function cC(r,t){r.Pa.push(t);const n=Br(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function iT(r){return Ls(r)&&!Br(r).M_()&&r.Pa.length>0}function rT(r){Br(r).start()}async function hC(r){Br(r).na()}async function fC(r){const t=Br(r);for(const n of r.Pa)t.X_(n.mutations)}async function dC(r,t,n){const s=r.Pa.shift(),l=Mm.from(s,t,n);await nT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await mh(r)}async function mC(r,t){t&&Br(r).Z_&&await async function(s,l){if(function(f){return $R(f)&&f!==K.ABORTED}(l.code)){const c=s.Pa.shift();Br(s).N_(),await nT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await mh(s)}}(r,t),iT(r)&&rT(r)}async function kv(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),rt(ks,"RemoteStore received new credentials");const s=Ls(n);n.Ia.add(3),await Hl(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await dh(n)}async function gC(r,t){const n=bt(r);t?(n.Ia.delete(2),await dh(n)):t||(n.Ia.add(2),await Hl(n),n.Aa.set("Unknown"))}function to(r){return r.Va||(r.Va=function(n,s,l){const c=bt(n);return c.ia(),new WI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:sC.bind(null,r),e_:aC.bind(null,r),n_:oC.bind(null,r),J_:lC.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Hm(r)?qm(r):r.Aa.set("Unknown")):(await r.Va.stop(),eT(r))})),r.Va}function Br(r){return r.ma||(r.ma=function(n,s,l){const c=bt(n);return c.ia(),new tC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:hC.bind(null,r),n_:mC.bind(null,r),ea:fC.bind(null,r),ta:dC.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await mh(r)):(await r.ma.stop(),r.Pa.length>0&&(rt(ks,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const f=Date.now()+s,g=new Gm(t,n,f,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),Wa(r))return new st(K.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ht.comparator(n.key,s.key):(n,s)=>ht.comparator(n.key,s.key),this.keyedMap=ml(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ba;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.fa=new ae(ht.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):gt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ka{constructor(t,n,s,l,c,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Ka(t,n,Ba.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class yC{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const l=bt(n),c=l.queries;l.queries=Lv(),c.forEach((f,g)=>{for(const p of g.wa)p.onError(s)})})(this,new st(K.ABORTED,"Firestore shutting down"))}}function Lv(){return new Us(r=>SE(r),oh)}async function _C(r,t){const n=bt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Sa()&&t.ba()&&(s=2):(c=new pC,s=t.ba()?0:1);try{switch(s){case 0:c.ya=await n.onListen(l,!0);break;case 1:c.ya=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Fm(f,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.wa.push(t),t.va(n.onlineState),c.ya&&t.Ca(c.ya)&&Qm(n)}async function vC(r,t){const n=bt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const f=c.wa.indexOf(t);f>=0&&(c.wa.splice(f,1),c.wa.length===0?l=t.ba()?0:1:!c.Sa()&&t.ba()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function EC(r,t){const n=bt(r);let s=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.wa)g.Ca(l)&&(s=!0);f.ya=l}}s&&Qm(n)}function TC(r,t,n){const s=bt(r),l=s.queries.get(t);if(l)for(const c of l.wa)c.onError(n);s.queries.delete(t)}function Qm(r){r.Da.forEach(t=>{t.next()})}var am,zv;(zv=am||(am={})).Fa="default",zv.Cache="cache";class AC{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ka(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Ka.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t){this.key=t}}class aT{constructor(t){this.key=t}}class bC{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=kt(),this.mutatedKeys=kt(),this.Xa=wE(t),this.eu=new Ba(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new Uv,l=n?n.eu:this.eu;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,I)=>{const C=l.get(T),H=lh(this.query,I)?I:null,$=!!C&&this.mutatedKeys.has(C.key),et=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;C&&H?C.data.isEqual(H.data)?$!==et&&(s.track({type:3,doc:H}),Z=!0):this.iu(C,H)||(s.track({type:2,doc:H}),Z=!0,(p&&this.Xa(H,p)>0||_&&this.Xa(H,_)<0)&&(g=!0)):!C&&H?(s.track({type:0,doc:H}),Z=!0):C&&!H&&(s.track({type:1,doc:C}),Z=!0,(p||_)&&(g=!0)),Z&&(H?(f=f.add(H),c=et?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{eu:f,ru:s,Ds:g,mutatedKeys:c}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort((T,I)=>function(H,$){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{At:Z})}};return et(H)-et($)}(T.type,I.type)||this.Xa(T.doc,I.doc)),this.su(s),l=l!=null&&l;const g=n&&!l?this.ou():[],p=this.Za.size===0&&this.current&&!l?1:0,_=p!==this.Ya;return this.Ya=p,f.length!==0||_?{snapshot:new Ka(this.query,t.eu,c,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Uv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=kt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return t.forEach(s=>{this.Za.has(s)||n.push(new aT(s))}),this.Za.forEach(s=>{t.has(s)||n.push(new sT(s))}),n}uu(t){this.Ha=t.qs,this.Za=kt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Ka.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Km="SyncEngine";class SC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class wC{constructor(t){this.key=t,this.lu=!1}}class RC{constructor(t,n,s,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Us(g=>SE(g),oh),this.Tu=new Map,this.Iu=new Set,this.du=new ae(ht.comparator),this.Eu=new Map,this.Au=new km,this.Ru={},this.Vu=new Map,this.mu=Qa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function IC(r,t,n=!0){const s=fT(r);let l;const c=s.Pu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.cu()):l=await oT(s,t,n,!0),l}async function CC(r,t){const n=fT(r);await oT(n,t,!0,!1)}async function oT(r,t,n,s){const l=await FI(r.localStore,oi(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await DC(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&WE(r.remoteStore,l),g}async function DC(r,t,n,s,l){r.gu=(I,C,H)=>async function(et,Z,_t,ut){let ct=Z.view.nu(_t);ct.Ds&&(ct=await Ov(et.localStore,Z.query,!1).then(({documents:M})=>Z.view.nu(M,ct)));const Ot=ut&&ut.targetChanges.get(Z.targetId),pt=ut&&ut.targetMismatches.get(Z.targetId)!=null,Vt=Z.view.applyChanges(ct,et.isPrimaryClient,Ot,pt);return jv(et,Z.targetId,Vt._u),Vt.snapshot}(r,I,C,H);const c=await Ov(r.localStore,t,!0),f=new bC(t,c.qs),g=f.nu(c.documents),p=ql.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);jv(r,n,_._u);const T=new SC(t,n,f);return r.Pu.set(t,T),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),_.snapshot}async function NC(r,t,n){const s=bt(r),l=s.Pu.get(t),c=s.Tu.get(l.targetId);if(c.length>1)return s.Tu.set(l.targetId,c.filter(f=>!oh(f,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await rm(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Bm(s.remoteStore,l.targetId),om(s,l.targetId)}).catch(Ja)):(om(s,l.targetId),await rm(s.localStore,l.targetId,!0))}async function OC(r,t){const n=bt(r),s=n.Pu.get(t),l=n.Tu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Bm(n.remoteStore,s.targetId))}async function VC(r,t,n){const s=zC(r);try{const l=await function(f,g){const p=bt(f),_=ne.now(),T=g.reduce((H,$)=>H.add($.key),kt());let I,C;return p.persistence.runTransaction("Locally write mutations","readwrite",H=>{let $=Ki(),et=kt();return p.Os.getEntries(H,T).next(Z=>{$=Z,$.forEach((_t,ut)=>{ut.isValidDocument()||(et=et.add(_t))})}).next(()=>p.localDocuments.getOverlayedDocuments(H,$)).next(Z=>{I=Z;const _t=[];for(const ut of g){const ct=FR(ut,I.get(ut.key).overlayedDocument);ct!=null&&_t.push(new Hr(ut.key,ct,pE(ct.value.mapValue),li.exists(!0)))}return p.mutationQueue.addMutationBatch(H,_,_t,g)}).next(Z=>{C=Z;const _t=Z.applyToLocalDocumentSet(I,et);return p.documentOverlayCache.saveOverlays(H,Z.batchId,_t)})}).then(()=>({batchId:C.batchId,changes:IE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let _=f.Ru[f.currentUser.toKey()];_||(_=new ae(Ct)),_=_.insert(g,p),f.Ru[f.currentUser.toKey()]=_}(s,l.batchId,n),await Gl(s,l.changes),await mh(s.remoteStore)}catch(l){const c=Fm(l,"Failed to persist write");n.reject(c)}}async function lT(r,t){const n=bt(r);try{const s=await qI(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n.Eu.get(c);f&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.lu=!0:l.modifiedDocuments.size>0?Gt(f.lu,14607):l.removedDocuments.size>0&&(Gt(f.lu,42227),f.lu=!1))}),await Gl(n,s,t)}catch(s){await Ja(s)}}function Bv(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Pu.forEach((c,f)=>{const g=f.view.va(t);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=bt(f);p.onlineState=g;let _=!1;p.queries.forEach((T,I)=>{for(const C of I.wa)C.va(g)&&(_=!0)}),_&&Qm(p)}(s.eventManager,t),l.length&&s.hu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function MC(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let f=new ae(ht.comparator);f=f.insert(c,Xe.newNoDocument(c,At.min()));const g=kt().add(c),p=new hh(At.min(),new Map,new ae(Ct),f,g);await lT(s,p),s.du=s.du.remove(c),s.Eu.delete(t),Ym(s)}else await rm(s.localStore,t,!1).then(()=>om(s,t,n)).catch(Ja)}async function xC(r,t){const n=bt(r),s=t.batch.batchId;try{const l=await jI(n.localStore,t);cT(n,s,null),uT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Gl(n,l)}catch(l){await Ja(l)}}async function PC(r,t,n){const s=bt(r);try{const l=await function(f,g){const p=bt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next(I=>(Gt(I!==null,37113),T=I.keys(),p.mutationQueue.removeMutationBatch(_,I))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,t);cT(s,t,n),uT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Gl(s,l)}catch(l){await Ja(l)}}function uT(r,t){(r.Vu.get(t)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(t)}function cT(r,t,n){const s=bt(r);let l=s.Ru[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Ru[s.currentUser.toKey()]=l}}function om(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||hT(r,s)})}function hT(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Bm(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),Ym(r))}function jv(r,t,n){for(const s of n)s instanceof sT?(r.Au.addReference(s.key,t),kC(r,s)):s instanceof aT?(rt(Km,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||hT(r,s.key)):gt(19791,{yu:s})}function kC(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(rt(Km,"New document in limbo: "+n),r.Iu.add(s),Ym(r))}function Ym(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new ht(ee.fromString(t)),s=r.mu.next();r.Eu.set(s,new wC(n)),r.du=r.du.insert(n,s),WE(r.remoteStore,new Dr(oi(Om(n.path)),s,"TargetPurposeLimboResolution",rh.ue))}}async function Gl(r,t,n){const s=bt(r),l=[],c=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((g,p)=>{f.push(s.gu(p,t,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const I=_?!_.fromCache:(T=n?.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(_){l.push(_);const I=Lm.Es(p.targetId,_);c.push(I)}}))}),await Promise.all(f),s.hu.J_(l),await async function(p,_){const T=bt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Y.forEach(_,C=>Y.forEach(C.Is,H=>T.persistence.referenceDelegate.addReference(I,C.targetId,H)).next(()=>Y.forEach(C.ds,H=>T.persistence.referenceDelegate.removeReference(I,C.targetId,H)))))}catch(I){if(!Wa(I))throw I;rt(zm,"Failed to update sequence numbers: "+I)}for(const I of _){const C=I.targetId;if(!I.fromCache){const H=T.Fs.get(C),$=H.snapshotVersion,et=H.withLastLimboFreeSnapshotVersion($);T.Fs=T.Fs.insert(C,et)}}}(s.localStore,c))}async function UC(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){rt(Km,"User change. New user:",t.toKey());const s=await XE(n.localStore,t);n.currentUser=t,function(c,f){c.Vu.forEach(g=>{g.forEach(p=>{p.reject(new st(K.CANCELLED,f))})}),c.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Gl(n,s.Bs)}}function LC(r,t){const n=bt(r),s=n.Eu.get(t);if(s&&s.lu)return kt().add(s.key);{let l=kt();const c=n.Tu.get(t);if(!c)return l;for(const f of c){const g=n.Pu.get(f);l=l.unionWith(g.view.tu)}return l}}function fT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MC.bind(null,t),t.hu.J_=EC.bind(null,t.eventManager),t.hu.pu=TC.bind(null,t.eventManager),t}function zC(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PC.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return BI(this.persistence,new UI,t.initialUser,this.serializer)}Du(t){return new YE(Um.Vi,this.serializer)}bu(t){return new KI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class BC extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Gt(this.persistence.referenceDelegate instanceof $c,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AI(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new YE(s=>$c.Vi(s,n),this.serializer)}}class lm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Bv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UC.bind(null,this.syncEngine),await gC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new yC}()}createDatastore(t){const n=fh(t.databaseInfo.databaseId),s=function(c){return new JI(c)}(t.databaseInfo);return function(c,f,g,p){return new nC(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,f,g){return new rC(s,l,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Bv(this.syncEngine,n,0),function(){return xv.C()?new xv:new YI}())}createSyncEngine(t,n){return function(l,c,f,g,p,_,T){const I=new RC(l,c,f,g,p,_);return T&&(I.fu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=bt(l);rt(ks,"RemoteStore shutting down."),c.Ia.add(5),await Hl(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="FirestoreClient";class qC{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{rt(jr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(rt(jr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Fm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Pd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(jr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await XE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>{Pr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{rt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{Pr("Terminating Firestore due to IndexedDb database deletion failed",l)})}),r._offlineComponents=t}async function qv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await HC(r);rt(jr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>kv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>kv(t.remoteStore,l)),r._onlineComponents=t}async function HC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(jr,"Using user provided OfflineComponentProvider");try{await Pd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Pr("Error using user provided cache. Falling back to memory cache: "+n),await Pd(r,new Jc)}}else rt(jr,"Using default OfflineComponentProvider"),await Pd(r,new BC(void 0));return r._offlineComponents}async function dT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(jr,"Using user provided OnlineComponentProvider"),await qv(r,r._uninitializedComponentsProvider._online)):(rt(jr,"Using default OnlineComponentProvider"),await qv(r,new lm))),r._onlineComponents}function GC(r){return dT(r).then(t=>t.syncEngine)}async function Hv(r){const t=await dT(r),n=t.eventManager;return n.onListen=IC.bind(null,t.syncEngine),n.onUnlisten=NC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=CC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=OC.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="firestore.googleapis.com",Fv=!0;class Qv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gT,this.ssl=Fv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Fv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=KE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<EI)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $w;switch(s.type){case"firstParty":return new tR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Gv.get(n);s&&(rt("ComponentProvider","Removing Datastore"),Gv.delete(n),s.terminate())}(this),Promise.resolve()}}function FC(r,t,n,s={}){var l;r=Ns(r,gh);const c=Ya(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(h0(`https://${p}`),f0("Firestore",!0)),f.host!==gT&&f.host!==p&&Pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:s});if(!Vs(_,g)&&(r._setSettings(_),s.mockUserToken)){let T,I;if(typeof s.mockUserToken=="string")T=s.mockUserToken,I=Ye.MOCK_USER;else{T=vb(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Ye(C)}r._authCredentials=new Zw(new iE(T,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new eo(this.firestore,t,this._query)}}class Te{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Te(this.firestore,t,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(zl(n,Te._jsonSchema))return new Te(t,s||null,new ht(ee.fromString(n.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:Ee("string",Te._jsonSchemaVersion),referencePath:Ee("string")};class xr extends eo{constructor(t,n,s){super(t,n,Om(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Te(this.firestore,null,new ht(t))}withConverter(t){return new xr(this.firestore,t,this._path)}}function Ac(r,t,...n){if(r=qe(r),sE("collection","path",t),r instanceof gh){const s=ee.fromString(t,...n);return rv(s),new xr(r,null,s)}{if(!(r instanceof Te||r instanceof xr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return rv(s),new xr(r.firestore,null,s)}}function um(r,t,...n){if(r=qe(r),arguments.length===1&&(t=wm.newId()),sE("doc","path",t),r instanceof gh){const s=ee.fromString(t,...n);return iv(s),new Te(r,null,new ht(s))}{if(!(r instanceof Te||r instanceof xr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return iv(s),new Te(r.firestore,r instanceof xr?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="AsyncQueue";class Yv{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ZE(this,"async_queue_retry"),this.oc=()=>{const s=xd();s&&rt(Kv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=xd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ds;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Wa(t))throw t;rt(Kv,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,Qi("INTERNAL UNHANDLED ERROR: ",Xv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const l=Gm.createAndSchedule(this,t,n,s,c=>this.lc(c));return this.ec.push(l),l}ac(){this.tc&&gt(47125,{hc:Xv(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function Xv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Ol extends gh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Yv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yv(t),this._firestoreClient=void 0,await t}}}function QC(r,t){const n=typeof r=="object"?r:p0(),s=typeof r=="string"?r:Hc,l=mm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=yb("firestore");c&&FC(l,...c)}return l}function pT(r){if(r._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KC(r),r._firestoreClient}function KC(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,T){return new pR(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,mT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new qC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g?._online.build();return{_offline:g?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(He.fromBase64String(t))}catch(n){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Vn(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zl(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Ee("string",Vn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(t){if(zl(t,ci._jsonSchema))return new ci(t.latitude,t.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:Ee("string",ci._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zl(t,hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new hi(t.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:Ee("string",hi._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=/^__.*__$/;class XC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,n,this.fieldTransforms):new jl(t,this.data,n,this.fieldTransforms)}}class yT{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Hr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function _T(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ec:r})}}class $m{constructor(t,n,s,l,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new $m(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Rc({path:s,mc:!1});return l.fc(t),l}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Rc({path:s,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Wc(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(_T(this.Ec)&&YC.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class $C{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||fh(t)}Dc(t,n,s,l=!1){return new $m({Ec:t,methodName:n,bc:s,path:je.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zm(r){const t=r._freezeSettings(),n=fh(r._databaseId);return new $C(r._databaseId,!!t.ignoreUndefinedProperties,n)}function ZC(r,t,n,s,l,c={}){const f=r.Dc(c.merge||c.mergeFields?2:0,t,n,l);Jm("Data must be an object, but it was:",f,s);const g=vT(s,f);let p,_;if(c.merge)p=new yn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const I of c.mergeFields){const C=cm(t,I,n);if(!f.contains(C))throw new st(K.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);TT(T,C)||T.push(C)}p=new yn(T),_=f.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=f.fieldTransforms;return new XC(new an(g),p,_)}class yh extends Xm{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof yh}}function JC(r,t,n,s){const l=r.Dc(1,t,n);Jm("Data must be an object, but it was:",l,s);const c=[],f=an.empty();qr(s,(p,_)=>{const T=Wm(t,p,n);_=qe(_);const I=l.gc(T);if(_ instanceof yh)c.push(T);else{const C=Fl(_,I);C!=null&&(c.push(T),f.set(T,C))}});const g=new yn(c);return new yT(f,g,l.fieldTransforms)}function WC(r,t,n,s,l,c){const f=r.Dc(1,t,n),g=[cm(t,s,n)],p=[l];if(c.length%2!=0)throw new st(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(cm(t,c[C])),p.push(c[C+1]);const _=[],T=an.empty();for(let C=g.length-1;C>=0;--C)if(!TT(_,g[C])){const H=g[C];let $=p[C];$=qe($);const et=f.gc(H);if($ instanceof yh)_.push(H);else{const Z=Fl($,et);Z!=null&&(_.push(H),T.set(H,Z))}}const I=new yn(_);return new yT(T,I,f.fieldTransforms)}function t2(r,t,n,s=!1){return Fl(n,r.Dc(s?4:3,t))}function Fl(r,t){if(ET(r=qe(r)))return Jm("Unsupported field value:",t,r),vT(r,t);if(r instanceof Xm)return function(s,l){if(!_T(l.Ec))throw l.wc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const g of s){let p=Fl(g,l.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=qe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:Xc(l.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(s instanceof ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:BE(l.serializer,s._byteString)};if(s instanceof Te){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof hi)return function(f,g){return{mapValue:{fields:{[mE]:{stringValue:gE},[Gc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.wc("VectorValues must only contain numeric values.");return Vm(g.serializer,_)})}}}}}}(s,l);throw l.wc(`Unsupported field value: ${ih(s)}`)}(r,t)}function vT(r,t){const n={};return lE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qr(r,(s,l)=>{const c=Fl(l,t.Vc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function ET(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof ci||r instanceof Vn||r instanceof Te||r instanceof Xm||r instanceof hi)}function Jm(r,t,n){if(!ET(n)||!aE(n)){const s=ih(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function cm(r,t,n){if((t=qe(t))instanceof ph)return t._internalPath;if(typeof t=="string")return Wm(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,n)}const e2=new RegExp("[~\\*/\\[\\]]");function Wm(r,t,n){if(t.search(e2)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ph(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Wc(r,t,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new st(K.INVALID_ARGUMENT,g+r+p)}function TT(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new n2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(bT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n2 extends AT{data(){return super.data()}}function bT(r,t){return typeof t=="string"?Wm(r,t):t instanceof ph?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class r2 extends tg{}function Zv(r,t,...n){let s=[];t instanceof tg&&s.push(t),s=s.concat(n),function(c){const f=c.filter(p=>p instanceof ng).length,g=c.filter(p=>p instanceof eg).length;if(f>1||f>0&&g>0)throw new st(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class eg extends r2{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new eg(t,n,s)}_apply(t){const n=this._parse(t);return ST(t._query,n),new eo(t.firestore,t.converter,Jd(t._query,n))}_parse(t){const n=Zm(t.firestore);return function(c,f,g,p,_,T,I){let C;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Wv(I,T);const $=[];for(const et of I)$.push(Jv(p,c,et));C={arrayValue:{values:$}}}else C=Jv(p,c,I)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Wv(I,T),C=t2(g,f,I,T==="in"||T==="not-in");return ve.create(_,T,C)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class ng extends tg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ng(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)ST(f,p),f=Jd(f,p)}(t._query,n),new eo(t.firestore,t.converter,Jd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Jv(r,t,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new st(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bE(t)&&n.indexOf("/")!==-1)throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!ht.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fv(r,new ht(s))}if(n instanceof Te)return fv(r,n._key);throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function Wv(r,t){if(!Array.isArray(r)||r.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ST(r,t){const n=function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class s2{convertValue(t,n="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return qr(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Gc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>de(f.doubleValue));return new hi(c)}convertGeoPoint(t){return new ci(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ah(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Rl(t));default:return null}}convertTimestamp(t){const n=Ur(t);return new ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Gt(QE(s),9688,{name:t});const l=new Il(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return l.isEqual(n)||Qi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class pl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Os extends AT{constructor(t,n,s,l,c,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(bT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Os._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:Ee("string",Os._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class Mc extends Os{data(t={}){return super.data(t)}}class ja{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Mc(this._firestore,this._userDataWriter,s.key,s,new pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new Mc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Mc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:o2(g.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function o2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:Ee("string",ja._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class wT extends s2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,n)}}function t0(r,t,n,...s){r=Ns(r,Te);const l=Ns(r.firestore,Ol),c=Zm(l);let f;return f=typeof(t=qe(t))=="string"||t instanceof ph?WC(c,"updateDoc",r._key,t,n,s):JC(c,"updateDoc",r._key,t),RT(l,[f.toMutation(r._key,li.exists(!0))])}function e0(r,t){const n=Ns(r.firestore,Ol),s=um(r),l=a2(r.converter,t);return RT(n,[ZC(Zm(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,li.exists(!1))]).then(()=>s)}function n0(r,...t){var n,s,l;r=qe(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||$v(t[f])||(c=t[f++]);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if($v(t[f])){const I=t[f];t[f]=(n=I.next)===null||n===void 0?void 0:n.bind(I),t[f+1]=(s=I.error)===null||s===void 0?void 0:s.bind(I),t[f+2]=(l=I.complete)===null||l===void 0?void 0:l.bind(I)}let p,_,T;if(r instanceof Te)_=Ns(r.firestore,Ol),T=Om(r._key.path),p={next:I=>{t[f]&&t[f](l2(_,r,I))},error:t[f+1],complete:t[f+2]};else{const I=Ns(r,eo);_=Ns(I.firestore,Ol),T=I._query;const C=new wT(_);p={next:H=>{t[f]&&t[f](new ja(_,C,I,H))},error:t[f+1],complete:t[f+2]},i2(r._query)}return function(C,H,$,et){const Z=new jC(et),_t=new AC(H,Z,$);return C.asyncQueue.enqueueAndForget(async()=>_C(await Hv(C),_t)),()=>{Z.Ou(),C.asyncQueue.enqueueAndForget(async()=>vC(await Hv(C),_t))}}(pT(_),T,g,p)}function RT(r,t){return function(s,l){const c=new Ds;return s.asyncQueue.enqueueAndForget(async()=>VC(await GC(s),l,c)),c.promise}(pT(r),t)}function l2(r,t,n){const s=n.docs.get(t._key),l=new wT(r);return new Os(r,l,t._key,s,new pl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){Za=l})(Xa),qa(new Ms("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Ol(new Jw(s.getProvider("auth-internal")),new eR(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(_.options.projectId,T)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Vr(J_,W_,t),Vr(J_,W_,"esm2017")})();const Oa=typeof __app_id<"u"?__app_id:"default-app-id",kd=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyBhOPKsR8ZCnjSQAOpbKGJyflOyfEoQk9Q",authDomain:"reddit-content-assistant.firebaseapp.com",projectId:"reddit-content-assistant",storageBucket:"reddit-content-assistant.firebasestorage.app",messagingSenderId:"481199590667",appId:"1:481199590667:web:fd2310fa11b81f0153e60e",measurementId:"G-JFDRFHS9KL"},i0=typeof __initial_auth_token<"u"?__initial_auth_token:null,Ud=r=>{const t=document.createElement("textarea");t.value=r,document.body.appendChild(t),t.select();try{document.execCommand("copy"),alert("Contenido copiado al portapapeles!")}catch(n){console.error("Error al copiar al portapapeles: ",n),alert("Error al copiar el contenido al portapapeles.")}document.body.removeChild(t)},bc=r=>{const t=r.split(`
`),n=[],s=[/^\s*---\s*$/,/^Hey, fellow entrepreneurs!/,/^\*\*The Challenge:\*\* \[Generate content here that contextualizes the common situation small businesses face\.\]$/,/^\*\*\[Generate a compelling subtitle for the Solution\/Gua - IN BOLD\]\*\*$/,/^\*\*Free\/Low-Cost Resources Mentioned:\*\*$/,/^\*\*Your Turn:\*\*$/,/^\*\*Conclusion:\*\* \[Generate a brief final summary of the benefit or main idea\.\]$/,/^\s*\[Generate a brief and catchy introduction here, grabbing attention and presenting the problem\/benefit\.\]\s*$/,/^\s*\[Generate content here that contextualizes the common situation small businesses face\.\]\s*$/,/^\s*\[Generate the content for the "Solution" with practical tactics, tips, and strategies\. Use bullet points for steps or key takeaways\.\]\s*$/,/^\* \*\*Step-by-Step or Key Points:\*\* Break down information into easy-to-follow sections\.$/,/^\* \*\*Brief Examples\/Hypothetical Cases:\*\* Illustrate points with scenarios that resonate with entrepreneurs\.$/,/^\* \*\*Pro-Tip\/Common Pitfalls:\*\* Share warnings and shortcuts based on experience\.$/,/^\[Resource \d\]: Brief description and why it's valuable\.$/,/^\(Ensure these are resources from reliable companies and mostly free or low-cost\)\.$/,/^\s*\[Generate a Call-to-Action \(CTA\) here to encourage the community to comment, share experiences, or ask questions\.\]\s*$/,/^\s*\[Generate a brief final summary of the benefit or main idea\.\]\s*$/,new RegExp(`^\\*\\*${currentArticleDraft?.title||"NO_TITLE_MATCH"}\\*\\*\\s*$`,"i"),new RegExp(`^${currentArticleDraft?.title||"NO_TITLE_MATCH"}\\s*$`,"i")];for(const l of t){let c=!1;for(const f of s)if(f.test(l)){c=!0;break}c||n.push(l)}return n.filter((l,c,f)=>{const g=l.trim()==="",p=c>0&&f[c-1].trim()==="";return!(g&&p)}).join(`
`).trim()},u2=()=>{const[r,t]=pn.useState(null),[n,s]=pn.useState(null),[l,c]=pn.useState(null),[f,g]=pn.useState(!0),[p,_]=pn.useState(null),[T,I]=pn.useState([]),[C,H]=pn.useState(null),[$,et]=pn.useState([]),[Z,_t]=pn.useState(null),[ut,ct]=pn.useState([]),Ot=async()=>{g(!0),_(null);try{const w=await fetch("https://reddit-api-worker.growmybisznow.workers.dev/fetch-trends",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subreddit:"growmybusinessnow"})});if(!w.ok){const St=await w.json();throw new Error(`Failed to fetch Reddit trends from backend: ${St.message||w.statusText}`)}const b=await w.json();ct(b)}catch(w){console.error("Error fetching Reddit trends:",w),_(`Error fetching Reddit trends: ${w.message}`)}finally{g(!1)}};pn.useEffect(()=>{(async()=>{try{if(kd.apiKey&&kd.apiKey!=="dummy-api-key-for-local-dev"){const St=g0(kd),Tt=QC(St),j=Yw(St);t(Tt),s(j),U1(j,async tt=>{tt?c(tt.uid):i0?await x1(j,i0):await D1(j),g(!1)})}else console.warn("Ejecutando sin una conexin real a Firebase. Las operaciones de Firestore no se persistirn."),g(!1),c("local-dev-user"),t(null),s(null)}catch(b){console.error("Error al inicializar Firebase:",b),_("Error al inicializar la aplicacin. Asegrate de que la configuracin de Firebase sea correcta."),g(!1)}})()},[]),pn.useEffect(()=>{if(!r||l==="local-dev-user")return;const w=Ac(r,`artifacts/${Oa}/users/${l}/article_ideas`),b=Zv(w),St=n0(b,at=>{const Rt=at.docs.map(N=>({id:N.id,...N.data()}));I(Rt)},at=>{console.error("Error al obtener ideas:",at),_("Error al cargar ideas.")}),Tt=Ac(r,`artifacts/${Oa}/public/data/articles`),j=Zv(Tt),tt=n0(j,at=>{const Rt=at.docs.map(N=>({id:N.id,...N.data()}));et(Rt)},at=>{console.error("Error al obtener artculos:",at),_("Error al cargar artculos.")});return()=>{St(),tt()}},[r,l]);const pt=async(w,b=!1,St={})=>{g(!0),_(null);try{const j={contents:[{role:"user",parts:[{text:w}]}]};b&&(j.generationConfig={responseMimeType:"application/json",responseSchema:St});const Rt=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!Rt.ok){const X=await Rt.json();throw new Error(`Error de API: ${Rt.status} - ${X.error.message||"Error desconocido"}`)}const N=await Rt.json();if(N.candidates&&N.candidates.length>0&&N.candidates[0].content&&N.candidates[0].content.parts&&N.candidates[0].content.parts.length>0){const X=N.candidates[0].content.parts[0].text;return b?JSON.parse(X):X}else throw new Error("Respuesta inesperada de la API de Gemini.")}catch(Tt){return console.error("Error al llamar a la API de Gemini:",Tt),_(`Error al generar contenido: ${Tt.message}`),null}finally{g(!1)}},Vt=async()=>{r||console.warn("Firestore no conectado. Generando ideas en memoria.");let w;ut.length>0?w=`You are an expert content strategist for the Reddit community r/growmybusinessnow.

Based on the following list of currently popular post titles from the community:
${ut.map(j=>`- "${j.title}"`).join(`
`)}

Generate 5 new, attractive, and valuable article title ideas that capture a similar style or address related topics. The goal is to create content that will resonate strongly with the community. Focus on practical, actionable strategies for small businesses in the USA, using free or low-cost resources.

Assign each new idea to one of the following flairs:
-  Growth Hacks & Breakthroughs
-  Freebie Fortune Finders
-  Digital Domination Playbook
-  Profit Pathways & Funding Funnel

Output format JSON:
[
    { "title": "New Idea Title 1", "flair": "Corresponding Flair" },
    { "title": "New Idea Title 2", "flair": "Corresponding Flair" },
    ...
]`:w=`Generate 5 attractive and valuable article title ideas for a Reddit community named r/growmybusinessnow, focused on growth strategies for small businesses and entrepreneurs in the USA, using free or low-cost resources. Articles should be practical and actionable.
        Assign each idea to one of the following flairs:
        -  Growth Hacks & Breakthroughs
        -  Freebie Fortune Finders
        -  Digital Domination Playbook
        -  Profit Pathways & Funding Funnel

        Output format JSON:
        [
            { "title": "Idea Title 1", "flair": "Corresponding Flair" },
            { "title": "Idea Title 2", "flair": "Corresponding Flair" },
            ...
        ]`;const St=await pt(w,!0,{type:"ARRAY",items:{type:"OBJECT",properties:{title:{type:"STRING"},flair:{type:"STRING"}},propertyOrdering:["title","flair"]}});if(St)if(r){const Tt=Ac(r,`artifacts/${Oa}/users/${l}/article_ideas`);for(const j of St)await e0(Tt,{...j,status:"pending",createdAt:new Date})}else I(Tt=>[...Tt,...St.map(j=>({...j,id:Math.random().toString(36).substring(2,9),status:"pending",createdAt:new Date}))])},M=async w=>{const b=`Write a detailed and valuable article in ENGLISH for the Reddit community r/growmybusinessnow, with the title "**${w.title}**" and under the flair "${w.flair}".
The article must be practical, actionable, and focused on growth strategies for small businesses and entrepreneurs in the USA, leveraging free or low-cost online resources.
Ensure that the main article title is provided in the prompt's structure, and **do NOT repeat the title within the article's introduction or body content.**
All subtitles within the body of the article must be in **bold Markdown** (using **text**).
Make the language engaging, conversational, and easy to read. Use varied sentence structures and clear, concise points.
Do NOT include any bracketed instructions like "[Generate content here]" or "---" separators in the final article output. Generate the actual content directly for each section.

Follow this structure:

**${w.title}**

Hey, fellow entrepreneurs!

[Generate a brief and catchy introduction here, grabbing attention and presenting the problem/benefit. Do NOT repeat the title in this section.]

**The Challenge:** [Generate content here that contextualizes the common situation small businesses face.]

**[Generate a compelling subtitle for the Solution/Guide - IN BOLD]**

[Generate the content for the "Solution" with practical tactics, tips, and strategies. Use bullet points for steps or key takeaways.]
* **Step-by-Step or Key Points:** Break down information into easy-to-follow sections.
* **Brief Examples/Hypothetical Cases:** Illustrate points with scenarios that resonate with entrepreneurs.
* **Pro-Tip/Common Pitfalls:** Share warnings and shortcuts based on experience.

**Free/Low-Cost Resources Mentioned:**

* [Resource 1]: Brief description and why it's valuable.
* [Resource 2]: Brief description and why it's valuable.
(Ensure these are resources from reliable companies and mostly free or low-cost).

**Your Turn:**

[Generate a Call-to-Action (CTA) here to encourage the community to comment, share experiences, or ask questions.]

**Conclusion:** [Generate a brief final summary of the benefit or main idea.]

The content should be attractive, easy to read, and highly useful. The tone should be optimistic and empowering.
`,St=await pt(b);if(St)if(H({title:w.title,flair:w.flair,content:St,status:"draft",createdAt:new Date,ideaId:w.id}),r){const Tt=um(r,`artifacts/${Oa}/users/${l}/article_ideas`,w.id);await t0(Tt,{status:"approved"})}else I(Tt=>Tt.map(j=>j.id===w.id?{...j,status:"approved"}:j))},S=async()=>{if(!C){_("No hay borrador de artculo para publicar.");return}g(!0);try{if(r){const w=Ac(r,`artifacts/${Oa}/public/data/articles`);await e0(w,{...C,status:"published",publishedAt:new Date,authorId:l}),alert("Artculo guardado en el historial de tu aplicacin!")}else et(w=>[...w,{...C,id:Math.random().toString(36).substring(2,9),status:"published",publishedAt:new Date}]),alert("Artculo guardado en el historial de tu aplicacin (solo en memoria, no persistido)!");H(null)}catch(w){console.error("Error al publicar artculo:",w),_("Error al guardar el artculo.")}finally{g(!1)}},D=async w=>{if(r)try{const b=um(r,`artifacts/${Oa}/users/${l}/article_ideas`,w);await t0(b,{status:"rejected"})}catch(b){console.error("Error al rechazar idea:",b),_("Error al rechazar la idea.")}else console.warn("Firestore no conectado. Rechazando idea en memoria."),I(b=>b.map(St=>St.id===w?{...St,status:"rejected"}:St)),_(null)},V=()=>{if(!C){alert("Por favor, genera un borrador de artculo primero.");return}const w=bc(C.content),b=Tt=>Tt.includes(",")||Tt.includes('"')||Tt.includes(`
`)?`"${Tt.replace(/"/g,'""')}"`:Tt,St=[b(C.title),b(C.flair),b(w)].join(",");Ud(St),alert(`Datos del artculo (Ttulo, Flair, Contenido) copiados como CSV!

Ahora, ve a tu Hoja de Google, selecciona una celda y pega (Ctrl+V o Cmd+V) para aadir este artculo para Make.com.`)},x=async()=>{if(!C){alert("Por favor, genera un borrador de artculo primero.");return}g(!0);try{const w=bc(C.content),b=await fetch("https://reddit-api-worker.growmybisznow.workers.dev/publish-reddit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:C.title,flair:C.flair,content:w,subreddit:"growmybusinessnow"})});if(b.ok){const St=await b.json();alert(`Artculo enviado exitosamente al backend para publicacin en Reddit! Estado: ${St.status||"xito"}`),S()}else{const St=await b.json();alert(`Fallo al enviar el artculo al backend para publicacin en Reddit: ${St.message||b.statusText}`)}}catch(w){console.error("Error al publicar en Reddit a travs del backend:",w),alert(`Ocurri un error al intentar publicar en Reddit: ${w.message}`)}finally{g(!1)}};return f&&!l?it.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:it.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[it.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Cargando aplicacin y autenticando..."}),it.jsx("div",{className:"mt-4 animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto"})]})}):p?it.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-100 p-4",children:it.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[it.jsx("p",{className:"text-lg font-semibold text-red-700",children:"Error:"}),it.jsx("p",{className:"text-gray-600 mt-2",children:p})]})}):it.jsxs("div",{className:"min-h-screen bg-gray-50 font-inter text-gray-800 p-4 sm:p-6 lg:p-8",children:[it.jsxs("header",{className:"bg-white shadow-sm rounded-lg p-4 mb-6 flex flex-col sm:flex-row justify-between items-center",children:[it.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-green-700 mb-2 sm:mb-0",children:[it.jsx("span",{className:"text-gray-600",children:"r/"}),"growmybusinessnow Content Assistant"]}),it.jsxs("div",{className:"text-sm text-gray-500",children:["ID de Usuario: ",it.jsx("span",{className:"font-mono text-gray-700 break-all",children:l})]})]}),it.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[it.jsxs("section",{className:"lg:col-span-1 bg-white p-6 rounded-lg shadow-md flex flex-col",children:[it.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Tendencias de Reddit"}),it.jsx("button",{onClick:Ot,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out mb-4 w-full",disabled:f,children:f?"Analizando...":"Analizar Tendencias"}),ut.length===0&&!f&&it.jsx("p",{className:"text-gray-500 text-center mt-4",children:"Analiza las tendencias para ver los posts populares."}),it.jsx("div",{className:"space-y-3 flex-grow overflow-y-auto max-h-[400px] lg:max-h-[unset]",children:ut.map(w=>it.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-gray-50",children:[it.jsx("a",{href:`https://reddit.com${w.permalink}`,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-medium text-blue-600 hover:underline",children:w.title}),it.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[it.jsxs("span",{children:["Upvotes: ",w.score]})," | ",it.jsxs("span",{children:["Comentarios: ",w.num_comments]})]})]},w.id))})]}),it.jsxs("section",{className:"lg:col-span-1 bg-white p-6 rounded-lg shadow-md flex flex-col",children:[it.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Ideas Sugeridas"}),it.jsx("button",{onClick:Vt,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out mb-4 w-full",disabled:f,children:f?"Generando...":"Generar Nuevas Ideas"}),T.length===0&&!f&&it.jsx("p",{className:"text-gray-500 text-center mt-4",children:'Haz clic en "Generar Nuevas Ideas" para empezar.'}),it.jsx("div",{className:"space-y-3 flex-grow overflow-y-auto max-h-[400px] lg:max-h-[unset]",children:T.filter(w=>w.status==="pending").map(w=>it.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[it.jsx("p",{className:"text-lg font-medium text-gray-800",children:w.title}),it.jsx("span",{className:"text-sm text-green-600 font-semibold",children:w.flair}),it.jsxs("div",{className:"mt-3 flex space-x-2",children:[it.jsx("button",{onClick:()=>M(w),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white text-sm py-2 px-3 rounded-md transition duration-300",disabled:f,children:f?"Generando...":"Aprobar y Generar Borrador"}),it.jsx("button",{onClick:()=>D(w.id),className:"bg-red-500 hover:bg-red-600 text-white text-sm py-2 px-3 rounded-md transition duration-300",disabled:f,children:"Rechazar"})]})]},w.id))})]}),it.jsxs("section",{className:"lg:col-span-1 bg-white p-6 rounded-lg shadow-md flex flex-col",children:[it.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Borrador de Artculo"}),f&&it.jsxs("div",{className:"text-center py-8",children:[it.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-green-500 mx-auto"}),it.jsx("p",{className:"mt-4 text-gray-600",children:"Generando borrador, por favor espera..."})]}),C?it.jsxs("div",{className:"flex-grow flex flex-col",children:[it.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:C.title}),it.jsx("span",{className:"text-md text-green-600 font-semibold mb-4",children:C.flair}),it.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 flex-grow overflow-y-auto max-h-[500px] lg:max-h-[unset] prose prose-sm sm:prose lg:prose-lg",children:it.jsx("div",{dangerouslySetInnerHTML:{__html:C.content.replace(/\n/g,"<br/>")}})}),it.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[it.jsx("button",{onClick:S,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out",disabled:f,children:"Guardar en Historial de la App"}),it.jsx("button",{onClick:()=>Ud(bc(C.content)),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out",children:"Copiar Contenido Limpio"}),it.jsx("button",{onClick:V,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out",disabled:f,children:"Exportar a Hoja de Google (Copiar Datos)"}),it.jsx("button",{onClick:x,className:"flex-1 bg-red-700 hover:bg-red-800 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out",disabled:f,children:"Publicar en Reddit (va Backend)"}),it.jsx("button",{onClick:()=>H(null),className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out",children:"Descartar Borrador"})]})]}):it.jsx("p",{className:"text-gray-500 text-center mt-8",children:"Selecciona una idea para generar un borrador de artculo aqu."})]}),it.jsxs("section",{className:"lg:col-span-3 bg-white p-6 rounded-lg shadow-md mt-6",children:[it.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Mis Artculos Publicados"}),$.length===0&&!f&&it.jsx("p",{className:"text-gray-500 text-center",children:"An no hay artculos publicados."}),it.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(w=>it.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[it.jsx("h3",{className:"text-lg font-medium text-gray-800",children:w.title}),it.jsx("span",{className:"text-sm text-green-600 font-semibold",children:w.flair}),it.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Publicado: ",new Date(w.publishedAt?.toDate()).toLocaleDateString()]}),it.jsx("button",{onClick:()=>_t(w),className:"mt-3 bg-blue-500 hover:bg-blue-600 text-white text-sm py-1.5 px-3 rounded-md transition duration-300 w-full",children:"Ver Artculo"})]},w.id))}),Z&&it.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:it.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto relative",children:[it.jsx("button",{onClick:()=>_t(null),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-800 text-2xl font-bold",children:""}),it.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:Z.title}),it.jsx("span",{className:"text-md text-green-600 font-semibold mb-4",children:Z.flair}),it.jsx("div",{className:"prose prose-sm sm:prose lg:prose-lg mt-4",children:it.jsx("div",{dangerouslySetInnerHTML:{__html:Z.content.replace(/\n/g,"<br/>")}})}),it.jsx("button",{onClick:()=>Ud(bc(Z.content)),className:"mt-6 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out w-full",children:"Copiar Contenido Limpio"})]})})]})]})]})};lb.createRoot(document.getElementById("root")).render(it.jsx(tb.StrictMode,{children:it.jsx(u2,{})}));
